!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Alo=e():t.Alo=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=220)}([function(t,e){var n=Array.isArray;t.exports=n},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(86),i=r(o),a=function(){};a.prototype.cloneDeep=n(184),a.prototype.filter=n(186),a.prototype.values=n(206),a.prototype.forEach=n(187),a.prototype.isFunction=n(22),a.prototype.isString=n(194),a.prototype.isObject=n(1),a.prototype.merge=n(197),a.prototype.isEqual=n(192),a.prototype.isPlainObject=n(79),a.prototype.isArray=n(0),a.prototype.map=n(195),a.prototype.isBoolean=n(191),a.prototype.isInteger=n(193),a.prototype.uniqueId=n(205),a.prototype.toPairs=n(203);var u=n(87);a.prototype.createStream=u.stream,a.prototype.combineStreams=u.combine,a.prototype.isStream=u.isStream,a.prototype.immediateStream=u.immediate,a.prototype.streamEndsOn=u.endsOn,a.prototype.mapStream=u.map,a.prototype.streamOn=u.on,a.prototype.scanStream=u.scan,a.prototype.mergeStream=u.merge,a.prototype.transduceStream=u.transduce,a.prototype.createPolymorphic=n(207),a.prototype.Promise=i.default,a.prototype.createPromise=function(t,e){return new this.Promise(t,e)},a.prototype.createAlo=function(){var t=n(25),e=Object.create(t.prototype);return t.apply(e,arguments),e},e.default=a},function(t,e,n){var r=n(70),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){function r(t){return null==t?void 0===t?c:u:s&&s in Object(t)?i(t):a(t)}var o=n(10),i=n(144),a=n(171),u="[object Null]",c="[object Undefined]",s=o?o.toStringTag:void 0;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=r(o),a=new i.default,u={get:{relation:!0},add:{relation:!0},remove:{relation:!0},relatedTo:{relation:!0},indexOf:{relation:!0},setIndexOf:{relation:!0},getId:{}},c=function(t,e){return e=e.split(""),e[0]=e[0].toUpperCase(),e=e.join(""),t+e},s=function(){l.apply(this,arguments)},l=a.createPolymorphic();l.signature("string, string, function",function(t,e,n){var r=this;if(""===t||""===e)throw new Error("Argument given should not be empty");this.idPropertyName="_id",this.parentName=t,this.relationName=e,this.relationByIdPropertyName="_"+e+"RelationsById",this.relationPropertyName="_"+e+"Relations",this.isRelationObject=n,this.functions={},a.forEach(u,function(n,o){r.functions[o]={before:[],after:[]},n.relation===!0&&(r.functions[o].parentName=c(o,t),r.functions[o].relationName=c(o,e))})}),s.prototype.constructParent=function(t){if(null===t[this.idPropertyName]||void 0===t[this.idPropertyName]){var e=a.uniqueId();t[this.idPropertyName]=e}t[this.relationByIdPropertyName]={},t[this.relationPropertyName]=[]},s.prototype.registerParentPrototype=function(t){var e=this,n=function(t,n){return function(){var r=this,o=a.values(arguments);o.unshift(e),a.forEach(e.functions[t].before,function(t){t.call(r)});var i=n.apply(r,o);return a.forEach(e.functions[t].after,function(t){t.call(r)}),i}};a.forEach(e.functions,function(r,o){var i=o;a.isString(r.relationName)&&""!==r.relationName&&(i=r.relationName),t[i]=n(o,e[o+"Function"])})},s.prototype.getIdFunction=function(t){return this[t.idPropertyName]},s.prototype.getFunction=a.createPolymorphic();var f=s.prototype.getFunction;f.signature("object, boolean b=true",function(t,e){var n=this;if(e)return this[t.relationByIdPropertyName];var r=[];return a.forEach(this[t.relationPropertyName],function(e){r.push(f.call(n,t,e))}),r}),f.signature("object, string",function(t,e){if(""===e)throw new Error("Argument given should not be an empty string");return null!==this[t.relationByIdPropertyName][e]&&this[t.relationByIdPropertyName][e]}),s.prototype.addFunction=a.createPolymorphic();var p=s.prototype.addFunction;p.signature("object, object, integer a=-1, boolean b=false",function(t,e,n,r){if(!t.isRelationObject.call(this,e))throw new Error("Argument given is not a "+t.relationName);var o=e.getId();if(!a.isString(o)||""===o)throw new Error("Id is not a string or empty");return r!==!0&&e[t.functions.add.parentName](this,-1,!0),this[t.relationByIdPropertyName][o]=e,n>=0?this[t.relationPropertyName].splice(n,0,o):this[t.relationPropertyName].push(o),this}),p.signature("object, array",function(t,e){var n=this;return a.forEach(e,function(e){p.call(n,t,e,-1)}),this}),p.signature("object, object, object, ...",function(t,e,n,r){var o=[e,n];return p.call(this,t,o.concat(r),-1)}),s.prototype.removeFunction=a.createPolymorphic();var h=s.prototype.removeFunction;h.signature("object, string, boolean b=false",function(t,e,n){if(""===e)throw new Error("Argument given should not be empty");a.isBoolean(n)&&n===!0||t.isRelationObject.call(this,this[t.relationPropertyName][e])&&this[t.relationByIdPropertyName][e][t.functions.remove.parentName](this.getId(),!0),delete this[t.relationByIdPropertyName][e];var r=this[t.relationPropertyName].indexOf(e);return r>-1&&this[t.relationPropertyName].splice(r,1),this}),h.signature("object, object, boolean b=false",function(t,e,n){if(t.isRelationObject.call(this,e)){var r=e.getId();return h.call(this,t,r,n)}throw new Error("Argument given is not a "+t.relationName)}),h.signature("object",function(t){var e=this;return a.forEach(this[t.relationPropertyName],function(n){h.call(e,t,n)}),this}),s.prototype.relatedToFunction=function(t,e){return d.apply(this,arguments)>-1},s.prototype.indexOfFunction=function(t,e){var n=null;if(a.isString(e)||a.isInteger(e))n=e;else{if(!t.isRelationObject.call(this,e))throw new Error("Argument given should be an id or a "+t.relationName);n=e.getId()}return this[t.relationPropertyName].indexOf(n)};var d=s.prototype.indexOfFunction;s.prototype.setIndexOfFunction=function(t,e,n){if(a.isInteger(n)){var r=null;if(a.isString(e)||a.isInteger(e))r=e;else{if(!t.isRelationObject.call(this,e))throw new Error("Argument given should be an id or a "+t.relationName);r=e.getId()}var o=this[t.relationPropertyName].indexOf(r);return o!==-1&&o!==n&&(delete this[t.relationPropertyName][o],this[t.relationPropertyName].splice(n,0,r)),n}throw new Error("Argument for index should be an integer")},s.prototype.before=a.createPolymorphic();var v=s.prototype.before;v.signature("string, function",function(t,e){this.functions[t].before.push(e)}),s.prototype.after=a.createPolymorphic();var y=s.prototype.after;y.signature("string, function",function(t,e){this.functions[t].after.push(e)}),e.default=s},function(t,e,n){function r(t,e){var n=i(t,e);return o(n)?n:void 0}var o=n(108),i=n(145);t.exports=r},function(t,e,n){function r(t){return a(t)?o(t):i(t)}var o=n(55),i=n(110),a=n(9);t.exports=r},function(t,e,n){function r(t){return null!=t&&i(t.length)&&!o(t)}var o=n(22),i=n(40);t.exports=r},function(t,e,n){var r=n(3),o=r.Symbol;t.exports=o},function(t,e,n){function r(t,e,n,r){var a=!n;n||(n={});for(var u=-1,c=e.length;++u<c;){var s=e[u],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),a?i(n,s,l):o(n,s,l)}return n}var o=n(59),i=n(28);t.exports=r},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(157),i=n(158),a=n(159),u=n(160),c=n(161);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=u,r.prototype.set=c,t.exports=r},function(t,e,n){function r(t){var e=this.__data__=new o(t);this.size=e.size}var o=n(13),i=n(178),a=n(179),u=n(180),c=n(181),s=n(182);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=u,r.prototype.has=c,r.prototype.set=s,t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}t.exports=n},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}var o=n(12);t.exports=r},function(t,e,n){function r(t,e){var n=t.__data__;return o(e)?n["string"==typeof e?"string":"hash"]:n.map}var o=n(155);t.exports=r},function(t,e,n){var r=n(7),o=r(Object,"create");t.exports=o},function(t,e,n){function r(t){if("string"==typeof t||o(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}var o=n(23),i=1/0;t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){(function(t){var r=n(3),o=n(199),i="object"==typeof e&&e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i,c=u?r.Buffer:void 0,s=c?c.isBuffer:void 0,l=s||o;t.exports=l}).call(e,n(44)(t))},function(t,e,n){function r(t){if(!i(t))return!1;var e=o(t);return e==u||e==c||e==a||e==s}var o=n(5),i=n(1),a="[object AsyncFunction]",u="[object Function]",c="[object GeneratorFunction]",s="[object Proxy]";t.exports=r},function(t,e,n){function r(t){return"symbol"==typeof t||i(t)&&o(t)==a}var o=n(5),i=n(4),a="[object Symbol]";t.exports=r},function(t,e,n){function r(t){return a(t)?o(t,!0):i(t)}var o=n(55),i=n(111),a=n(9);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(2),i=r(o),a=function(t){this.util=new i.default,this._id=this.util.isString(t)&&""!==t?t:this.util.uniqueId()};a.prototype.createSubscription=function(){var t=n(50),e=Object.create(t.prototype);return e._alo=this,t.apply(e,arguments),e},a.prototype.isSubscription=function(t){var e=n(50);return t instanceof e},a.prototype.createDependency=function(){var t=n(45),e=Object.create(t.prototype);return e._alo=this,t.apply(e,arguments),e},a.prototype.isDependency=function(t){var e=n(45);return t instanceof e},a.prototype.createMember=function(){var t=n(46),e=Object.create(t.prototype);return e._alo=this,t.apply(e,arguments),e},a.prototype.isMember=function(t){var e=n(46);return t instanceof e},a.prototype.createReducer=function(){var t=n(48),e=Object.create(t.prototype);return e._alo=this,t.apply(e,arguments),e},a.prototype.isReducer=function(t){var e=n(48);return t instanceof e},a.prototype.createStore=function(){var t=n(49),e=Object.create(t.prototype);return e._alo=this,t.apply(e,arguments),e},a.prototype.isStore=function t(e,r){r=r===!0;var o=n(49),t=e instanceof o,i=!r||e._alo&&e._alo._id===this._id;return t&&i},a.prototype.isMiddleware=function(t){var e=n(47);return t instanceof e},a.prototype.createMiddleware=function(){var t=n(47),e=Object.create(t.prototype);return e._alo=this,t.apply(e,arguments),e},t.exports=a},function(t,e,n){var r=n(7),o=n(3),i=r(o,"Map");t.exports=i},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(162),i=n(163),a=n(164),u=n(165),c=n(166);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=u,r.prototype.set=c,t.exports=r},function(t,e,n){function r(t,e,n){"__proto__"==e&&o?o(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var o=n(68);t.exports=r},function(t,e,n){var r=n(103),o=n(137),i=o(r);t.exports=i},function(t,e,n){function r(t,e,n,a,u){return t===e||(null==t||null==e||!i(t)&&!i(e)?t!==t&&e!==e:o(t,e,n,a,r,u))}var o=n(106),i=n(4);t.exports=r},function(t,e,n){function r(t){var e=new t.constructor(t.byteLength);return new o(e).set(new o(t)),e}var o=n(52);t.exports=r},function(t,e,n){var r=n(76),o=r(Object.getPrototypeOf,Object);t.exports=o},function(t,e,n){var r=n(54),o=n(80),i=Object.prototype,a=i.propertyIsEnumerable,u=Object.getOwnPropertySymbols,c=u?function(t){return null==t?[]:(t=Object(t),r(u(t),function(e){return a.call(t,e)}))}:o;t.exports=c},function(t,e,n){var r=n(88),o=n(26),i=n(90),a=n(91),u=n(93),c=n(5),s=n(78),l="[object Map]",f="[object Object]",p="[object Promise]",h="[object Set]",d="[object WeakMap]",v="[object DataView]",y=s(r),_=s(o),g=s(i),m=s(a),b=s(u),w=c;(r&&w(new r(new ArrayBuffer(1)))!=v||o&&w(new o)!=l||i&&w(i.resolve())!=p||a&&w(new a)!=h||u&&w(new u)!=d)&&(w=function(t){var e=c(t),n=e==f?t.constructor:void 0,r=n?s(n):"";if(r)switch(r){case y:return v;case _:return l;case g:return p;case m:return h;case b:return d}return e}),t.exports=w},function(t,e){function n(t,e){return e=null==e?r:e,!!e&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){function r(t,e){if(o(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(u.test(t)||!a.test(t)||null!=e&&t in Object(e))}var o=n(0),i=n(23),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;t.exports=r},function(t,e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||r;return t===n}var r=Object.prototype;t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e,n){var r=n(105),o=n(4),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=c},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){var r=n(109),o=n(124),i=n(170),a=i&&i.isTypedArray,u=a?o(a):r;t.exports=u},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t&&t["@@functional/placeholder"]===!0}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,configurable:!1,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,configurable:!1,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(6),i=r(o),a=n(2),u=r(a),c=new u.default,s=new i.default("dependency","parentDependency",function(){return this._alo.isDependency.apply(this._alo,arguments)}),l=new i.default("parentDependency","dependency",function(){return this._alo.isDependency.apply(this._alo,arguments)}),f=new i.default("dependency","store",function(){return this._alo.isStore.apply(this._alo,arguments)}),p=new i.default("dependency","subscription",function(){return this._alo.isSubscription.apply(this._alo,arguments)}),h=new i.default("dependency","member",function(){return this._alo.isMember.apply(this._alo,arguments)}),d=function(){this._beforeDependencies={},this._afterDependencies={},this._cache={},s.constructParent(this),l.constructParent(this),f.constructParent(this),p.constructParent(this),h.constructParent(this),this.add.apply(this,arguments)};s.registerParentPrototype(d.prototype),l.registerParentPrototype(d.prototype),f.registerParentPrototype(d.prototype),p.registerParentPrototype(d.prototype),h.registerParentPrototype(d.prototype),d.prototype.get=c.createPolymorphic();var v=d.prototype.get;v.signature("string a=after",function(t){switch(t){case"before":return this._beforeDependencies;case"after":return this._afterDependencies;default:throw new Error("Argument for type should be before or after")}}),d.prototype.add=c.createPolymorphic();var y=d.prototype.add;y.signature("",function(){}),y.signature("object, string b=after",function(t,e){var n=this;if(["before","after"].indexOf(e)===-1)throw new Error("Argument type should be before or after");return c.forEach(t,function(t,r){c.isArray(t)?n.add(r,t[0],t[1],e):n.add(r,t,e)}),this}),y.signature("string, array, function, string a=after",function(t,e,n,r){switch(c.forEach(e,function(t){if(!c.isString(t)||""===t)throw new Error("Dependency should be a string and not empty")}),r){case"before":this._beforeDependencies[t]=[e,n];break;case"after":this._afterDependencies[t]=[e,n];break;default:throw new Error("Type should be before or after")}return this}),y.signature("string, function, string a=after",function(t,e,n){return y.call(this,t,[],e,n)}),d.prototype.remove=function(t,e){if(void 0!==e&&["before","after"].indexOf(e)===-1)throw new Error("Argument for type should be before or after");return void 0!==e&&"before"!==e||(this._beforeDependencies=!1),void 0!==e&&"after"!==e||(this._afterDependencies=!1),this},d.prototype.reduceRecursive=function(t,e,n){var r=this;return c.Promise.resolve().then(function(){if(t.length>0){var o=0,i=function i(){return void 0!==t[o]?r._alo.isDependency(t[o])?c.Promise.resolve().then(function(){return t[o].reduce(e,n)}).then(function(t){return n.computed=t,o++,i()}):(o++,i()):n.computed};return i()}return{}})},d.prototype.reduce=function(t,e){var n=this;n._cache[t]=n._cache[t]||{};var r=function(t,e){var n=c.toPairs(t);void 0===e&&(e=[]);var r=0,i=function i(){return void 0!==n[r]?c.Promise.resolve().then(function(){return o(e,n[r],t)}).then(function(t){return e=t,r++,i()}):e};return i()},o=function(o,i,a){var u=i[0],s=i[1][0],l=i[1][1];return o.indexOf(u)===-1?c.Promise.resolve().then(function(){if(s.length>0){var t=c.filter(s,function(t){return void 0===e.computed[t]}),n={};return c.forEach(t,function(t){n[t]=a[t]}),r(n,o)}return o}).then(function(r){var o=!0;return s.length>0&&(o=!1,c.forEach(s,function(r){if(!c.isEqual(e.computed[r],n._cache[t][r]))return o=!0,!1})),o?c.isFunction(l)?l(e.state,e.computed,e.action):null:n._cache[t][u]}).then(function(t){return void 0===t&&(t=null),e.computed[u]=t,o.push(u),o}):o},i={before:this.get("before"),after:this.get("after")};return c.Promise.resolve().then(function(){return r(i.before,[])}).then(function(t){var r=0,o=n.getDependency(!1),i=function t(){return void 0===o[r]||(n._alo.isDependency(o[r])?c.Promise.resolve().then(function(){return o[r].reduce(n.getId(),e)}).then(function(n,o){return e.computed=n,r++,t()}):(r++,t()))};return i()}).then(function(){return r(i.after,[])}).then(function(){return n._cache[t]=e.computed,e.computed})},t.exports=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(6),i=r(o),a=n(2),u=r(a),c=new u.default,s=new i.default("member","subscription",function(){return this._alo.isSubscription.apply(this._alo,arguments)}),l=new i.default("member","dependency",function(){return this._alo.isDependency.apply(this._alo,arguments)}),f=function(){this._dependency={},this._function=null,this._enabled=!0,this._lastData=null,s.constructParent(this),l.constructParent(this),p.apply(this,arguments)},p=c.createPolymorphic();p.signature("function",function(t){this.setFunction(t)}),p.signature("object",function(t){this.addDependency(t)}),p.signature("object, function",function(t,e){this.addDependency(t),this.setFunction(e)}),s.registerParentPrototype(f.prototype),l.registerParentPrototype(f.prototype),f.prototype._call=function(t,e){var n=this;if(this.isEnabled()){var r=n.getFunction();if(c.isFunction(r))return c.Promise.resolve().then(function(){var r=n.getDependency(!1);if(r.length>0){var o={state:t,computed:{}};return r[0].reduceRecursive(r,n.getId(),o)}return e}).then(function(e){var o=c.values(e).length;(null===n._lastData||0===o||o>0&&!c.isEqual(n._lastData,e))&&(n._lastData=e,r(t,e))})}return this},f.prototype.createDependency=function(){var t=this._alo.createDependency.apply(this._alo,arguments);return this.addDependency(t),t},f.prototype.disable=function(){return this._enabled=!1,this},f.prototype.enable=function(){return this._enabled=!0,this},f.prototype.isEnabled=function(){return this._enabled},f.prototype.getFunction=function(){return this._function},f.prototype.setFunction=function(t){if(!c.isFunction(t))throw new Error("Argument given needs to be a function");return this._function=t,this},f.prototype.stop=function(){return this.disable(),this.removeSubscription(),this},t.exports=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(6),i=r(o),a=n(2),u=r(a),c=n(51),s=new u.default,l=new c(!0),f=new i.default("middleware","parentMiddleware",function(){return this._alo.isMiddleware.apply(this._alo,arguments)}),p=new i.default("parentMiddleware","middleware",function(){return this._alo.isMiddleware.apply(this._alo,arguments)}),h=new i.default("middleware","store",function(){return this._alo.isStore.apply(this._alo,arguments)}),d=function(){l.constructParent(this),f.constructParent(this),p.constructParent(this),h.constructParent(this),l.constructParent(this),v.apply(this,arguments)},v=s.createPolymorphic();v.signature("",function(){}),v.signature("function",function(t){this.setCustomizer(t,"prepare")}),v.signature("array",function(t){this.addMiddleware(t)}),v.signature("function, function",function(t,e){this.setCustomizer(t,"prepare"),this.setCustomizer(e)}),v.signature("function, array",function(t,e){this.setCustomizer(t,"prepare"),this.addMiddleware(e)}),v.signature("function, function, array",function(t,e,n){this.setCustomizer(t,"prepare"),this.setCustomizer(e),this.addMiddleware(n)}),l.registerParentPrototype(d.prototype),f.registerParentPrototype(d.prototype),p.registerParentPrototype(d.prototype),h.registerParentPrototype(d.prototype),d.prototype.createMiddleware=function(){var t=this._alo.createMiddleware.apply(this._alo,arguments);return this.addMiddleware(t),t},d.prototype.meddleRecursive=function(t,e){var n=this;e=s.values(e);var r=e[0];if(s.isArray(t))return 0===t.length?e.slice(1):s.Promise.resolve().then(function(){return n._alo.isMiddleware(t[0])?t[0].meddle(e):e.slice(1)}).then(function(o){return o=s.values(o),void 0===o[0]?o=e:o.unshift(r),e=o,t=t.slice(1),n.meddleRecursive(t,o)});throw new Error("Argument given should be an array")},d.prototype.meddle=function(t){var e=this;t=s.values(t);var n=t[0];t=t.slice(1);var r=function(e){return void 0===e?e=t:s.isArray(e)||(e=[e]),t=s.cloneDeep(e),e};return s.Promise.resolve().then(function(){var r=s.cloneDeep(t);return r.unshift(n),r.unshift("prepare"),e.callCustomizer.apply(e,r)}).then(function(t){return s.Promise.all(r(t))}).then(function(t){return t.unshift(n),e.meddleRecursive(e.getMiddleware(!1),t)}).then(function(t){return s.Promise.all(r(t))}).then(function(t){return t.unshift(n),t.unshift("finalize"),e.callCustomizer.apply(e,t)}).then(function(t){return s.Promise.all(r(t))}).then(function(t){return t})},t.exports=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(6),i=r(o),a=n(2),u=r(a),c=n(51),s=new u.default,l=new c(!1),f=new i.default("reducer","store",function(){return this._alo.isStore.apply(this._alo,arguments)}),p=new i.default("reducer","parentReducer",function(){return this._alo.isReducer.apply(this._alo,arguments)}),h=new i.default("parentReducer","reducer",function(){return this._alo.isReducer.apply(this._alo,arguments)}),d=function(){this._enabled=!0,this._id=null,this._reducerRelations=null,this._storeRelations=null,l.constructParent(this),f.constructParent(this),p.constructParent(this),h.constructParent(this),v.apply(this,arguments)},v=s.createPolymorphic();v.signature("",function(){}),v.signature("function",function(t){this.setCustomizer(t,"prepare")}),v.signature("array",function(t){this.addReducer(t)}),v.signature("function, function",function(t,e){this.setCustomizer(t,"prepare"),this.setCustomizer(e)}),v.signature("function, array",function(t,e){this.setCustomizer(t,"prepare"),this.addReducer(e)}),v.signature("function, function, array",function(t,e,n){this.setCustomizer(t,"prepare"),this.setCustomizer(e),this.addReducer(n)}),d.prototype.getId=null,d.prototype.addStore=null,d.prototype.removeStore=null,l.registerParentPrototype(d.prototype),f.registerParentPrototype(d.prototype),p.registerParentPrototype(d.prototype),h.registerParentPrototype(d.prototype),d.prototype.createReducer=function(){var t=this._alo.createReducer.apply(this._alo,arguments);return this.addReducer(t),t},d.prototype.reduce=function(t,e){if(this.isEnabled()){var n=this.callCustomizer("prepare",s.cloneDeep(t),e);void 0!==n&&(t=n),s.forEach(this.getReducer(!1),function(n){t=n.reduce(s.cloneDeep(t),e)}),n=this.callCustomizer("finalize",s.cloneDeep(t),e),void 0!==n&&(t=n)}return t},d.prototype.disable=function(){return this._enabled=!1,this},d.prototype.enable=function(){return this._enabled=!0,this},d.prototype.isEnabled=function(){return this._enabled},d.prototype.stop=function(){return this.removeStore(),this.disable(),this},t.exports=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(85),i=n(6),a=r(i),u=n(2),c=r(u),s=new c.default,l=new a.default("store","reducer",function(){return this._alo.isReducer.apply(this._alo,arguments)}),f=new a.default("store","subscription",function(){return this._alo.isSubscription.apply(this._alo,arguments)}),p=new a.default("store","middleware",function(){return this._alo.isMiddleware.apply(this._alo,arguments)}),h=new a.default("store","computedProperty",function(){return this._alo.isDependency.apply(this._alo,arguments)}),d=function(t,e){void 0!==t&&null!==t||(t={}),t={state:t,computed:{},action:{type:null,payload:null}},this._id=null,null!=e&&(0,o.isString)(e)&&(e=e.trim(),""!==e&&(this._id=e)),this._stream=s.createStream(t),this._reducerRelations=null,this._middlewareRelations=null,this._subscriptionRelations=null,this._computedProperty={},l.constructParent(this),p.constructParent(this),f.constructParent(this),h.constructParent(this)};d.prototype.getId=null,d.prototype.getReducer=null,d.prototype.addReducer=null,d.prototype.removeReducer=null,d.prototype.getMiddleware=null,d.prototype.addMiddleware=null,d.prototype.removeMiddleware,d.prototype.getSubscription=null,d.prototype.addSubscription=null,d.prototype.removeSubscription=null,l.registerParentPrototype(d.prototype),p.registerParentPrototype(d.prototype),f.registerParentPrototype(d.prototype),h.registerParentPrototype(d.prototype),d.prototype.createReducer=function(){var t=this._alo.createReducer.apply(this._alo,arguments);return this.addReducer(t),t},d.prototype.mapState=function(t){if(s.isFunction(t))return s.map(this.getState(),t);throw new Error("Argument given should be a function")},d.prototype.mapData=function(t){if(s.isFunction(t))return s.map(this.getData(),t);throw new Error("Argument given should be a function")},d.prototype.mapStream=function(t){if(s.isFunction(t))return s.mapStream(t,this.getStream());throw new Error("Argument given should be a function")},d.prototype.getStream=function(){return this._stream},d.prototype.getData=function(){return s.cloneDeep(this.getStream()())},d.prototype.getState=function(){return this.getData().state},d.prototype.createComputedProperty=function(){var t=this._alo.createDependency.apply(this._alo,arguments);return this.addComputedProperty(t),t},d.prototype.createSubscription=function(){var t=this._alo.createSubscription.apply(this._alo,arguments);return this.addSubscription(t),t},d.prototype.subscribe=d.prototype.createSubscription,d.prototype.dispatch=function(){var t=this,e=s.values(arguments),n=function(t){return void 0===t.type&&(t.type=null),void 0===t.payload&&(t.payload=null),t};return s.Promise.resolve().then(function(){var n=t.getMiddleware(!1);return n.length>0&&t._alo.isMiddleware(n[0])?(e.unshift(t),s.Promise.resolve().then(function(){return n[0].meddleRecursive(n,e)}).then(function(t){return s.isArray(t)?t[0]:t})):e[0]}).then(function(e){if(s.isPlainObject(e)){e=n(e);var r=t.getData(),o=r.state;return s.forEach(t.getReducer(!1),function(n){t._alo.isReducer(n)&&(o=n.reduce(s.cloneDeep(o),e))}),o={state:o,computed:{},action:e},s.Promise.resolve().then(function(){var e=t.getComputedProperty(!1);return e.length>0?e[0].reduceRecursive(e,t.getId(),s.cloneDeep(o)):o.computed}).then(function(e){o.computed=e;var n=t.getStream();n(o)})}return!1})},t.exports=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(6),i=r(o),a=n(2),u=r(a),c=new u.default,s=new i.default("subscription","store",function(){return this._alo.isStore.apply(this._alo,arguments)}),l=new i.default("subscription","member",function(){return this._alo.isMember.apply(this._alo,arguments)}),f=new i.default("subscription","dependency",function(){return this._alo.isDependency.apply(this._alo,arguments)}),p=function(){this._id=null,this._storeRelations=null,this._memberRelations=null,this._dependencyRelations=null,this._events={beforePublish:[],afterPublish:[]},this._subscriptionStream=null,this._stream=null,this._lastData=null,this._muted=!1,s.constructParent(this),l.constructParent(this),f.constructParent(this),h.apply(this,arguments)},h=c.createPolymorphic();h.signature("",function(){}),h.signature("object, array",function(t,e){this.setDependency(t),this.addMember(e)}),h.signature("object",function(t){this.setDependency(t)}),h.signature("array",function(t){this.addMember(t)}),h.signature("function",function(t){this.createMember(t)}),p.prototype.addMember=null,p.prototype.getMember=null;var d=function(){var t=this;c.isStream(this._stream)&&(this._stream.end(!0),this._stream=null),c.isStream(this._subscriptionStream)&&(this._subscriptionStream.end(!0),this._subscriptionStream=null);var e=[],n=c.values(this.getStore());c.forEach(n,function(t){e.push(t.getStream())}),this._stream=c.combineStreams(function(){var e={};return c.forEach(c.values(arguments),function(r,o){t._alo.isStore(n[o])&&(e[n[o].getId()]=r())}),c.Promise.resolve().then(function(){var n=t.getDependency(!1);if(n.length>0){var r={state:e,computed:{}};return n[0].reduceRecursive(n,t.getId(),r)}return{}}).then(function(t){return{stores:e,computed:t}})},e),this._subscriptionStream=c.streamOn(function(e){var n=c.values(e.computed).length;(null===t._lastData||0===n&&!c.isEqual(t._lastData.stores,e.stores)||n>0&&!c.isEqual(t._lastData.computed,e.computed))&&(t._lastData=e,t._publish(e))},this._stream)};s.after("add",d),s.after("remove",d),s.registerParentPrototype(p.prototype),l.registerParentPrototype(p.prototype),f.registerParentPrototype(p.prototype),p.prototype.createMember=function(){var t=this._alo.createMember.apply(this._alo,arguments);return this.addMember(t),t},p.prototype._callEvent=function(t,e){var n=this._events[t].map(function(t){return c.Promise.resolve(e).then(t)});return c.Promise.all(n).then(function(t){var e=t.indexOf(!1)===-1;return e})},p.prototype._publish=function(t){var e=this;if(e._muted===!1){e._muted=!0;var n=c.Promise.resolve().then(function(){return e._callEvent("beforePublish",t)}).then(function(t){if(e._muted=!1,t!==!1){var n=e.getData(),r=[];return c.forEach(e.getMember(!1),function(t){r.push(t._call(n.stores,n.computed))}),c.Promise.all(r)}return!1}).then(function(n){if(n!==!1)return e._muted=!0,e._callEvent("afterPublish",t)}).then(function(){return e._muted=!1,null});return n}},p.prototype.enable=null,p.prototype.disable=null,p.prototype.remember=function(){var t=this,e=t.getData();return t._publish(e)},p.prototype.stop=function(){return this.disable(),this.removeStore(),this},p.prototype.getStream=function(){return this._stream},p.prototype.getData=function(){return c.cloneDeep(this.getStream()())},p.prototype.createDependency=function(){var t=this._alo.createDependency.apply(this._alo,arguments);return this.addDependency(t),t},p.prototype.on=c.createPolymorphic();var v=p.prototype.on;v.signature("string, function",function(t,e){if(!c.isArray(this._events[t]))throw new Error("Argument type is not a valid type");var n=this._events[t].length;
return this._events[t].push(e),{stop:function(){delete this._events[t][n]}}}),t.exports=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(2),i=r(o),a=n(6),u=r(a),c=new i.default,s={getCustomizer:{},setCustomizer:{},unsetCustomizer:{},callCustomizer:{}},l=["prepare","finalize"],f=function(t){var e=this;this.async=t===!0,this.functions={},c.forEach(s,function(t,n){e.functions[n]={after:[]}})};f.prototype.constructParent=function(t){t._customizers={},c.forEach(l,function(e){t._customizers[e]=!1})},f.prototype.registerParentPrototype=function(t){return u.default.prototype.registerParentPrototype.call(this,t)},f.prototype.setCustomizerFunction=c.createPolymorphic();var p=f.prototype.setCustomizerFunction;p.signature("object, function, string b=finalize",function(t,e,n){if(l.indexOf(n)===-1)throw new Error("Argument for type is invalid");return this._customizers[n]=e,this}),f.prototype.unsetCustomizerFunction=function(t,e){var n=this;if(void 0!==e&&l.indexOf(e)===-1)throw new Error("Argument for type should be prepare or finalize");return void 0===e?c.forEach(this._customizers,function(t,e){n.unsetCustomizer(e)}):this._customizers[e]=!1,this},f.prototype.getCustomizerFunction=c.createPolymorphic();var h=f.prototype.getCustomizerFunction;h.signature("object, string a=finalize",function(t,e){if(l.indexOf(e)===-1)throw new Error("Argument for type is invalid");return this._customizers[e]}),f.prototype.callCustomizerFunction=function(t,e){if(!c.isString(e))throw new Error("Argument for type should be a string");var n=this.getCustomizer(e);if(c.isFunction(n)){var r=c.values(arguments);if(r.length<=2)throw new Error("Atleast two arguments are required");return r=r.slice(2),t.async===!0?c.Promise.resolve().then(function(){return n.apply(null,r)}):n.apply(null,r)}},t.exports=f},function(t,e,n){var r=n(3),o=r.Uint8Array;t.exports=o},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}t.exports=n},function(t,e,n){function r(t,e){var n=a(t),r=!n&&i(t),l=!n&&!r&&u(t),p=!n&&!r&&!l&&s(t),h=n||r||l||p,d=h?o(t.length,String):[],v=d.length;for(var y in t)!e&&!f.call(t,y)||h&&("length"==y||l&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||c(y,v))||d.push(y);return d}var o=n(121),i=n(39),a=n(0),u=n(21),c=n(35),s=n(41),l=Object.prototype,f=l.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}t.exports=n},function(t,e){function n(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}t.exports=n},function(t,e,n){function r(t,e,n){(void 0===n||i(t[e],n))&&(void 0!==n||e in t)||o(t,e,n)}var o=n(28),i=n(12);t.exports=r},function(t,e,n){function r(t,e,n){var r=t[e];u.call(t,e)&&i(r,n)&&(void 0!==n||e in t)||o(t,e,n)}var o=n(28),i=n(12),a=Object.prototype,u=a.hasOwnProperty;t.exports=r},function(t,e,n){var r=n(138),o=r();t.exports=o},function(t,e,n){function r(t,e){e=o(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[i(e[n++])];return n&&n==r?t:void 0}var o=n(64),i=n(19);t.exports=r},function(t,e,n){function r(t,e,n){var r=e(t);return i(t)?r:o(r,n(t))}var o=n(56),i=n(0);t.exports=r},function(t,e,n){function r(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?u(t)?i(t[0],t[1]):o(t):c(t)}var o=n(113),i=n(114),a=n(20),u=n(0),c=n(198);t.exports=r},function(t,e,n){function r(t,e){return o(t)?t:i(t,e)?[t]:a(u(t))}var o=n(0),i=n(36),a=n(183),u=n(81);t.exports=r},function(t,e,n){(function(t){function r(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}var o=n(3),i="object"==typeof e&&e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i,c=u?o.Buffer:void 0,s=c?c.allocUnsafe:void 0;t.exports=r}).call(e,n(44)(t))},function(t,e,n){function r(t,e){var n=e?o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var o=n(31);t.exports=r},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){var r=n(7),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){function r(t,e,n,r,s,l){var f=n&u,p=t.length,h=e.length;if(p!=h&&!(f&&h>p))return!1;var d=l.get(t);if(d&&l.get(e))return d==e;var v=-1,y=!0,_=n&c?new o:void 0;for(l.set(t,e),l.set(e,t);++v<p;){var g=t[v],m=e[v];if(r)var b=f?r(m,g,v,e,t,l):r(g,m,v,t,e,l);if(void 0!==b){if(b)continue;y=!1;break}if(_){if(!i(e,function(t,e){if(!a(_,e)&&(g===t||s(g,t,n,r,l)))return _.push(e)})){y=!1;break}}else if(g!==m&&!s(g,m,n,r,l)){y=!1;break}}return l.delete(t),l.delete(e),y}var o=n(92),i=n(97),a=n(126),u=1,c=2;t.exports=r},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(43))},function(t,e,n){function r(t){return o(t,a,i)}var o=n(62),i=n(33),a=n(8);t.exports=r},function(t,e,n){var r=n(56),o=n(32),i=n(33),a=n(80),u=Object.getOwnPropertySymbols,c=u?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=c},function(t,e,n){function r(t){return"function"!=typeof t.constructor||a(t)?{}:o(i(t))}var o=n(101),i=n(32),a=n(37);t.exports=r},function(t,e,n){function r(t){return t===t&&!o(t)}var o=n(1);t.exports=r},function(t,e){function n(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}t.exports=n},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e){function n(t){if(null!=t){try{return o.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,o=r.toString;t.exports=n},function(t,e,n){function r(t){if(!a(t)||o(t)!=u)return!1;var e=i(t);if(null===e)return!0;var n=f.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==p}var o=n(5),i=n(32),a=n(4),u="[object Object]",c=Function.prototype,s=Object.prototype,l=c.toString,f=s.hasOwnProperty,p=l.call(Object);t.exports=r},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){function r(t){return null==t?"":o(t)}var o=n(123);t.exports=r},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){v&&h&&(v=!1,h.length?d=h.concat(d):y=-1,d.length&&u())}function u(){if(!v){var t=o(a);v=!0;for(var e=d.length;e;){for(h=d,d=[];++y<e;)h&&h[y].run();y=-1,e=d.length}h=null,v=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function s(){}var l,f,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var h,d=[],v=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new c(t,e)),1!==d.length||v||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=s,p.addListener=s,p.once=s,p.off=s,p.removeListener=s,p.removeAllListeners=s,p.emit=s,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e){t.exports=function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,o){return e.apply(this,arguments)};case 5:return function(t,n,r,o,i){return e.apply(this,arguments)};case 6:return function(t,n,r,o,i,a){return e.apply(this,arguments)};case 7:return function(t,n,r,o,i,a,u){return e.apply(this,arguments)};case 8:return function(t,n,r,o,i,a,u,c){return e.apply(this,arguments)};case 9:return function(t,n,r,o,i,a,u,c,s){return e.apply(this,arguments)};case 10:return function(t,n,r,o,i,a,u,c,s,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(t,e,n){var r=n(42);t.exports=function(t){return function e(n){return 0===arguments.length||r(n)?e:t.apply(this,arguments)}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=e.isString=e.createTypecheck=void 0;var o=n(2),i=r(o),a=new i.default,u=e.createTypecheck=function(t,e){return function(n){if(t(n))return!0;throw new Error("Type of argument should be a "+e)}};e.isString=function(t){return u(a.isString,"string")(t)},e.isArray=function(t){return u(a.isArray,"array")(t)}},function(t,e,n){(function(e,n,r){!function(e){t.exports=e()}(function(){return function t(e,n,r){function o(a,u){if(!n[a]){if(!e[a]){var c="function"==typeof _dereq_&&_dereq_;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return o(n?n:t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,n,r){"use strict";function o(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new l(16),this._normalQueue=new l(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=s}function i(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function a(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function u(t){this._normalQueue._pushOne(t),this._queueTick()}var c;try{throw new Error}catch(t){c=t}var s=t("./schedule"),l=t("./queue"),f=t("./util");o.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},o.prototype.hasCustomScheduler=function(){return this._customScheduler},o.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},o.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},o.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},o.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},o.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},f.hasDevTools?(o.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?i.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},o.prototype.invoke=function(t,e,n){this._trampolineEnabled?a.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},o.prototype.settlePromises=function(t){this._trampolineEnabled?u.call(this,t):this._schedule(function(){t._settlePromises()})}):(o.prototype.invokeLater=i,o.prototype.invoke=a,o.prototype.settlePromises=u),o.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},o.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},o.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},o.prototype._reset=function(){this._isTickUsed=!1},n.exports=o,n.exports.firstLineError=c},{"./queue":17,"./schedule":18,"./util":21}],2:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var o=!1,i=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(i,i,null,this,t)},u=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},c=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(i){o||(o=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var s=n(i),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(s),s instanceof t){var p={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:s};f._then(e,a,void 0,l,p),s._then(u,c,void 0,l,p),l._setOnCancel(s)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],3:[function(t,e,n){"use strict";function r(){try{Promise===i&&(Promise=o)}catch(t){}return i}var o;"undefined"!=typeof Promise&&(o=Promise);var i=t("./promise")();i.noConflict=r,e.exports=i},{"./promise":15}],4:[function(t,e,n){"use strict";e.exports=function(e,n,r,o){var i=t("./util"),a=i.tryCatch,u=i.errorObj,c=e._async;e.prototype.break=e.prototype.cancel=function(){if(!o.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(i.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=a(t).call(this._boundValue());r===u&&(this._attachExtraTrace(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":21}],5:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,u){return function(c){var s=u._boundValue();t:for(var l=0;l<t.length;++l){var f=t[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(c instanceof f)return i(n).call(s,c)}else if("function"==typeof f){var p=i(f).call(s,c);if(p===a)return p;if(p)return i(n).call(s,c)}else if(r.isObject(c)){for(var h=o(f),d=0;d<h.length;++d){var v=h[d];if(f[v]!=c[v])continue t}return i(n).call(s,c)}}return e}}var r=t("./util"),o=t("./es5").keys,i=r.tryCatch,a=r.errorObj;return n}},{"./es5":10,"./util":21}],6:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){return o?new e:void 0}function r(){var t=i.length-1;return t>=0?i[t]:void 0}var o=!1,i=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,i.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=i.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,i=t.prototype._popContext,a=t._peekContext,u=t.prototype._peekContext,c=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=i,t._peekContext=a,t.prototype._peekContext=u,t.prototype._promiseCreated=c,o=!1},o=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],7:[function(t,n,r){"use strict";n.exports=function(n,r){function o(t,e){return{promise:e}}function i(){return!1}function a(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+B.toString(t));r._attachCancellationCallback(t)})}catch(t){return t}}function u(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?B.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function c(){return this._onCancelField}function s(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function p(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function d(){this._trace=new A(this._peekContext())}function v(t,e){if(U(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=P(t);B.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),B.notEnumerableProp(t,"__stackCleaned__",!0)}}}function y(t,e,n,r,o){if(void 0===t&&null!==e&&K){if(void 0!==o&&o._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var i="",a="";if(e._trace){for(var u=e._trace.stack.split("\n"),c=j(u),s=c.length-1;s>=0;--s){var l=c[s];if(!H.test(l)){var f=l.match(V);f&&(i="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(c.length>0)for(var p=c[0],s=0;s<u.length;++s)if(u[s]===p){s>0&&(a="\n"+u[s-1]);break}}var h="a promise was created in a "+n+"handler "+i+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(h,!0,e)}}function _(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),g(n)}function g(t,e,r){if(at.warnings){var o,i=new z(t);if(e)r._attachExtraTrace(i);else if(at.longStackTraces&&(o=n._peekContext()))o.attachExtraTrace(i);else{var a=P(i);i.stack=a.message+"\n"+a.stack.join("\n")}et("warning",i)||E(i,"",!0)}}function m(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function w(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],o=e.length-1,i=e[o],a=-1,u=r.length-1;u>=0;--u)if(r[u]===i){a=u;break}for(var u=a;u>=0;--u){var c=r[u];if(e[o]!==c)break;e.pop(),o--}e=r}}function j(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],o="    (No stack trace)"===r||q.test(r),i=o&&rt(r);o&&!i&&(Q&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function x(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||q.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}function P(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?x(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:j(e)}}function E(t,e,n){if("undefined"!=typeof console){var r;if(B.isObject(t)){var o=t.stack;r=e+$(o,t)}else r=e+String(t);"function"==typeof D?D(r,n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(r)}}function C(t,e,n,r){var o=!1;try{"function"==typeof e&&(o=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){M.throwLater(t)}"unhandledRejection"===t?et(t,n,r)||o||E(n,"Unhandled rejection "):et(t,r)}function O(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():B.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+k(e)+">, no stack trace)"}function k(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function F(){return"function"==typeof it}function S(t){var e=t.match(ot);return e?{fileName:e[1],line:parseInt(e[2],10)}:void 0}function T(t,e){if(F()){for(var n,r,o=t.stack.split("\n"),i=e.stack.split("\n"),a=-1,u=-1,c=0;c<o.length;++c){var s=S(o[c]);if(s){n=s.fileName,a=s.line;break}}for(var c=0;c<i.length;++c){var s=S(i[c]);if(s){r=s.fileName,u=s.line;break}}0>a||0>u||!n||!r||n!==r||a>=u||(rt=function(t){if(L.test(t))return!0;var e=S(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=u)})}}function A(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);it(this,A),e>32&&this.uncycle()}var R,I,D,N=n._getDomain,M=n._async,z=t("./errors").Warning,B=t("./util"),U=B.canAttachTrace,L=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,H=/\((?:timers\.js):\d+:\d+\)/,V=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,q=null,$=null,Q=!1,W=!(0==B.env("BLUEBIRD_DEBUG")||!B.env("BLUEBIRD_DEBUG")&&"development"!==B.env("NODE_ENV")),G=!(0==B.env("BLUEBIRD_WARNINGS")||!W&&!B.env("BLUEBIRD_WARNINGS")),X=!(0==B.env("BLUEBIRD_LONG_STACK_TRACES")||!W&&!B.env("BLUEBIRD_LONG_STACK_TRACES")),K=0!=B.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(G||!!B.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),M.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){C("rejectionHandled",R,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),C("unhandledRejection",I,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return g(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=N();I="function"==typeof t?null===e?t:B.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=N();R="function"==typeof t?null===e?t:B.domainBind(e,t):void 0};var Z=function(){};n.longStackTraces=function(){if(M.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!at.longStackTraces&&F()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;at.longStackTraces=!0,Z=function(){if(M.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),M.enableTrampoline(),at.longStackTraces=!1},n.prototype._captureStackTrace=d,n.prototype._attachExtraTrace=v,r.activateLongStackTraces(),M.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return at.longStackTraces&&F()};var J=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return B.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!B.global.dispatchEvent(n)}}if("function"==typeof Event){var t=new Event("CustomEvent");return B.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!B.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),B.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!B.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),Y=function(){return B.isNode?function(){return e.emit.apply(e,arguments)}:B.global?function(t){var e="on"+t.toLowerCase(),n=B.global[e];return!!n&&(n.apply(B.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),tt={promiseCreated:o,promiseFulfilled:o,promiseRejected:o,promiseResolved:o,promiseCancelled:o,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:o},et=function(t){var e=!1;try{e=Y.apply(null,arguments)}catch(t){M.throwLater(t),e=!0}var n=!1;try{n=J(t,tt[t].apply(null,arguments))}catch(t){M.throwLater(t),n=!0}return n||e};n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&Z()),"warnings"in t){var e=t.warnings;at.warnings=!!e,K=at.warnings,B.isObject(e)&&"wForgottenReturn"in e&&(K=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!at.cancellation){if(M.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=l,n.prototype._propagateFrom=f,n.prototype._onCancel=c,n.prototype._setOnCancel=s,n.prototype._attachCancellationCallback=u,n.prototype._execute=a,nt=f,at.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!at.monitoring?(at.monitoring=!0,n.prototype._fireEvent=et):!t.monitoring&&at.monitoring&&(at.monitoring=!1,n.prototype._fireEvent=i)),n},n.prototype._fireEvent=i,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var nt=p,rt=function(){return!1},ot=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;B.inherits(A,Error),r.CapturedTrace=A,A.prototype.uncycle=function(){var t=this._length;if(!(2>t)){for(var e=[],n={},r=0,o=this;void 0!==o;++r)e.push(o),o=o._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var i=e[r].stack;void 0===n[i]&&(n[i]=r)}for(var r=0;t>r;++r){var a=e[r].stack,u=n[a];if(void 0!==u&&u!==r){u>0&&(e[u-1]._parent=void 0,e[u-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var c=r>0?e[r-1]:this;t-1>u?(c._parent=e[u+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var s=c._length+1,l=r-2;l>=0;--l)e[l]._length=s,s++;return}}}},A.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=P(t),n=e.message,r=[e.stack],o=this;void 0!==o;)r.push(j(o.stack.split("\n"))),o=o._parent;w(r),b(r),B.notEnumerableProp(t,"stack",m(n,r)),B.notEnumerableProp(t,"__stackCleaned__",!0)}};var it=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():O(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,q=t,$=e;var n=Error.captureStackTrace;return rt=function(t){return L.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return q=/@/,$=e,Q=!0,function(t){t.stack=(new Error).stack};var o;try{throw new Error}catch(t){o="stack"in t}return"stack"in r||!o||"number"!=typeof Error.stackTraceLimit?($=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?O(e):e.toString()},null):(q=t,$=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(D=function(t){console.warn(t)},B.isNode&&e.stderr.isTTY?D=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:B.isNode||"string"!=typeof(new Error).stack||(D=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var at={warnings:G,longStackTraces:!1,cancellation:!1,monitoring:!1};return X&&n.longStackTraces(),{longStackTraces:function(){return at.longStackTraces},warnings:function(){return at.warnings},cancellation:function(){return at.cancellation},monitoring:function(){return at.monitoring},propagateFromFunction:function(){return nt},boundValueFunction:function(){return h},checkForgottenReturns:y,setBounds:T,warn:g,deprecated:_,CapturedTrace:A,fireDomEvent:J,fireGlobalEvent:Y}}},{"./errors":9,"./util":21}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var o=function(){return r};return this.caught(n,o)}}},{}],9:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:e),f(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function o(t){return this instanceof o?(f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new o(t);
}var i,a,u=t("./es5"),c=u.freeze,s=t("./util"),l=s.inherits,f=s.notEnumerableProp,p=r("Warning","warning"),h=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{i=TypeError,a=RangeError}catch(t){i=r("TypeError","type error"),a=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<y.length;++_)"function"==typeof Array.prototype[y[_]]&&(v.prototype[y[_]]=Array.prototype[y[_]]);u.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var g=0;v.prototype.toString=function(){var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",o=r.split("\n"),i=0;i<o.length;++i)o[i]=t+o[i];r=o.join("\n"),e+=r+"\n"}return g--,e},l(o,Error);var m=Error.__BluebirdErrorTypes__;m||(m=c({CancellationError:h,TimeoutError:d,OperationalError:o,RejectionError:o,AggregateError:v}),u.defineProperty(Error,"__BluebirdErrorTypes__",{value:m,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:i,RangeError:a,CancellationError:m.CancellationError,OperationalError:m.OperationalError,TimeoutError:m.TimeoutError,AggregateError:m.AggregateError,Warning:p}},{"./es5":10,"./util":21}],10:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var o={}.hasOwnProperty,i={}.toString,a={}.constructor.prototype,u=function(t){var e=[];for(var n in t)o.call(t,n)&&e.push(n);return e},c=function(t,e){return{value:t[e]}},s=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},f=function(t){try{return Object(t).constructor.prototype}catch(t){return a}},p=function(t){try{return"[object Array]"===i.call(t)}catch(t){return!1}};e.exports={isArray:p,keys:u,names:u,defineProperty:s,getDescriptor:c,freeze:l,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],11:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function o(t){this.finallyHandler=t}function i(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function a(){return c.call(this,this.promise._target()._settledValue())}function u(t){return i(this,t)?void 0:(f.e=t,f)}function c(t){var r=this.promise,c=this.handler;if(!this.called){this.called=!0;var s=this.isFinallyHandler()?c.call(r._boundValue()):c.call(r._boundValue(),t);if(void 0!==s){r._setReturnedNonUndefined();var p=n(s,r);if(p instanceof e){if(null!=this.cancelPromise){if(p._isCancelled()){var h=new l("late cancellation observer");return r._attachExtraTrace(h),f.e=h,f}p.isPending()&&p._attachCancellationCallback(new o(this))}return p._then(a,u,void 0,this,void 0)}}}return r.isRejected()?(i(this),f.e=t,f):(i(this),t)}var s=t("./util"),l=e.CancellationError,f=s.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){i(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,o){return"function"!=typeof t?this.then():this._then(n,o,void 0,new r(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,c,c)},e.prototype.tap=function(t){return this._passThrough(t,1,c)},r}},{"./util":21}],12:[function(t,e,n){"use strict";e.exports=function(e,n,r,o,i,a){var u=t("./util");u.canEvaluate,u.tryCatch,u.errorObj,e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var o=[].slice.call(arguments);t&&o.pop();var r=new n(o).promise();return void 0!==t?r.spread(t):r}}},{"./util":21}],13:[function(t,e,n){"use strict";e.exports=function(e,n,r,o,i){var a=t("./util"),u=a.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+a.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var o=u(t).apply(this,arguments),a=r._popContext();return i.checkForgottenReturns(o,a,"Promise.method",r),r._resolveFromSyncValue(o),r}},e.attempt=e.try=function(t){if("function"!=typeof t)return o("expecting a function but got "+a.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var c;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var s=arguments[1],l=arguments[2];c=a.isArray(s)?u(t).apply(l,s):u(t).call(l,s)}else c=u(t)();var f=r._popContext();return i.checkForgottenReturns(c,f,"Promise.try",r),r._resolveFromSyncValue(c),r},e.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":21}],14:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function o(t){var e;if(r(t)){e=new s(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),o=0;o<n.length;++o){var i=n[o];f.test(i)||(e[i]=t[i])}return e}return a.markAsOriginatingFromRejection(t),t}function i(t,e){return function(n,r){if(null!==t){if(n){var i=o(u(n));t._attachExtraTrace(i),t._reject(i)}else if(e){var a=[].slice.call(arguments,1);t._fulfill(a)}else t._fulfill(r);t=null}}}var a=t("./util"),u=a.maybeWrapAsError,c=t("./errors"),s=c.OperationalError,l=t("./es5"),f=/^(?:name|message|stack|cause)$/;e.exports=i},{"./errors":9,"./es5":10,"./util":21}],15:[function(t,n,r){"use strict";n.exports=function(){function r(){}function o(t,e){if("function"!=typeof e)throw new m("expecting a function but got "+d.classString(e));if(t.constructor!==i)throw new m("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function i(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==w&&(o(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function a(t){this.promise._resolveCallback(t)}function u(t){this.promise._rejectCallback(t,!1)}function c(t){var e=new i(w);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var s,l=function(){return new m("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new i.PromiseInspection(this._target())},p=function(t){return i.reject(new m(t))},h={},d=t("./util");s=d.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},d.notEnumerableProp(i,"_getDomain",s);var v=t("./es5"),y=t("./async"),_=new y;v.defineProperty(i,"_async",{value:_});var g=t("./errors"),m=i.TypeError=g.TypeError;i.RangeError=g.RangeError;var b=i.CancellationError=g.CancellationError;i.TimeoutError=g.TimeoutError,i.OperationalError=g.OperationalError,i.RejectionError=g.OperationalError,i.AggregateError=g.AggregateError;var w=function(){},j={},x={},P=t("./thenables")(i,w),E=t("./promise_array")(i,w,P,p,r),C=t("./context")(i),O=(C.create,t("./debuggability")(i,C)),k=(O.CapturedTrace,t("./finally")(i,P)),F=t("./catch_filter")(x),S=t("./nodeback"),T=d.errorObj,A=d.tryCatch;return i.prototype.toString=function(){return"[object Promise]"},i.prototype.caught=i.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),o=0;for(n=0;e-1>n;++n){var i=arguments[n];if(!d.isObject(i))return p("expecting an object but got A catch statement predicate "+d.classString(i));r[o++]=i}return r.length=o,t=arguments[n],this.then(void 0,F(r,t,this))}return this.then(void 0,t)},i.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},i.prototype.then=function(t,e){if(O.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+d.classString(t);arguments.length>1&&(n+=", "+d.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},i.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},i.prototype.spread=function(t){return"function"!=typeof t?p("expecting a function but got "+d.classString(t)):this.all()._then(t,void 0,void 0,j,void 0)},i.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},i.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new E(this).promise()},i.prototype.error=function(t){return this.caught(d.originatesFromRejection,t)},i.getNewLibraryCopy=n.exports,i.is=function(t){return t instanceof i},i.fromNode=i.fromCallback=function(t){var e=new i(w);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=A(t)(S(e,n));return r===T&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},i.all=function(t){return new E(t).promise()},i.cast=function(t){var e=P(t);return e instanceof i||(e=new i(w),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},i.resolve=i.fulfilled=i.cast,i.reject=i.rejected=function(t){var e=new i(w);return e._captureStackTrace(),e._rejectCallback(t,!0),e},i.setScheduler=function(t){if("function"!=typeof t)throw new m("expecting a function but got "+d.classString(t));return _.setScheduler(t)},i.prototype._then=function(t,e,n,r,o){var a=void 0!==o,u=a?o:new i(w),c=this._target(),l=c._bitField;a||(u._propagateFrom(this,3),u._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,u));var f=s();if(0!==(50397184&l)){var p,h,v=c._settlePromiseCtx;0!==(33554432&l)?(h=c._rejectionHandler0,p=t):0!==(16777216&l)?(h=c._fulfillmentHandler0,p=e,c._unsetRejectionIsUnhandled()):(v=c._settlePromiseLateCancellationObserver,h=new b("late cancellation observer"),c._attachExtraTrace(h),p=e),_.invoke(v,c,{handler:null===f?p:"function"==typeof p&&d.domainBind(f,p),promise:u,receiver:r,value:h})}else c._addCallbacks(t,e,u,r,f);return u},i.prototype._length=function(){return 65535&this._bitField},i.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},i.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},i.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},i.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},i.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},i.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},i.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},i.prototype._isFinal=function(){return(4194304&this._bitField)>0},i.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},i.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},i.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},i.prototype._setAsyncGuaranteed=function(){_.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},i.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];return e===h?void 0:void 0===e&&this._isBound()?this._boundValue():e},i.prototype._promiseAt=function(t){return this[4*t-4+2]},i.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},i.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},i.prototype._boundValue=function(){},i.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,o=t._receiverAt(0);void 0===o&&(o=h),this._addCallbacks(e,n,r,o,null)},i.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),o=t._promiseAt(e),i=t._receiverAt(e);void 0===i&&(i=h),this._addCallbacks(n,r,o,i,null)},i.prototype._addCallbacks=function(t,e,n,r,o){var i=this._length();if(i>=65531&&(i=0,this._setLength(0)),0===i)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===o?t:d.domainBind(o,t)),"function"==typeof e&&(this._rejectionHandler0=null===o?e:d.domainBind(o,e));else{var a=4*i-4;this[a+2]=n,this[a+3]=r,"function"==typeof t&&(this[a+0]=null===o?t:d.domainBind(o,t)),"function"==typeof e&&(this[a+1]=null===o?e:d.domainBind(o,e))}return this._setLength(i+1),i},i.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},i.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=P(t,this);if(!(n instanceof i))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var o=r._bitField;if(0===(50397184&o)){var a=this._length();a>0&&r._migrateCallback0(this);for(var u=1;a>u;++u)r._migrateCallbackAt(this,u);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&o))this._fulfill(r._value());else if(0!==(16777216&o))this._reject(r._reason());else{var c=new b("late cancellation observer");r._attachExtraTrace(c),this._reject(c)}}},i.prototype._rejectCallback=function(t,e,n){var r=d.ensureErrorObject(t),o=r===t;if(!o&&!n&&O.warnings()){var i="a promise was rejected with a non-error: "+d.classString(t);this._warn(i,!0)}this._attachExtraTrace(r,!!e&&o),this._reject(t)},i.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)},i.prototype._settlePromiseFromHandler=function(t,e,n,r){var o=r._bitField;if(0===(65536&o)){r._pushContext();var i;e===j?n&&"number"==typeof n.length?i=A(t).apply(this._boundValue(),n):(i=T,i.e=new m("cannot .spread() a non-array: "+d.classString(n))):i=A(t).call(e,n);var a=r._popContext();o=r._bitField,0===(65536&o)&&(i===x?r._reject(n):i===T?r._rejectCallback(i.e,!1):(O.checkForgottenReturns(i,a,"",r,this),r._resolveCallback(i)))}},i.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},i.prototype._followee=function(){return this._rejectionHandler0},i.prototype._setFollowee=function(t){this._rejectionHandler0=t},i.prototype._settlePromise=function(t,e,n,o){var a=t instanceof i,u=this._bitField,c=0!==(134217728&u);0!==(65536&u)?(a&&t._invokeInternalOnCancel(),n instanceof k&&n.isFinallyHandler()?(n.cancelPromise=t,A(e).call(n,o)===T&&t._reject(T.e)):e===f?t._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(t):a||t instanceof E?t._cancel():n.cancel()):"function"==typeof e?a?(c&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,o,t)):e.call(n,o,t):n instanceof r?n._isResolved()||(0!==(33554432&u)?n._promiseFulfilled(o,t):n._promiseRejected(o,t)):a&&(c&&t._setAsyncGuaranteed(),0!==(33554432&u)?t._fulfill(o):t._reject(o))},i.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,o=t.value;"function"==typeof e?n instanceof i?this._settlePromiseFromHandler(e,r,o,n):e.call(r,o,n):n instanceof i&&n._reject(o)},i.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},i.prototype._settlePromise0=function(t,e,n){var r=this._promise0,o=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,o,e)},i.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},i.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():_.settlePromises(this))}},i.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?_.fatalError(t,d.isNode):void((65535&e)>0?_.settlePromises(this):this._ensurePossibleRejectionHandled())},i.prototype._fulfillPromises=function(t,e){for(var n=1;t>n;n++){var r=this._fulfillmentHandlerAt(n),o=this._promiseAt(n),i=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(o,r,i,e)}},i.prototype._rejectPromises=function(t,e){for(var n=1;t>n;n++){var r=this._rejectionHandlerAt(n),o=this._promiseAt(n),i=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(o,r,i,e)}},i.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},i.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},i.defer=i.pending=function(){O.deprecated("Promise.defer","new Promise");var t=new i(w);return{promise:t,resolve:a,reject:u}},d.notEnumerableProp(i,"_makeSelfResolutionError",l),t("./method")(i,w,P,p,O),t("./bind")(i,w,P,O),t("./cancel")(i,E,p,O),t("./direct_resolve")(i),t("./synchronous_inspection")(i),t("./join")(i,E,P,w,_,s),i.Promise=i,i.version="3.4.7",d.toFastProperties(i),d.toFastProperties(i.prototype),c({a:1}),c({b:2}),c({c:3}),c(1),c(function(){}),c(void 0),c(!1),c(new i(w)),O.setBounds(y.firstLineError,d.lastLineError),i}},{"./async":1,"./bind":2,"./cancel":4,"./catch_filter":5,"./context":6,"./debuggability":7,"./direct_resolve":8,"./errors":9,"./es5":10,"./finally":11,"./join":12,"./method":13,"./nodeback":14,"./promise_array":16,"./synchronous_inspection":19,"./thenables":20,"./util":21}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,o,i){function a(t){switch(t){case-2:return[];case-3:return{}}}function u(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var c=t("./util");return c.isArray,c.inherits(u,i),u.prototype.length=function(){return this._length},u.prototype.promise=function(){return this._promise},u.prototype._init=function t(n,i){var u=r(this._values,this._promise);if(u instanceof e){u=u._target();var s=u._bitField;if(this._values=u,0===(50397184&s))return this._promise._setAsyncGuaranteed(),u._then(t,this._reject,void 0,this,i);if(0===(33554432&s))return 0!==(16777216&s)?this._reject(u._reason()):this._cancel();u=u._value()}if(u=c.asArray(u),null===u){var l=o("expecting an array or an iterable object but got "+c.classString(u)).reason();return void this._promise._rejectCallback(l,!1)}return 0===u.length?void(-5===i?this._resolveEmptyArray():this._resolve(a(i))):void this._iterate(u)},u.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var o=this._promise,i=!1,a=null,u=0;n>u;++u){var c=r(t[u],o);c instanceof e?(c=c._target(),a=c._bitField):a=null,i?null!==a&&c.suppressUnhandledRejections():null!==a?0===(50397184&a)?(c._proxy(this,u),this._values[u]=c):i=0!==(33554432&a)?this._promiseFulfilled(c._value(),u):0!==(16777216&a)?this._promiseRejected(c._reason(),u):this._promiseCancelled(u):i=this._promiseFulfilled(c,u)}i||o._setAsyncGuaranteed()},u.prototype._isResolved=function(){return null===this._values},u.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},u.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},u.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},u.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},u.prototype._promiseCancelled=function(){return this._cancel(),!0},u.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},u.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},u.prototype.shouldCopyValues=function(){return!0},u.prototype.getActualLength=function(t){return t},u}},{"./util":21}],17:[function(t,e,n){"use strict";function r(t,e,n,r,o){for(var i=0;o>i;++i)n[i+r]=t[i+e],t[i+e]=void 0}function o(t){this._capacity=t,this._length=0,this._front=0}o.prototype._willBeOverCapacity=function(t){return this._capacity<t},o.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},o.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var o=this._front+r-3;this._checkCapacity(r);var i=this._capacity-1;this[o+0&i]=t,this[o+1&i]=e,this[o+2&i]=n,this._length=r},o.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},o.prototype.length=function(){return this._length},o.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},o.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,o=this._length,i=n+o&e-1;r(this,0,this,e,i)},e.exports=o},{}],18:[function(t,o,i){"use strict";var a,u=t("./util"),c=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},s=u.getNativePromise();if(u.isNode&&"undefined"==typeof MutationObserver){var l=n.setImmediate,f=e.nextTick;a=u.isRecentNode?function(t){l.call(n,t)}:function(t){f.call(e,t)}}else if("function"==typeof s&&"function"==typeof s.resolve){var p=s.resolve();a=function(t){p.then(t)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:c:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),o=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});o.observe(r,e);var i=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),i()}}();o.exports=a},{"./util":21}],19:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},o=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},i=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},u=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return i.call(this._target())},t.prototype.isFulfilled=function(){return o.call(this._target())},t.prototype.isResolved=function(){return u.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],20:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(l(t)){if(t instanceof e)return t;var o=i(t);if(o===s){r&&r._pushContext();var c=e.reject(o.e);return r&&r._popContext(),c}if("function"==typeof o){if(a(t)){var c=new e(n);return t._then(c._fulfill,c._reject,void 0,c,null),c}return u(t,o,r)}}return t}function o(t){return t.then}function i(t){try{return o(t)}catch(t){return s.e=t,s}}function a(t){try{return f.call(t,"_promise0")}catch(t){return!1}}function u(t,r,o){function i(t){u&&(u._resolveCallback(t),u=null)}function a(t){u&&(u._rejectCallback(t,f,!0),u=null)}var u=new e(n),l=u;o&&o._pushContext(),u._captureStackTrace(),o&&o._popContext();var f=!0,p=c.tryCatch(r).call(t,i,a);return f=!1,u&&p===s&&(u._rejectCallback(p.e,!0,!0),u=null),l}var c=t("./util"),s=c.errorObj,l=c.isObject,f={}.hasOwnProperty;return r}},{"./util":21}],21:[function(t,r,o){"use strict";function i(){try{var t=k;return k=null,t.apply(this,arguments)}catch(t){return T.e=t,T}}function a(t){return k=t,i}function u(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function c(t){return"function"==typeof t||"object"==typeof t&&null!==t}function s(t){return u(t)?new Error(g(t)):t}function l(t,e){var n,r=t.length,o=new Array(r+1);for(n=0;r>n;++n)o[n]=t[n];return o[n]=e,o}function f(t,e,n){if(!F.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function p(t,e,n){if(u(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return F.defineProperty(t,e,r),t}function h(t){throw t}function d(t){try{if("function"==typeof t){var e=F.names(t.prototype),n=F.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),o=D.test(t+"")&&F.names(t).length>0;if(n||r||o)return!0}return!1}catch(t){return!1}}function v(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function y(t){return N.test(t)}function _(t,e,n){for(var r=new Array(t),o=0;t>o;++o)r[o]=e+o+n;return r}function g(t){try{return t+""}catch(t){return"[no string representation]"}}function m(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){try{p(t,"isOperational",!0)}catch(t){}}function w(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0)}function j(t){return m(t)&&F.propertyIsWritable(t,"stack")}function x(t){return{}.toString.call(t)}function P(t,e,n){for(var r=F.names(t),o=0;o<r.length;++o){var i=r[o];if(n(i))try{F.defineProperty(e,i,F.getDescriptor(t,i))}catch(t){}}}function E(t){return L?{NODE_ENV:"production",APP_ENV:"browser"}[t]:void 0}function C(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}}function O(t,e){return t.bind(e)}var k,F=t("./es5"),S="undefined"==typeof navigator,T={e:{}},A="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:void 0!==this?this:null,R=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},I=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(F.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],o=Object.create(null);null!=t&&!e(t);){var i;try{i=n(t)}catch(t){return r}for(var a=0;a<i.length;++a){var u=i[a];if(!o[u]){o[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}t=F.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var o=[];t:for(var i in n)if(r.call(n,i))o.push(i);else{for(var a=0;a<t.length;++a)if(r.call(t[a],i))continue t;o.push(i)}return o}}(),D=/this\s*\.\s*\S+\s*=/,N=/^[a-z$_][a-z$_0-9]*$/i,M=function(){return"stack"in new Error?function(t){return j(t)?t:new Error(g(t))}:function(t){if(j(t))return t;try{throw new Error(g(t))}catch(t){return t}}}(),z=function(t){return F.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var B="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};z=function(t){return F.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?B(t):null}}var U="undefined"!=typeof e&&"[object process]"===x(e).toLowerCase(),L="undefined"!=typeof e&&!0,H={isClass:d,isIdentifier:y,inheritedDataKeys:I,getDataPropertyOrDefault:f,thrower:h,isArray:F.isArray,asArray:z,notEnumerableProp:p,isPrimitive:u,isObject:c,isError:m,canEvaluate:S,errorObj:T,tryCatch:a,inherits:R,withAppended:l,maybeWrapAsError:s,toFastProperties:v,filledRange:_,toString:g,canAttachTrace:j,ensureErrorObject:M,originatesFromRejection:w,markAsOriginatingFromRejection:b,classString:x,copyDescriptors:P,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:U,hasEnvVariables:L,env:E,global:A,getNativePromise:C,domainBind:O};H.isRecentNode=H.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),H.isNode&&H.toFastProperties(e);try{throw new Error}catch(t){H.lastLineError=t}r.exports=H},{"./es5":10}]},{},[3])(3)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(82),n(43),n(212).setImmediate)},function(t,e,n){"use strict";function r(t){return!!(t&&t.constructor&&t.call&&t.apply)}function o(){return!0}function i(t,e){var n,r,i,a,u=l([],o);for(i=[],a=[],n=0;n<e.length;++n)void 0!==e[n]&&(i.push(e[n]),void 0!==e[n].end&&a.push(e[n].end));return r=l(i,t),r.depsChanged=[],r.fnArgs=r.deps.concat([r,r.depsChanged]),r.end=u,u.listeners.push(r),g(a,u),u.deps=a,p(r),r}function a(t){return F.map(t,this)}function u(t){var e=this;return i(function(t,e,n){n(t.val(e.val))},[e,t])}function c(){return"stream("+this.val+")"}function s(){function t(e){return 0===arguments.length?t.val:(y(t,e),t)}return t.hasVal=!1,t.val=void 0,t.vals=[],t.listeners=[],t.queued=!1,t.end=void 0,t.map=a,t.ap=u,t.of=F.stream,t.toString=c,t}function l(t,e){var n=s();return n.fn=e,n.deps=t,n.depsMet=!1,n.depsChanged=t.length>0?[]:void 0,n.shouldUpdate=!1,g(t,n),n}function f(t){return t.depsMet=t.deps.every(function(t){return t.hasVal}),!t.depsMet}function p(t){if(!(t.depsMet!==!0&&f(t)||void 0!==t.end&&t.end.val===!0)){if(void 0!==x)return void E.push(t);x=t,t.depsChanged&&(t.fnArgs[t.fnArgs.length-1]=t.depsChanged);var e=t.fn.apply(t.fn,t.fnArgs);void 0!==e&&t(e),x=void 0,void 0!==t.depsChanged&&(t.depsChanged=[]),t.shouldUpdate=!1,k===!1&&v()}}function h(t){var e,n,r,o=t.listeners;
for(e=0;e<o.length;++e)r=o[e],r.end===t?w(r):(void 0!==r.depsChanged&&r.depsChanged.push(t),r.shouldUpdate=!0,d(r));for(;O>=0;--O)n=C[O],n.shouldUpdate===!0&&p(n),n.queued=!1}function d(t){var e,n=t.listeners;if(t.queued===!1){for(t.queued=!0,e=0;e<n.length;++e)d(n[e]);C[++O]=t}}function v(){for(k=!0;E.length>0;){var t=E.shift();t.vals.length>0&&(t.val=t.vals.shift()),h(t)}k=!1}function y(t,e){return void 0!==e&&null!==e&&r(e.then)?void e.then(t):(t.val=e,t.hasVal=!0,void(void 0===x?(k=!0,h(t),E.length>0?v():k=!1):x===t?_(t,t.listeners):(t.vals.push(e),E.push(t))))}function _(t,e){var n,r;for(n=0;n<e.length;++n)r=e[n],r.end!==t?(void 0!==r.depsChanged&&r.depsChanged.push(t),r.shouldUpdate=!0):w(r)}function g(t,e){for(var n=0;n<t.length;++n)t[n].listeners.push(e)}function m(t,e){var n=e.indexOf(t);e[n]=e[e.length-1],e.length--}function b(t){for(var e=0;e<t.deps.length;++e)m(t,t.deps[e].listeners);t.deps.length=0}function w(t){void 0!==t.deps&&b(t),void 0!==t.end&&b(t.end)}function j(){}var x,P=n(208),E=[],C=[],O=-1,k=!1,F={};F.stream=function(t){var e=l([],o),n=s();return n.end=e,n.fnArgs=[],e.listeners.push(n),arguments.length>0&&n(t),n},F.combine=P(2,i),F.isStream=function(t){return r(t)&&"hasVal"in t},F.immediate=function(t){return t.depsMet===!1&&(t.depsMet=!0,p(t)),t},F.endsOn=function(t,e){return b(e.end),t.listeners.push(e.end),e.end.deps.push(t),e},F.map=P(2,function(t,e){return i(function(e,n){n(t(e.val))},[e])}),F.on=P(2,function(t,e){return i(function(e){t(e.val)},[e])}),F.scan=P(3,function(t,e,n){var r=i(function(n,r){r(e=t(e,n.val))},[n]);return r.hasVal||r(e),r}),F.merge=P(2,function(t,e){var n=F.immediate(i(function(t,e,n,r){r[0]?n(r[0]()):t.hasVal?n(t.val):e.hasVal&&n(e.val)},[t,e]));return F.endsOn(i(function(){return!0},[t.end,e.end]),n),n}),F.transduce=P(2,function(t,e){return t=t(new j),i(function(e,n){var r=t["@@transducer/step"](void 0,e.val);return r&&r["@@transducer/reduced"]===!0?(n.end(!0),r["@@transducer/value"]):r},[e])}),F.curryN=P,j.prototype["@@transducer/init"]=function(){},j.prototype["@@transducer/result"]=function(){},j.prototype["@@transducer/step"]=function(t,e){return e},t.exports=F},function(t,e,n){var r=n(7),o=n(3),i=r(o,"DataView");t.exports=i},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(147),i=n(148),a=n(149),u=n(150),c=n(151);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=u,r.prototype.set=c,t.exports=r},function(t,e,n){var r=n(7),o=n(3),i=r(o,"Promise");t.exports=i},function(t,e,n){var r=n(7),o=n(3),i=r(o,"Set");t.exports=i},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new o;++e<n;)this.add(t[e])}var o=n(27),i=n(173),a=n(174);r.prototype.add=r.prototype.push=i,r.prototype.has=a,t.exports=r},function(t,e,n){var r=n(7),o=n(3),i=r(o,"WeakMap");t.exports=i},function(t,e){function n(t,e){return t.set(e[0],e[1]),t}t.exports=n},function(t,e){function n(t,e){return t.add(e),t}t.exports=n},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e,n){function r(t,e){return t&&o(e,i(e),t)}var o=n(11),i=n(8);t.exports=r},function(t,e,n){function r(t,e){return t&&o(e,i(e),t)}var o=n(11),i=n(24);t.exports=r},function(t,e,n){function r(t,e,n,O,k,F){var S,R=e&x,I=e&P,N=e&E;if(n&&(S=k?n(t,O,k,F):n(t)),void 0!==S)return S;if(!w(t))return t;var M=m(t);if(M){if(S=y(t),!R)return l(t,S)}else{var z=v(t),B=z==T||z==A;if(b(t))return s(t,R);if(z==D||z==C||B&&!k){if(S=I||B?{}:g(t),!R)return I?p(t,c(S,t)):f(t,u(S,t))}else{if(!J[z])return k?t:{};S=_(t,z,r,R)}}F||(F=new o);var U=F.get(t);if(U)return U;F.set(t,S);var L=N?I?d:h:I?keysIn:j,H=M?void 0:L(t);return i(H||t,function(o,i){H&&(i=o,o=t[i]),a(S,i,r(o,e,n,i,t,F))}),S}var o=n(14),i=n(53),a=n(59),u=n(98),c=n(99),s=n(65),l=n(67),f=n(133),p=n(134),h=n(71),d=n(142),v=n(34),y=n(152),_=n(153),g=n(73),m=n(0),b=n(21),w=n(1),j=n(8),x=1,P=2,E=4,C="[object Arguments]",O="[object Array]",k="[object Boolean]",F="[object Date]",S="[object Error]",T="[object Function]",A="[object GeneratorFunction]",R="[object Map]",I="[object Number]",D="[object Object]",N="[object RegExp]",M="[object Set]",z="[object String]",B="[object Symbol]",U="[object WeakMap]",L="[object ArrayBuffer]",H="[object DataView]",V="[object Float32Array]",q="[object Float64Array]",$="[object Int8Array]",Q="[object Int16Array]",W="[object Int32Array]",G="[object Uint8Array]",X="[object Uint8ClampedArray]",K="[object Uint16Array]",Z="[object Uint32Array]",J={};J[C]=J[O]=J[L]=J[H]=J[k]=J[F]=J[V]=J[q]=J[$]=J[Q]=J[W]=J[R]=J[I]=J[D]=J[N]=J[M]=J[z]=J[B]=J[G]=J[X]=J[K]=J[Z]=!0,J[S]=J[T]=J[U]=!1,t.exports=r},function(t,e,n){var r=n(1),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){function r(t,e){var n=[];return o(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}var o=n(29);t.exports=r},function(t,e,n){function r(t,e){return t&&o(t,e,i)}var o=n(60),i=n(8);t.exports=r},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function r(t){return i(t)&&o(t)==a}var o=n(5),i=n(4),a="[object Arguments]";t.exports=r},function(t,e,n){function r(t,e,n,r,y,g){var m=s(t),b=s(e),w=m?d:c(t),j=b?d:c(e);w=w==h?v:w,j=j==h?v:j;var x=w==v,P=j==v,E=w==j;if(E&&l(t)){if(!l(e))return!1;m=!0,x=!1}if(E&&!x)return g||(g=new o),m||f(t)?i(t,e,n,r,y,g):a(t,e,w,n,r,y,g);if(!(n&p)){var C=x&&_.call(t,"__wrapped__"),O=P&&_.call(e,"__wrapped__");if(C||O){var k=C?t.value():t,F=O?e.value():e;return g||(g=new o),y(k,F,n,r,g)}}return!!E&&(g||(g=new o),u(t,e,n,r,y,g))}var o=n(14),i=n(69),a=n(140),u=n(141),c=n(34),s=n(0),l=n(21),f=n(41),p=1,h="[object Arguments]",d="[object Array]",v="[object Object]",y=Object.prototype,_=y.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n,r){var c=n.length,s=c,l=!r;if(null==t)return!s;for(t=Object(t);c--;){var f=n[c];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++c<s;){f=n[c];var p=f[0],h=t[p],d=f[1];if(l&&f[2]){if(void 0===h&&!(p in t))return!1}else{var v=new o;if(r)var y=r(h,d,p,t,e,v);if(!(void 0===y?i(d,h,a|u,r,v):y))return!1}}return!0}var o=n(14),i=n(30),a=1,u=2;t.exports=r},function(t,e,n){function r(t){if(!a(t)||i(t))return!1;var e=o(t)?d:s;return e.test(u(t))}var o=n(22),i=n(156),a=n(1),u=n(78),c=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,f=Object.prototype,p=l.toString,h=f.hasOwnProperty,d=RegExp("^"+p.call(h).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return a(t)&&i(t.length)&&!!T[o(t)]}var o=n(5),i=n(40),a=n(4),u="[object Arguments]",c="[object Array]",s="[object Boolean]",l="[object Date]",f="[object Error]",p="[object Function]",h="[object Map]",d="[object Number]",v="[object Object]",y="[object RegExp]",_="[object Set]",g="[object String]",m="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",j="[object Float32Array]",x="[object Float64Array]",P="[object Int8Array]",E="[object Int16Array]",C="[object Int32Array]",O="[object Uint8Array]",k="[object Uint8ClampedArray]",F="[object Uint16Array]",S="[object Uint32Array]",T={};T[j]=T[x]=T[P]=T[E]=T[C]=T[O]=T[k]=T[F]=T[S]=!0,T[u]=T[c]=T[b]=T[s]=T[w]=T[l]=T[f]=T[p]=T[h]=T[d]=T[v]=T[y]=T[_]=T[g]=T[m]=!1,t.exports=r},function(t,e,n){function r(t){if(!o(t))return i(t);var e=[];for(var n in Object(t))u.call(t,n)&&"constructor"!=n&&e.push(n);return e}var o=n(37),i=n(168),a=Object.prototype,u=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){if(!o(t))return a(t);var e=i(t),n=[];for(var r in t)("constructor"!=r||!e&&c.call(t,r))&&n.push(r);return n}var o=n(1),i=n(37),a=n(169),u=Object.prototype,c=u.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=-1,r=i(t)?Array(t.length):[];return o(t,function(t,o,i){r[++n]=e(t,o,i)}),r}var o=n(29),i=n(9);t.exports=r},function(t,e,n){function r(t){var e=i(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||o(n,t,e)}}var o=n(107),i=n(143),a=n(75);t.exports=r},function(t,e,n){function r(t,e){return u(t)&&c(e)?s(l(t),e):function(n){var r=i(n,t);return void 0===r&&r===e?a(n,t):o(e,r,f|p)}}var o=n(30),i=n(188),a=n(189),u=n(36),c=n(74),s=n(75),l=n(19),f=1,p=2;t.exports=r},function(t,e,n){function r(t,e,n,l,f){t!==e&&a(e,function(a,s){if(c(a))f||(f=new o),u(t,e,s,n,r,l,f);else{var p=l?l(t[s],a,s+"",t,e,f):void 0;void 0===p&&(p=a),i(t,s,p)}},s)}var o=n(14),i=n(58),a=n(60),u=n(116),c=n(1),s=n(24);t.exports=r},function(t,e,n){function r(t,e,n,r,g,m,b){var w=t[n],j=e[n],x=b.get(j);if(x)return void o(t,n,x);var P=m?m(w,j,n+"",t,e,b):void 0,E=void 0===P;if(E){var C=l(j),O=!C&&p(j),k=!C&&!O&&y(j);P=j,C||O||k?l(w)?P=w:f(w)?P=u(w):O?(E=!1,P=i(j,!0)):k?(E=!1,P=a(j,!0)):P=[]:v(j)||s(j)?(P=w,s(w)?P=_(w):(!d(w)||r&&h(w))&&(P=c(j))):E=!1}E&&(b.set(j,P),g(P,j,r,m,b),b.delete(j)),o(t,n,P)}var o=n(58),i=n(65),a=n(66),u=n(67),c=n(73),s=n(39),l=n(0),f=n(190),p=n(21),h=n(22),d=n(1),v=n(79),y=n(41),_=n(204);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){return function(e){return o(e,t)}}var o=n(61);t.exports=r},function(t,e,n){function r(t,e){return a(i(t,e,o),t+"")}var o=n(20),i=n(172),a=n(176);t.exports=r},function(t,e,n){var r=n(185),o=n(68),i=n(20),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t,e){return o(e,function(e){return[e,t[e]]})}var o=n(15);t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(a(t))return i(t,r)+"";if(u(t))return l?l.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}var o=n(10),i=n(15),a=n(0),u=n(23),c=1/0,s=o?o.prototype:void 0,l=s?s.toString:void 0;t.exports=r},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){function r(t,e){return o(e,function(e){return t[e]})}var o=n(15);t.exports=r},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){function r(t){return"function"==typeof t?t:o}var o=n(20);t.exports=r},function(t,e,n){function r(t,e){var n=e?o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var o=n(31);t.exports=r},function(t,e,n){function r(t,e,n){var r=e?n(a(t),u):a(t);return i(r,o,new t.constructor)}var o=n(94),i=n(57),a=n(38),u=1;t.exports=r},function(t,e){function n(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}var r=/\w*$/;t.exports=n},function(t,e,n){function r(t,e,n){var r=e?n(a(t),u):a(t);return i(r,o,new t.constructor)}var o=n(95),i=n(57),a=n(77),u=1;t.exports=r},function(t,e,n){function r(t){return a?Object(a.call(t)):{}}var o=n(10),i=o?o.prototype:void 0,a=i?i.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e){return o(t,i(t),e)}var o=n(11),i=n(33);t.exports=r},function(t,e,n){function r(t,e){return o(t,i(t),e)}var o=n(11),i=n(72);t.exports=r},function(t,e,n){var r=n(3),o=r["__core-js_shared__"];t.exports=o},function(t,e,n){function r(t){return o(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,u=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,u&&i(n[0],n[1],u)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var c=n[r];c&&t(e,c,r,a)}return e})}var o=n(119),i=n(154);t.exports=r},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!o(n))return t(n,r);for(var i=n.length,a=e?i:-1,u=Object(n);(e?a--:++a<i)&&r(u[a],a,u)!==!1;);return n}}var o=n(9);t.exports=r},function(t,e){function n(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),u=a.length;u--;){var c=a[t?u:++o];if(n(i[c],c,i)===!1)break}return e}}t.exports=n},function(t,e,n){function r(t){return function(e){var n=i(e);return n==c?a(e):n==s?u(e):o(e,t(e))}}var o=n(122),i=n(34),a=n(38),u=n(175),c="[object Map]",s="[object Set]";t.exports=r},function(t,e,n){function r(t,e,n,r,o,x,E){switch(n){case j:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!x(new i(t),new i(e)));case p:case h:case y:return a(+t,+e);case d:return t.name==e.name&&t.message==e.message;case _:case m:return t==e+"";case v:var C=c;case g:var O=r&l;if(C||(C=s),t.size!=e.size&&!O)return!1;var k=E.get(t);if(k)return k==e;r|=f,E.set(t,e);var F=u(C(t),C(e),r,o,x,E);return E.delete(t),F;case b:if(P)return P.call(t)==P.call(e)}return!1}var o=n(10),i=n(52),a=n(12),u=n(69),c=n(38),s=n(77),l=1,f=2,p="[object Boolean]",h="[object Date]",d="[object Error]",v="[object Map]",y="[object Number]",_="[object RegExp]",g="[object Set]",m="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",j="[object DataView]",x=o?o.prototype:void 0,P=x?x.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e,n,r,a,c){var s=n&i,l=o(t),f=l.length,p=o(e),h=p.length;if(f!=h&&!s)return!1;for(var d=f;d--;){var v=l[d];if(!(s?v in e:u.call(e,v)))return!1}var y=c.get(t);if(y&&c.get(e))return y==e;var _=!0;c.set(t,e),c.set(e,t);for(var g=s;++d<f;){v=l[d];var m=t[v],b=e[v];if(r)var w=s?r(b,m,v,e,t,c):r(m,b,v,t,e,c);if(!(void 0===w?m===b||a(m,b,n,r,c):w)){_=!1;break}g||(g="constructor"==v)}if(_&&!g){var j=t.constructor,x=e.constructor;j!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof j&&j instanceof j&&"function"==typeof x&&x instanceof x)&&(_=!1)}return c.delete(t),c.delete(e),_}var o=n(71),i=1,a=Object.prototype,u=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){return o(t,a,i)}var o=n(62),i=n(72),a=n(24);t.exports=r},function(t,e,n){function r(t){for(var e=i(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,o(a)]}return e}var o=n(74),i=n(8);t.exports=r},function(t,e,n){function r(t){var e=a.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(t){}var o=u.call(t);return r&&(e?t[c]=n:delete t[c]),o}var o=n(10),i=Object.prototype,a=i.hasOwnProperty,u=i.toString,c=o?o.toStringTag:void 0;t.exports=r},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(t,e,n){e=o(e,t);for(var r=-1,l=e.length,f=!1;++r<l;){var p=s(e[r]);if(!(f=null!=t&&n(t,p)))break;t=t[p]}return f||++r!=l?f:(l=null==t?0:t.length,!!l&&c(l)&&u(p,l)&&(a(t)||i(t)))}var o=n(64),i=n(39),a=n(0),u=n(35),c=n(40),s=n(19);t.exports=r},function(t,e,n){function r(){this.__data__=o?o(null):{},this.size=0}var o=n(18);t.exports=r},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(o){var n=e[t];return n===i?void 0:n}return u.call(e,t)?e[t]:void 0}var o=n(18),i="__lodash_hash_undefined__",a=Object.prototype,u=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return o?void 0!==e[t]:a.call(e,t)}var o=n(18),i=Object.prototype,a=i.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o&&void 0===e?i:e,this}var o=n(18),i="__lodash_hash_undefined__";t.exports=r},function(t,e){function n(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&o.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=Object.prototype,o=r.hasOwnProperty;t.exports=n},function(t,e,n){function r(t,e,n,r){var S=t.constructor;switch(e){case m:return o(t);case f:case p:return new S(+t);case b:return i(t,r);case w:case j:case x:case P:case E:case C:case O:case k:case F:return l(t,r);case h:return a(t,r,n);case d:case _:return new S(t);case v:return u(t);case y:return c(t,r,n);case g:return s(t)}}var o=n(31),i=n(128),a=n(129),u=n(130),c=n(131),s=n(132),l=n(66),f="[object Boolean]",p="[object Date]",h="[object Map]",d="[object Number]",v="[object RegExp]",y="[object Set]",_="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",j="[object Float64Array]",x="[object Int8Array]",P="[object Int16Array]",E="[object Int32Array]",C="[object Uint8Array]",O="[object Uint8ClampedArray]",k="[object Uint16Array]",F="[object Uint32Array]";t.exports=r},function(t,e,n){function r(t,e,n){if(!u(n))return!1;var r=typeof e;return!!("number"==r?i(n)&&a(e,n.length):"string"==r&&e in n)&&o(n[e],t)}var o=n(12),i=n(9),a=n(35),u=n(1);t.exports=r},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return!!i&&i in t}var o=n(135),i=function(){var t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():a.call(e,n,1),--this.size,!0}var o=n(16),i=Array.prototype,a=i.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}var o=n(16);t.exports=r},function(t,e,n){function r(t){return o(this.__data__,t)>-1}var o=n(16);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var o=n(16);t.exports=r},function(t,e,n){function r(){this.size=0,this.__data__={hash:new o,map:new(a||i),string:new o}}var o=n(89),i=n(13),a=n(26);t.exports=r},function(t,e,n){function r(t){var e=o(this,t).delete(t);return this.size-=e?1:0,e}var o=n(17);t.exports=r},function(t,e,n){function r(t){return o(this,t).get(t)}var o=n(17);t.exports=r},function(t,e,n){function r(t){return o(this,t).has(t)}var o=n(17);t.exports=r},function(t,e,n){function r(t,e){var n=o(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var o=n(17);t.exports=r},function(t,e,n){function r(t){var e=o(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}var o=n(196),i=500;t.exports=r},function(t,e,n){var r=n(76),o=r(Object.keys,Object);t.exports=o},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e,n){(function(t){var r=n(70),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o,u=a&&r.process,c=function(){try{return u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=c}).call(e,n(44)(t))},function(t,e){function n(t){return o.call(t)}var r=Object.prototype,o=r.toString;t.exports=n},function(t,e,n){function r(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,u=i(r.length-e,0),c=Array(u);++a<u;)c[a]=r[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=r[a];return s[e]=n(c),o(t,this,s)}}var o=n(96),i=Math.max;t.exports=r},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}t.exports=n},function(t,e,n){var r=n(120),o=n(177),i=o(r);t.exports=i},function(t,e){function n(t){var e=0,n=0;return function(){var a=i(),u=o-(a-n);if(n=a,u>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r=800,o=16,i=Date.now;t.exports=n},function(t,e,n){function r(){this.__data__=new o,this.size=0}var o=n(13);t.exports=r},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!i||r.length<u-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(t,e),this.size=n.size,this}var o=n(13),i=n(26),a=n(27),u=200;t.exports=r},function(t,e,n){var r=n(167),o=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,u=r(function(t){var e=[];return o.test(t)&&e.push(""),t.replace(i,function(t,n,r,o){e.push(r?o.replace(a,"$1"):n||t)}),e});t.exports=u},function(t,e,n){function r(t){return o(t,i|a)}var o=n(100),i=1,a=4;t.exports=r},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e,n){function r(t,e){var n=u(t)?o:i;return n(t,a(e,3))}var o=n(54),i=n(102),a=n(63),u=n(0);t.exports=r},function(t,e,n){function r(t,e){var n=u(t)?o:i;return n(t,a(e))}var o=n(53),i=n(29),a=n(127),u=n(0);t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?void 0:o(t,e);return void 0===r?n:r}var o=n(61);t.exports=r},function(t,e,n){function r(t,e){return null!=t&&i(t,e,o)}var o=n(104),i=n(146);t.exports=r},function(t,e,n){function r(t){return i(t)&&o(t)}var o=n(9),i=n(4);t.exports=r},function(t,e,n){function r(t){return t===!0||t===!1||i(t)&&o(t)==a}var o=n(5),i=n(4),a="[object Boolean]";t.exports=r},function(t,e,n){function r(t,e){return o(t,e)}var o=n(30);t.exports=r},function(t,e,n){function r(t){return"number"==typeof t&&t==o(t)}var o=n(201);t.exports=r},function(t,e,n){function r(t){return"string"==typeof t||!i(t)&&a(t)&&o(t)==u}var o=n(5),i=n(0),a=n(4),u="[object String]";t.exports=r},function(t,e,n){function r(t,e){var n=u(t)?o:a;return n(t,i(e,3))}var o=n(15),i=n(63),a=n(112),u=n(0);t.exports=r},function(t,e,n){function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(r.Cache||o),n}var o=n(27),i="Expected a function";r.Cache=o,t.exports=r},function(t,e,n){var r=n(115),o=n(136),i=o(function(t,e,n){r(t,e,n)});t.exports=i},function(t,e,n){function r(t){return a(t)?o(u(t)):i(t)}var o=n(117),i=n(118),a=n(36),u=n(19);t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){if(!t)return 0===t?t:0;if(t=o(t),t===i||t===-i){var e=t<0?-1:1;return e*a}return t===t?t:0}var o=n(202),i=1/0,a=1.7976931348623157e308;t.exports=r},function(t,e,n){function r(t){var e=o(t),n=e%1;return e===e?n?e-n:e:0}var o=n(200);t.exports=r},function(t,e,n){function r(t){if("number"==typeof t)return t;if(i(t))return a;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var n=s.test(t);return n||l.test(t)?f(t.slice(2),n?2:8):c.test(t)?a:+t}var o=n(1),i=n(23),a=NaN,u=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;t.exports=r},function(t,e,n){var r=n(139),o=n(8),i=r(o);t.exports=i},function(t,e,n){function r(t){return o(t,i(t))}var o=n(11),i=n(24);t.exports=r},function(t,e,n){function r(t){var e=++i;return o(t)+e}var o=n(81),i=0;t.exports=r},function(t,e,n){function r(t){return null==t?[]:o(t,i(t))}var o=n(125),i=n(8);t.exports=r},function(t,e,n){"use strict";function r(){function t(t,e){for(var n="object"==typeof e&&e?Object.getPrototypeOf(e):null,r=n?new RegExp("^"+t+"$"):null;n&&n.constructor;){if(r.test(n.constructor.name))return!0;n=Object.getPrototypeOf(n)}return!1}function e(t){return t.param=t.param.map(function(e){var n;return"value"in e?n=e.value:"reference"in e&&(n=t.param.reduce(function(t,n){return n!==e&&!t&&e.reference===n.name&&"value"in n?n.value:t},null)),n}),t}function n(e,n){var r=n.map(function(t){return new RegExp("^("+p(t)+")")});return e.filter(function(e){var o,a=!1;return o=n.length<=e.arguments.length||e.arguments[e.arguments.length-1]&&"..."===e.arguments[e.arguments.length-1].type,o&&n.forEach(function(n,u){var c=e.arguments[u]?e.arguments[u].type:null;i("...",e.arguments,u)&&(a=!0),o=o&&(a||r[u].test(c)||"!"!==c[c.length-1]&&t(c,n))}),o})}function r(e,n){return e.map(function(e){var r={call:e.call,arguments:e.arguments,specificity:e.arguments.map(function(e,r){var o="value"in e,i=0;return"..."!==e.type&&r<n.length&&(++i,Number(e.type===p(n[r],!0)||t(e.type,n[r])||!o)&&++i,"!"===e.type[e.type.length-1]&&p(n[r],!0)&&++i),i}).join(""),param:e.arguments.map(function(t,e){var r={};return r.name=t.name,"..."===t.type?r.value=n.slice(e):e<n.length&&"undefined"!=typeof n[e]&&null!==n[e]?r.value=n[e]:"value"in t?r.value=t.value:"reference"in t&&(r.reference=t.reference),r})};return r})}function o(t,e){return t.sort(function(t,n){var r=function(t,n){return+(t.type===p(e[n],!0))};return t.specificity!==n.specificity?t.specificity.length-n.specificity.length||n.specificity-t.specificity:n.arguments.map(r).join("")-t.arguments.map(r).join("")})}function i(t,e,n){return e.length>n&&"type"in e[n]&&e[n].type===t}function a(t){var a=n(y,t);return a=r(a,t),a=o(a,t),a=a.filter(function(e){var n=!1,r=e.arguments.map(function(t,r){return n=i("...",e.arguments,r)||i("...",e.arguments,r+1),+!(n||"value"in t||"reference"in t)}).join("").match(/^1+/);return t.length>=(r?r[0].length:0)}),!!a.length&&e(a[0])}function u(t,e){var n=e;switch(t){case"number":n=+n;break;case"int":n=parseInt(n,10);break;case"float":n=parseFloat(n);break;case"bool":case"boolean":n=["true","1",1].indexOf(n)>=0}return n}function c(t,e,n){return(parseInt(e,10)===parseFloat(e)?"int":"float")+(n?"":"|"+t)}function s(t,e,n){return e instanceof Array&&(t="array"),e?e.constructor.name+(n?"":"|"+t):"null"}function l(t,e){return t+(e?"":"|bool")}function f(t,e){return t+(e?"":"|[a-z]+")}function p(t,e){var n=typeof t;switch(n){case"number":n=c(n,t,e);break;case"object":n=s(n,t,e);break;case"boolean":n=l(n,e);break;case"undefined":n=f(n,e)}return n}function h(t,e){var n={type:!!t&&t[1],name:t?t[2]:e};return t&&("@"===t[4]?n.reference=t[5]:"="===t[3]&&(n.value=u(n.type,t[5]))),n}function d(t){var e=/^(?:void|([a-zA-Z]+!?|\.{3})(?:[:\s]+([a-zA-Z]+)(?:(=)(@)?(.*))?)?)?$/;return t.split(/\s*,\s*/).map(function(n,r,o){var i=h(n.match(e),"var"+(r+1));if(i.type===!1)throw new Error('polymorphic: invalid argument "'+n+'" in signature "'+t+'"');if("..."===i.type&&r<o.length-1)throw new Error('polymorphic: variadic argument must be at end of signature "'+t+'"');return i}).filter(function(t){return void 0!==t.type})}function v(){var t=Array.prototype.slice.call(arguments),e=a(t);if(!e)throw new Error('polymorph: signature not found "'+t.map(function(t){return p(t)}).join(", ")+'"');return e.call.apply(this,e.param)}var y=[];return v.signature=function(){var t=Array.prototype.slice.call(arguments),e=t.length&&"function"==typeof t[t.length-1]?t.pop():null;if(!t.length)throw new Error("polymorphic.signature: expected one or more signatures");if(!e)throw new Error("polymorphic.signature: expected final argument to be a callback");t.forEach(function(t){y.push({signature:t,arguments:d(t),call:e})})},v}t.exports=r},function(t,e,n){var r=n(83),o=n(84),i=n(209),a=n(210);t.exports=i(function(t,e){return 1===t?o(e):r(t,a(t,[],e))})},function(t,e,n){var r=n(84),o=n(42);t.exports=function(t){return function e(n,i){switch(arguments.length){case 0:return e;case 1:return o(n)?e:r(function(e){return t(n,e)});default:return o(n)&&o(i)?e:o(n)?r(function(e){return t(e,i)}):o(i)?r(function(e){return t(n,e)}):t(n,i)}}}},function(t,e,n){var r=n(83),o=n(42);t.exports=function t(e,n,i){return function(){for(var a=[],u=0,c=e,s=0;s<n.length||u<arguments.length;){var l;s<n.length&&(!o(n[s])||u>=arguments.length)?l=n[s]:(l=arguments[u],u+=1),a[s]=l,o(l)||(c-=1),s+=1}return c<=0?i.apply(this,a):r(c,t(e,a,i))}}},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return v[d]=r,h(d),d++}function o(t){delete v[t]}function i(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function a(t){if(y)setTimeout(a,0,t);else{var e=v[t];if(e){y=!0;try{i(e)}finally{o(t),y=!1}}}}function u(){h=function(t){e.nextTick(function(){a(t)})}}function c(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function s(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),h=function(n){t.postMessage(e+n,"*")}}function l(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;a(e)},h=function(e){t.port2.postMessage(e)}}function f(){var t=_.documentElement;h=function(e){var n=_.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function p(){h=function(t){setTimeout(a,0,t)}}if(!t.setImmediate){var h,d=1,v={},y=!1,_=t.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(t);g=g&&g.setTimeout?g:t,"[object process]"==={}.toString.call(t.process)?u():c()?s():t.MessageChannel?l():_&&"onreadystatechange"in _.createElement("script")?f():p(),g.setImmediate=r,g.clearImmediate=o}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,n(43),n(82))},function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var o=Function.prototype.apply;e.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(211),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},,function(t,e,n){"use strict";var r=function(t){var e=n(215);return t.prototype.extras=e,t};t.exports=r},function(t,e,n){"use strict";var r={};r.reducers=n(217),r.middlewares=n(216),t.exports=r},function(t,e,n){"use strict";var r=n(25),o=new r,i=o.util,a={};a.createThunk=function(){var t=o.createMiddleware(function(){var t=i.values(arguments),e=t[1],n=function t(e){var n=e[1];return e.splice(1,1),i.Promise.resolve().then(function(){return n.apply(null,e)}).then(function(n){return i.isFunction(n)?(e.splice(1,0,n),t(e)):(e.splice(0,1,n),e)})};return i.isFunction(e)?n(t):(t.splice(0,1),t)});return t},t.exports=a},function(t,e,n){"use strict";var r=n(25),o=new r,i={};i.createUntypedReplace=function(){var t=function(t,e){return void 0!==e.type&&null!==e.type&&""!==e.type||void 0===e.payload?t:e.payload};return o.createReducer(t)},t.exports=i},,,function(t,e,n){"use strict";var r=n(25),o=n(214);t.exports=o(r)}])});
//# sourceMappingURL=./dist/alo.full.min.js.map