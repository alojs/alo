/*!
 * alo
 * Copyright(c) 2019 Katja Lutz
 * MIT Licensed
 * https://opensource.org/licenses/MIT
*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+3rF":function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return d});var o=n("lwsE"),r=n.n(o),a=n("W8MJ"),i=n.n(a),c=n("lSNA"),u=n.n(c),s=n("rqQk"),l=function(){function t(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).callSubscribersLazy,n=void 0!==e&&e;r()(this,t),u()(this,"callSubscribersLazy",void 0),this.callSubscribersLazy=n}return i()(t,[{key:"resolve",value:function(t){var e=t.action,n=t.callSubscribers,o=t.applyMutator,r=t.setAction;return e.event=Object(s.a)(),o(e),r(e),this.callSubscribersLazy&&!e.event.tagsSet||n(),e}}]),t}(),d=function(){function t(e){var n=e.actionResolver;r()(this,t),u()(this,"_actionResolver",void 0),this._actionResolver=n}return i()(t,[{key:"resolve",value:function(t){return this._actionResolver.resolve(t)}}]),t}()},"+uIb":function(t,e,n){"use strict";n.d(e,"a",function(){return D});var o=n("lwsE"),r=n.n(o),a=n("W8MJ"),i=n.n(a),c=n("a1gu"),u=n.n(c),s=n("Nsbk"),l=n.n(s),d=n("PJYZ"),h=n.n(d),p=n("7W2i"),f=n.n(p),b=n("lSNA"),v=n.n(b),m=n("+3rF"),y=n("hF9h"),A=n("rqQk"),g=n("JITl"),D=function(t){function e(){var t,n;r()(this,e);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=u()(this,(t=l()(e)).call.apply(t,[this].concat(a))),v()(h()(n),"_eventByBatchId",{}),v()(h()(n),"_childsByBatchId",{}),v()(h()(n),"_observableBatchByBatchId",{}),n}return f()(e,t),i()(e,[{key:"resolve",value:function(t){t.store,t.setAction;var e=t.applyMutator;if(!t.action.meta.batchItem&&t.action.type!==g.a)return this._actionResolver.resolve(t);var n=t.action.meta.batchId,o=t.action.meta.rootBatchId;t.action.event=this._eventByBatchId[o]=this._eventByBatchId[o]||Object(A.a)();var r=t.action;delete r.meta.batchId,delete r.meta.rootBatchId,delete r.meta.newBatch;var a=t.action.meta.parentBatchIds;if(delete r.meta.parentBatchIds,r.meta.batchItem&&r.type!==g.a&&(null==this._observableBatchByBatchId[o]&&(Object(y.c)(),this._observableBatchByBatchId[o]=!0),e(r)),r.type===g.a&&(r.payload=this._childsByBatchId[n],delete this._childsByBatchId[n]),r.meta.batchItem){if(r.type!==g.a&&a){var i=!0,c=!1,u=void 0;try{for(var s,l=a[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var d=s.value;this._childsByBatchId[d]=this._childsByBatchId[d]||[],this._childsByBatchId[d].push(r)}}catch(t){c=!0,u=t}finally{try{i||null==l.return||l.return()}finally{if(c)throw u}}}return delete r.meta.batchItem,r}return delete this._eventByBatchId[n],this._observableBatchByBatchId[o]&&(delete this._observableBatchByBatchId[o],Object(y.b)()),this._actionResolver.resolve(t)}}]),e}(m.a)},"/NGT":function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return a});var o=n("GT5+"),r=function(t){return t},a=function(t,e){var n=[],r=e({getState:t.getState,dispatch:function(e){var o=t.dispatch(e);return o&&n.push(o),o}});return Object(o.c)(r)?r.then(function(){return n}):n}},"/ekN":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n("cDf5"),r=n.n(o),a=function(t){return null!==t&&"object"===r()(t)&&!Array.isArray(t)}},"2VHu":function(t,e,n){"use strict";var o=n("hF9h");n.d(e,"computedProps",function(){return o.d}),n.d(e,"notify",function(){return o.e}),n.d(e,"observe",function(){return o.g}),n.d(e,"removeProp",function(){return o.h}),n.d(e,"setProp",function(){return o.i});var r=n("9cxV");n.o(r,"ActionNormalizer")&&n.d(e,"ActionNormalizer",function(){return r.ActionNormalizer}),n.o(r,"ActionResolver")&&n.d(e,"ActionResolver",function(){return r.ActionResolver}),n.o(r,"BatchActionNormalizerDecorator")&&n.d(e,"BatchActionNormalizerDecorator",function(){return r.BatchActionNormalizerDecorator}),n.o(r,"BatchActionResolverDecorator")&&n.d(e,"BatchActionResolverDecorator",function(){return r.BatchActionResolverDecorator}),n.o(r,"DateActionNormalizerDecorator")&&n.d(e,"DateActionNormalizerDecorator",function(){return r.DateActionNormalizerDecorator}),n.o(r,"UndoableActionNormalizerDecorator")&&n.d(e,"UndoableActionNormalizerDecorator",function(){return r.UndoableActionNormalizerDecorator}),n.o(r,"dispatchBatch")&&n.d(e,"dispatchBatch",function(){return r.dispatchBatch}),n.o(r,"dispatchThunk")&&n.d(e,"dispatchThunk",function(){return r.dispatchThunk}),n.o(r,"typeThunk")&&n.d(e,"typeThunk",function(){return r.typeThunk})},"43a5":function(t,e,n){"use strict";n.d(e,"b",function(){return v}),n.d(e,"a",function(){return m});var o=n("lwsE"),r=n.n(o),a=n("W8MJ"),i=n.n(a),c=n("lSNA"),u=n.n(c),s=n("9Ub5"),l=n("+3rF"),d=n("ogTh"),h=n("rqQk"),p=n("ww1a"),f=n("GT5+"),b=n("hF9h"),v={INIT:"@@init"},m=function(){function t(e){var n=this,o=e.mutator,a=e.state,i=e.actionNormalizer,c=void 0===i?new s.b:i,h=e.actionResolver,m=void 0===h?new l.b:h,y=e.subscribable,A=void 0===y?new p.a:y,g=e.cloneDeep,D=void 0===g?f.a:g,O=e.pureByDefault,N=void 0!==O&&O;r()(this,t),u()(this,"_isMutating",void 0),u()(this,"_observable",Object(b.f)({state:null})),u()(this,"_action",void 0),u()(this,"_mutator",void 0),u()(this,"_actionNormalizer",void 0),u()(this,"_actionResolver",void 0),u()(this,"_subscribable",void 0),u()(this,"_cloneDeep",void 0),u()(this,"_pureByDefault",void 0),u()(this,"getState",function(){return n._observable.state}),u()(this,"dispatch",function(t){if(Object(d.b)(t))return t.meta||(t.meta={}),t.meta.tmp||(t.meta.tmp={}),n._actionNormalizer.normalize({action:t,callBack:n._afterDispatchNormalization,store:n});t&&console.error("Invalid action dispatched",t)}),u()(this,"_callSubscribers",function(){n._subscribable.callSubscribers(n)}),u()(this,"_afterDispatchNormalization",function(t){return n._actionResolver.resolve({action:t,store:n,setAction:n._setAction,callSubscribers:n._callSubscribers,applyMutator:n._applyMutator})}),u()(this,"_applyMutator",function(t){var e=null!=t.meta.pure?t.meta.pure:n._pureByDefault,o=t.payload;if(null==t.payload||e||(t.payload=n._cloneDeep(o)),n._isMutating)throw new Error("Mutations already in progress");n._isMutating=!0,Object(b.a)(function(){n._applyMutatorBatch(t)}),n._isMutating=!1,t.payload=o}),u()(this,"_setAction",function(t){n._action=t}),this._actionResolver=m,this._actionNormalizer=c,this._subscribable=A,this._cloneDeep=D,this._pureByDefault=N,this._isMutating=!1,this._mutator=o,this.dispatch({type:v.INIT,meta:{impure:!0},payload:a})}return i()(t,[{key:"getAction",value:function(){return this._action}},{key:"subscribe",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._subscribable.subscribe(t,e)}},{key:"getActionNormalizer",value:function(){return this._actionNormalizer}},{key:"setActionNormalizer",value:function(t){this._actionNormalizer=t}},{key:"getActionResolver",value:function(){return this._actionResolver}},{key:"setActionResolver",value:function(t){this._actionResolver=t}},{key:"getSubscribable",value:function(){return this._subscribable}},{key:"setSubscribable",value:function(t){this._subscribable=t}},{key:"observe",value:function(t){var e=this;return Object(b.g)(function(n){t(e,n)})}},{key:"_applyMutatorBatch",value:function(t){var e=t.type===v.INIT;e&&(this._observable.state=Object(f.b)(t.payload)?Object(b.f)(t.payload):t.payload,Object(h.e)(t.event));try{var n=this._mutator(t,this._observable.state,"state",this._observable);e&&Object(f.b)(n)&&(n=Object(b.f)(n)),this._observable.state=n}catch(t){console.error(t)}}}]),t}()},"5i+U":function(t,e,n){"use strict";n.d(e,"a",function(){return y});var o=n("MVZn"),r=n.n(o),a=n("lwsE"),i=n.n(a),c=n("W8MJ"),u=n.n(c),s=n("a1gu"),l=n.n(s),d=n("Nsbk"),h=n.n(d),p=n("7W2i"),f=n.n(p),b=n("9Ub5"),v=n("ogTh"),m=n("JITl"),y=function(t){function e(){return i()(this,e),l()(this,h()(e).apply(this,arguments))}return f()(e,t),u()(e,[{key:"normalize",value:function(t){var e=t.action,n=t.store;if(!Object(v.b)(e)||e.type!==m.a||e.meta.newBatch)return this._actionNormalizer.normalize(t);var o=e.payload.map(function(t){return Object(v.a)(t)});e.meta.undo&&o.reverse();var a={getState:n.getState,dispatch:function(t){return t.meta=t.meta||{},null!=e.meta.batchId&&(t.meta.rootBatchId=e.meta.rootBatchId,t.meta.parentBatchIds=e.meta.parentBatchIds),t.type!==m.a||t.meta.batchItem||(t.meta=r()({},e.meta,t.meta)),n.dispatch(t)}};return Object(m.b)(a,function(t){var n=!0,r=!1,a=void 0;try{for(var i,c=o[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var u=i.value;e.meta.undo&&(u.meta.do=!u.meta.do,u.meta.undo=!u.meta.undo),e.meta.redo&&u.meta.do&&(u.meta.redo=!0),t.dispatch(u)}}catch(t){r=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}})}}]),e}(b.a)},"7Wkb":function(t,e){},"9Ub5":function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return l});var o=n("lSNA"),r=n.n(o),a=n("lwsE"),i=n.n(a),c=n("W8MJ"),u=n.n(c),s=function(){function t(){i()(this,t)}return u()(t,[{key:"normalize",value:function(t){var e=t.action,n=t.callBack;return e.meta.undo||e.meta.redo||(e.meta.do=!0),n(e)}}]),t}(),l=function(){function t(e){var n=e.actionNormalizer;i()(this,t),r()(this,"_actionNormalizer",void 0),this._actionNormalizer=n}return u()(t,[{key:"normalize",value:function(t){return this._actionNormalizer.normalize(t)}}]),t}()},"9cxV":function(t,e){},"GT5+":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return c});var o=n("4a6A"),r=n.n(o),a=n("/ekN");n.d(e,"b",function(){return a.a});var i=function(t){return t&&void 0!==t.then},c=function(t){return r()(t)}},"Ix2+":function(t,e){},IxKD:function(t,e,n){"use strict"},JITl:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var o=n("GT5+"),r=function(t,e){if(e.payload)return t.dispatch(e)},a="@@batch",i=0,c=function(t,e){var n=i++,c={type:a,payload:[],meta:{pure:!0,batchId:n,rootBatchId:n,batch:!0,newBatch:!0}},u=e({getState:t.getState,dispatch:function(e){return e.meta=e.meta||{},null==e.meta.batchId&&(e.meta.batchId=c.meta.batchId),e.meta.rootBatchId=c.meta.batchId,e.meta.parentBatchIds=e.meta.parentBatchIds||[],e.meta.parentBatchIds.push(c.meta.batchId),e.meta.batchItem=!0,t.dispatch(e)}});return Object(o.c)(u)?u.then(function(){return r(t,c)}):r(t,c)}},MWvk:function(t,e){},N56A:function(t,e,n){"use strict"},NCOW:function(t,e,n){"use strict";n.r(e);var o,r,a=n("lwsE"),i=n.n(a),c=n("a1gu"),u=n.n(c),s=n("Nsbk"),l=n.n(s),d=n("PJYZ"),h=n.n(d),p=n("7W2i"),f=n.n(p),b=n("lSNA"),v=n.n(b),m=n("XGAS"),y=(n("RIqP"),n("W8MJ")),A=n.n(y),g=(n("TZBG"),n("o0o1"),n("J4zp")),D=n.n(g),O=(n("yXPU"),n("43a5")),N=(n("GT5+"),n("WM21")),B=n("rqQk"),k=n("hF9h"),_="SET_ACTION",j=function(t,e){return{type:"TOGGLE_ACTION",payload:{id:t,toggle:e}}},T=Object(B.b)({name:"disabled"}),S=Object(B.b)({name:"action",children:[T]}),I=(Object(B.b)({name:"actions",entityContainer:!0,children:[S]}),Object(N.b)(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(t.meta.do){if(t.type==_){var r=t.payload.action,a=t.payload.id;e[a]||(Object(k.i)(e,a,{id:a,disabled:!1,trackState:!1,order:null},!0),Object(k.e)(o,n)),null!=t.payload.order&&(e[a].order=t.payload.order);var i=e[a].action;e[a].action=r,i&&i.meta.date&&(e[a].action.meta.date=i.meta.date),Object(B.c)(t.event,S,a)}if("REMOVE_ACTION"===t.type){var c=t.payload;Object(k.h)(e,c),Object(k.e)(o,n)}}if(t.meta.do&&"TOGGLE_ACTION"==t.type){var u=t.payload.id;e[u]&&(e[u].disabled=t.payload.toggle,Object(B.c)(t.event,T,u))}return e})),z=function(t){return{type:"SET_POINT_IN_TIME",payload:t}},P=(Object(N.a)({replaying:Object(N.b)(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"SET_REPLAYING"===t.type&&(e=t.payload),e}),pointInTime:Object(N.b)(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";if(!t.meta.do)return e;if(t.type===_&&t.payload.newAction){if(t.payload.lockPointInTime)return e;e=t.payload.id}return"SET_POINT_IN_TIME"===t.type&&(e=t.payload),"REMOVE_ACTION"===t.type&&e===t.payload&&(e="0"),e}),actions:I}),n("t5ln")),R=n("JITl"),x=n("Y2MC"),E=n("9Ub5"),w=n("5i+U"),U=n("+3rF"),C=n("+uIb"),M=Object(N.b)(function(t,e){return e||(e=Object(k.f)({height:"50vh",actionDetailsTab:"action",selectedActionId:null,selectedStore:null,actions:{}})),t.type===L&&e.actionDetailsTab!==t.payload&&(e.actionDetailsTab=t.payload),"SET_HEIGHT"===t.type&&e.height!==t.payload&&(e.height=t.payload),t.type===F&&(e.selectedStore=t.payload),t.type===J&&(e.actions[t.payload.id]||(Object(k.i)(e.actions,t.payload.id,{state:null,statePatch:null},!0),Object(k.e)(e,"actions")),e.actions[t.payload.id].state=t.payload.state,e.actions[t.payload.id].statePatch=t.payload.statePatch),"SET_SELECTED_ACTION_ID"===t.type&&e.selectedActionId!==t.payload&&(e.selectedActionId=t.payload),e}),L="SET_ACTION_DETAILS_TAB",W=function(t){return{type:L,payload:t}},J="SET_ACTION",F="SET_SELECTED_STORE",G=function(t){return{type:"SET_SELECTED_ACTION_ID",payload:t}},V=Object(x.createBlueprint)({create:function(){var t=new E.b;t=new w.a({actionNormalizer:t});var e=new U.b;return e=new C.a({actionResolver:e}),new O.a({mutator:M,actionResolver:e,actionNormalizer:t})},meta:{singleton:!0}}),q=function(){function t(){var e=this;i()(this,t),v()(this,"_subscriptions",{}),v()(this,"_observeFunctions",[]),v()(this,"_mounted",!1),v()(this,"_started",!1),v()(this,"_startSubscription",function(t,n){e._subscriptions[n]=o.observe(t)})}return A()(t,[{key:"observe",value:function(t){var e=this,n=this._observeFunctions.push(t)-1;return this._mounted&&this._startSubscription(t,n),function(){e._observeFunctions.splice(n,1),e._subscriptions[n]&&(e._subscriptions[n](),delete e._subscriptions[n])}}},{key:"startSubscriptions",value:function(){this._started&&this.clearSubscriptions(),this._started=!0,this._observeFunctions.forEach(this._startSubscription)}},{key:"clearSubscriptions",value:function(){for(var t=0,e=Object.values(this._subscriptions);t<e.length;t++){var n=e[t];n&&n()}this._started=!1,this._subscriptions={}}},{key:"onmount",value:function(){this._mounted=!0,this.startSubscriptions()}},{key:"onunmount",value:function(){this._mounted=!1,this.clearSubscriptions()}}]),t}(),Y=function(t){function e(){var t,n;i()(this,e);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=u()(this,(t=l()(e)).call.apply(t,[this].concat(a))),v()(h()(n),"state",o.observable({index:null,item:null,items:null,context:null})),n}return f()(e,t),A()(e,[{key:"update",value:function(t,e,n,r){o.batchStart(),this.state.item=t,this.state.index=e,this.state.items=n,this.state.context=r,o.batchEnd()}}]),e}(q),H=(x.AbstractEntityCreatorDecorator,Object(x.createBlueprint)({create:(r="globalDevtoolsState",function(t){return t.globals[r]})})),Z=Object(x.createBlueprint)({create:function(t){var e=t.ioc;return function(t){var n=e.get({blueprint:V}),o=e.get({blueprint:H});return new Q({store:n,onSelectAction:t,globalState:o})}}}),Q=function(t){function e(t){var n,o=t.store,r=t.globalState,a=t.onSelectAction;return i()(this,e),n=u()(this,l()(e).call(this)),v()(h()(n),"onSelectAction",void 0),v()(h()(n),"store",void 0),v()(h()(n),"globalState",void 0),v()(h()(n),"titleEl",Object(P.a)("h3",{style:{"font-size":"0.9rem",margin:0,"margin-bottom":"3px"}},"")),v()(h()(n),"dateTimeEl",Object(P.a)("div")),v()(h()(n),"pointInTimeEl",Object(P.a)("input",{type:"radio",style:{marginTop:"-3px",marginRight:"10px"},onchange:function(t){if(t.currentTarget.checked){var e=n.store.getState().selectedStore,o=n.globalState.timemachines[e];o.getStore().dispatch(z(n.state.item.id)),o.replay()}}})),v()(h()(n),"disabledInputEl",Object(P.a)("input",{type:"checkbox",style:{marginTop:"0",marginLeft:"10px"},onchange:function(t){var e=n.store.getState().selectedStore,o=n.globalState.timemachines[e];o.getStore().dispatch(j(n.state.item.id,!t.currentTarget.checked)),o.replay()}})),v()(h()(n),"batchItemTypes",Object(P.a)("span",{style:{"font-size":"0.7rem"}})),v()(h()(n),"flexWrapperEl",Object(P.a)("div",{style:{display:"flex"}},[n.pointInTimeEl,Object(P.a)("a",{href:"#!",onclick:function(t){n.onSelectAction&&n.onSelectAction(t,n.state.item.id)},style:{display:"flex",color:"#ddd",flex:1,outline:"none",textDecoration:"none"}},[Object(P.a)("span",[n.titleEl,n.batchItemTypes],{style:{flex:1}}),n.dateTimeEl=Object(P.a)("div")]),Object(P.a)("div",n.disabledInputEl)])),v()(h()(n),"el",Object(P.a)("div",{style:{padding:"5px",borderBottomWidth:"1px",borderBottomStyle:"solid",borderLeftWidth:"2px",borderLeftStyle:"solid"}},n.flexWrapperEl)),n.globalState=r,n.store=o,n.onSelectAction=a,n.observe(function(){var t=n.state.item,e=n.store.getState().selectedStore,o=n.globalState.timemachines[e].getStore().getState().pointInTime;n.pointInTimeEl.checked=o===t.id,n.disabledInputEl.checked=!t.disabled;var r=parseInt(o),a=parseInt(t.id);n.flexWrapperEl.style.opacity=a>r||t.disabled?"0.5":"1"}),n.observe(function(){var t=n.state.item,e=n.store.getState().selectedStore,o=n.globalState.timemachines[e].getStore().getState().replaying,r=t.action.type===O.b.INIT;n.disabledInputEl.disabled=o||r,n.pointInTimeEl.disabled=o}),n.observe(function(){var t=n.state.item,e=n.store.getState();t.id===e.selectedActionId?(n.el.style.backgroundColor="#29292e",n.el.style.borderLeftColor="#656767",n.el.style.borderBottomColor="#55576c"):(n.el.style.backgroundColor=0===n.state.index||n.state.index%2==0?"":"#232427",n.el.style.borderLeftColor="transparent",n.el.style.borderBottomColor="#2b2b2b"),n.titleEl.textContent=t.action.type;var o=t.action;if(o.type===O.b.INIT&&(n.disabledInputEl.style.opacity="0"),o.meta.date){var r=o.meta.date,a=(r.getHours()+"").padStart(2,"0"),i=(r.getMinutes()+"").padStart(2,"0"),c=(r.getSeconds()+"").padStart(2,"0"),u=(r.getMilliseconds()+"").padStart(3,"0");n.dateTimeEl.textContent="".concat(a,":").concat(i,":").concat(c,".").concat(u)}o.type===R.a&&(n.batchItemTypes.textContent="( ".concat(o.payload.map(function(t){return t.type}).join(" , ")," )"))}),n}return f()(e,t),e}(Y),X=(Object(x.createBlueprint)({create:function(t){var e=t.ioc;return new X({store:e.get({blueprint:V}),globalState:e.get({blueprint:H}),createItem:e.get({blueprint:Z})})}}),function(t){function e(t){var n,o=t.store,r=t.globalState,a=t.createItem;return i()(this,e),n=u()(this,l()(e).call(this)),v()(h()(n),"actionCountCache",0),v()(h()(n),"store",void 0),v()(h()(n),"globalState",void 0),v()(h()(n),"createItem",void 0),v()(h()(n),"listEl",Object(P.b)(Object(P.a)("ul",{style:{margin:"0",padding:"10px 0 0 0"}}),function(){return n.createItem(n.onSelectItem)},"id")),v()(h()(n),"el",Object(P.a)("div",{style:{backgroundColor:"#212125",flex:1,"overflow-y":"scroll"}},n.listEl)),v()(h()(n),"onSelectItem",function(t,e){n.store.dispatch(G(e))}),n.store=o,n.globalState=r,n.createItem=a,n.observe(function(t){var e=n.store.getState().selectedStore,o=n.globalState.timemachines[e];if(o){var r=o.getStore().getState().actions;t();var a=Object.values(r).sort(function(t,e){return t.order-e.order});n.listEl.update(a);var i=a.length;n.actionCountCache!=i&&(n.el.scrollTop=n.el.scrollHeight),n.actionCountCache=i}}),n}return f()(e,t),e}(q)),K=n("Z0cm"),$=n.n(K),tt=n("YO3V"),et=n.n(tt),nt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i()(this,t),v()(this,"el",Object(P.a)("div",{style:{"font-family":'"Courier New", Courier, monospace',padding:"0px"}})),v()(this,"type","primitive"),v()(this,"value",void 0),v()(this,"showItemDefault",void 0),this.showItemDefault=n,this.value=e,this.init()}return A()(t,[{key:"init",value:function(){var e=this,n=this.value,o=et()(n),r=!o&&$()(n);if(o||r){this.type=r?"array":"object";var a=Object(P.b)("table",function(n,o){var r,a=D()(o,2),i=a[0],c=a[1],u=function(t){var e=et()(t),n=!e&&$()(t);return!e&&!n}(c),s=u?"".concat(i,":"):i;if(u)r=Object(P.a)("tr",[Object(P.a)("td",{style:{color:"#77bbee",padding:"3px 3px 3px 21px","margin-right":"3px"}},s),Object(P.a)("td",new t(c))]);else{var l,d=e.showItemDefault,h=function(){p.textContent="".concat(d?"v ":"> ").concat(s),d?Object(P.d)(l,new t(c)):Object(P.d)(l,[])},p=Object(P.a)("a",{style:{outline:"none"},href:"#!",onclick:function(){d=!d,h()}},"> "+s);p.style.color="#77bbee",p.style.textDecoration="none",r=Object(P.a)("tr",[Object(P.a)("td",{style:{"vertical-align":"top"}},p),l=Object(P.a)("td",{style:{"padding-left":"4px"}})]),h()}return r.style.padding="3px 0",{el:r}}),i=Object.entries(n).length;a.update(Object.entries(n)),a.el.style["padding-left"]="8px",a.el.style["border-left"]="1px solid #333";var c={color:"#799"},u=i>0?"len="+n.length:"",s="array"===this.type?"[ "+u:"{",l="array"===this.type?"]":"}";return 0===i?void Object(P.d)(this.el,[Object(P.a)("div",{style:c},s+" "+l)]):void Object(P.d)(this.el,[Object(P.a)("div",{style:c},s),a,Object(P.a)("div",{style:c},l)])}this.el.style["border-radius"]="3px",this.el.style.padding="3px",this.el.style["background-color"]="#28332b",this.el.style.color="white",this.el.style.float="left",this.el.textContent=null!==n?void 0!==n?JSON.stringify(n,null,"  "):"undefined":"null"}}]),t}(),ot=(Object(x.createBlueprint)({create:function(t){var e=t.ioc,n=e.get({blueprint:V}),o=e.get({blueprint:H});return new ct({store:n,globalState:o})},meta:{singleton:!0}}),function(){function t(){i()(this,t),v()(this,"el",Object(P.a)("div")),v()(this,"jsonBox",new it)}return A()(t,[{key:"update",value:function(t){var e=t.state;null!=e.timemachineAction&&(this.jsonBox.update(e.timemachineAction.action),Object(P.d)(this.el,[this.jsonBox,new nt(e.timemachineAction.action,!0)]))}}]),t}()),rt=function(){function t(){i()(this,t),v()(this,"el",Object(P.a)("div")),v()(this,"jsonBox",new it)}return A()(t,[{key:"update",value:function(t){var e=t.state;if(null!=e.storeAction){var n="Too much data for an rfc6902 diff";try{n=e.storeAction.statePatch()}catch(t){}this.jsonBox.update(n),Object(P.d)(this.el,[this.jsonBox,new nt(n,!0)])}}}]),t}(),at=function(){function t(){i()(this,t),v()(this,"el",Object(P.a)("div")),v()(this,"jsonBox",new it)}return A()(t,[{key:"update",value:function(t){var e=t.state;null!=e.storeAction&&(this.jsonBox.update(e.storeAction.state),Object(P.d)(this.el,[this.jsonBox,new nt(e.storeAction.state)]))}}]),t}(),it=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Show json";return i()(this,e),t=u()(this,l()(e).call(this)),v()(h()(t),"state",Object(k.f)({show:!1,data:null})),v()(h()(t),"title",void 0),v()(h()(t),"preEl",Object(P.a)("pre",{style:{"font-size":"0.7rem","font-family":'"Courier New", Courier, monospace'}})),v()(h()(t),"preWrap",Object(P.a)("div",{style:{border:"1px solid gray",padding:"3px",margin:"6px"}},t.preEl)),v()(h()(t),"el",Object(P.a)("div",[Object(P.a)("a",{href:"#!",style:{color:"inherit"},onclick:function(){t.state.show=!t.state.show}},t.title),t.preWrap])),t.title=n,t.observe(function(){var e=t.state.data;t.state.show?t.preEl.textContent=JSON.stringify(e,null,"  "):t.preEl.textContent=""}),t.observe(function(){t.preWrap.style.display=t.state.show?"block":"none"}),t}return f()(e,t),A()(e,[{key:"update",value:function(t){this.state.data=t}}]),e}(q),ct=function(t){function e(t){var n,o=t.store,r=t.globalState;return i()(this,e),n=u()(this,l()(e).call(this)),v()(h()(n),"state",Object(k.f)({timemachineAction:null,storeAction:null,tab:null})),v()(h()(n),"store",void 0),v()(h()(n),"globalState",void 0),v()(h()(n),"routerWrap",Object(P.a)("div")),v()(h()(n),"buttonActionEl",Object(P.a)("button",{title:"Show action tab",onclick:function(){n.store.dispatch(W("action"))}},"Action")),v()(h()(n),"buttonPatchEl",Object(P.a)("button",{title:"Show patch tab",onclick:function(){n.store.dispatch(W("patch"))}},"Patch")),v()(h()(n),"buttonStateEl",Object(P.a)("button",{title:"Show state tab",onclick:function(){n.store.dispatch(W("state"))}},"State")),v()(h()(n),"routerButtons",Object(P.a)("div",{style:{marginBottom:"10px"}},[n.buttonActionEl," ",n.buttonPatchEl," ",n.buttonStateEl])),v()(h()(n),"el",Object(P.a)("div",{style:{padding:"10px 20px"}})),v()(h()(n),"router",Object(P.c)(n.routerWrap,{none:function(){return{el:Object(P.e)("No action selected")}},action:ot,patch:rt,state:at})),n.store=o,n.globalState=r,n.observe(function(){var t=n.store.getState(),e=t.selectedStore,o=n.globalState.timemachines[e];if(o){var r=o.getStore().getState(),a=t.selectedActionId;null!=a?(n.state.timemachineAction=r.actions[a],n.state.storeAction=t.actions[a]):(n.state.timemachineAction=null,n.state.storeAction=null)}}),n.observe(function(){var t=n.store.getState();n.state.tab=t.actionDetailsTab}),n.observe(function(){var t=n.state.tab;n.buttonActionEl.disabled="action"===t,n.buttonPatchEl.disabled="patch"===t,n.buttonStateEl.disabled="state"===t,null==n.state.storeAction?(n.router.update("none"),Object(P.d)(n.el,[n.routerWrap])):(n.router.update(t,h()(n)),Object(P.d)(n.el,[n.routerButtons,n.routerWrap]))}),n}return f()(e,t),e}(q);n("L5Xn");!function(t){o=t}({observe:k.g,observable:k.f,batchStart:k.c,batchEnd:k.b});Object(k.f)({stores:{},timemachines:{}});var ut=new m.ActionNormalizer;ut=new m.DateActionNormalizerDecorator({actionNormalizer:ut}),ut=new m.UndoableActionNormalizerDecorator({actionNormalizer:ut}),ut=new m.BatchActionNormalizerDecorator({actionNormalizer:ut});var st=new m.ActionResolver;st=new m.BatchActionResolverDecorator({actionResolver:st});var lt=0,dt=function(){return{type:"create",payload:{id:lt++,name:"name"+(lt-1),surname:"surname"+(lt-1)},meta:{pure:!0}}},ht="personsCreateUndo",pt=Object(m.createUndoableMutator)({id:ht,actionFilter:function(t){return"create"===t.type}}),ft=new m.Store({actionResolver:st,actionNormalizer:ut,mutator:Object(m.typeMutator)(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{notperson:{},person:{},undo:void 0};switch(t.type){case"create":if(t.meta.do){var n=t.payload.id;Object(m.setProp)(e.person,n,t.payload,!0),Object(m.notify)(e,"person"),Object(m.setUndoData)(t,"person",n)}else if(t.meta.undo){var o=Object(m.getUndoData)(t,"person");Object(m.removeProp)(e.person,o),Object(m.notify)(e,"person")}break;case"surname":e.person[t.payload.id].surname=t.payload.surname}return e.undo=pt(t,e.undo),e})}),bt=0,vt=Object(m.computedProps)({personCount:function(){return bt++,Object.keys(ft.getState().person).length},personCountX2:function(t){return bt++,2*t.personCount},personCountNegative:function(t){return bt++,t.personCount-t.personCountX2}}),mt=Object(P.a)("pre");Object(m.observe)(function(){mt.textContent="Computed props: "+JSON.stringify({calculations:bt,results:vt})+" "+Math.random()});var yt=function(t){function e(){var t;i()(this,e),t=u()(this,l()(e).call(this)),v()(h()(t),"el",Object(P.a)("li"));var n=h()(t);return t.observe(function(){n.el.textContent=JSON.stringify(n.state.item)+" "+Math.random()}),t}return f()(e,t),e}(Y),At=Object(P.b)("ul",yt,"id"),gt={},Dt=Object(P.a)("div",[gt.count=Object(P.a)("input",{value:1,size:3}),Object(P.a)("button",{onclick:function(){var t=gt.count.value;t>1?Object(m.dispatchBatch)(ft,function(e){for(var n=0;n<t;n++)e.dispatch(dt())}):ft.dispatch(dt())}},"Add person"),Object(P.a)("button",{onclick:function(){return Object(m.dispatchBatch)(ft,Object(m.createUndoThunk)(ht))}},"Undo"),Object(P.a)("button",{onclick:function(){return Object(m.dispatchBatch)(ft,Object(m.createRedoThunk)(ht))}},"Redo"),mt,At]),Ot=Object(P.a)("div.dev");Object(P.d)(document.querySelector("#app"),[Dt,Ot]),ft.observe(function(t,e){var n=ft.getState().person;e(),requestAnimationFrame(function(){At.update(Object.values(n))})})},OEYk:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var o=n("MVZn"),r=n.n(o),a=n("lwsE"),i=n.n(a),c=n("W8MJ"),u=n.n(c),s=n("a1gu"),l=n.n(s),d=n("Nsbk"),h=n.n(d),p=n("7W2i"),f=n.n(p),b=function(t){function e(){return i()(this,e),l()(this,h()(e).apply(this,arguments))}return f()(e,t),u()(e,[{key:"normalize",value:function(t){return t.action.meta.undoData&&(t.action.meta.undoData=r()({},t.action.meta.undoData)),this._actionNormalizer.normalize(t)}}]),e}(n("9Ub5").a)},RO4U:function(t,e){},SlNk:function(t,e){},WM21:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return r});var o=function(t){return t},r=function(t){var e=Object.keys(t);return function(n){for(var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=0,a=e;r<a.length;r++){var i=a[r];o[i]=t[i](n,o[i],i,o)}return o}}},XGAS:function(t,e,n){"use strict";var o=n("43a5");n.d(e,"Store",function(){return o.a});var r=n("Ix2+");n.o(r,"ActionNormalizer")&&n.d(e,"ActionNormalizer",function(){return r.ActionNormalizer}),n.o(r,"ActionResolver")&&n.d(e,"ActionResolver",function(){return r.ActionResolver}),n.o(r,"BatchActionNormalizerDecorator")&&n.d(e,"BatchActionNormalizerDecorator",function(){return r.BatchActionNormalizerDecorator}),n.o(r,"BatchActionResolverDecorator")&&n.d(e,"BatchActionResolverDecorator",function(){return r.BatchActionResolverDecorator}),n.o(r,"DateActionNormalizerDecorator")&&n.d(e,"DateActionNormalizerDecorator",function(){return r.DateActionNormalizerDecorator}),n.o(r,"UndoableActionNormalizerDecorator")&&n.d(e,"UndoableActionNormalizerDecorator",function(){return r.UndoableActionNormalizerDecorator}),n.o(r,"cloneAction")&&n.d(e,"cloneAction",function(){return r.cloneAction}),n.o(r,"computedProps")&&n.d(e,"computedProps",function(){return r.computedProps}),n.o(r,"createRedoThunk")&&n.d(e,"createRedoThunk",function(){return r.createRedoThunk}),n.o(r,"createUndoThunk")&&n.d(e,"createUndoThunk",function(){return r.createUndoThunk}),n.o(r,"createUndoableMutator")&&n.d(e,"createUndoableMutator",function(){return r.createUndoableMutator}),n.o(r,"dispatchBatch")&&n.d(e,"dispatchBatch",function(){return r.dispatchBatch}),n.o(r,"dispatchThunk")&&n.d(e,"dispatchThunk",function(){return r.dispatchThunk}),n.o(r,"getUndoData")&&n.d(e,"getUndoData",function(){return r.getUndoData}),n.o(r,"notify")&&n.d(e,"notify",function(){return r.notify}),n.o(r,"observe")&&n.d(e,"observe",function(){return r.observe}),n.o(r,"removeProp")&&n.d(e,"removeProp",function(){return r.removeProp}),n.o(r,"setProp")&&n.d(e,"setProp",function(){return r.setProp}),n.o(r,"setUndoData")&&n.d(e,"setUndoData",function(){return r.setUndoData}),n.o(r,"typeThunk")&&n.d(e,"typeThunk",function(){return r.typeThunk});var a=n("ogTh");n.d(e,"cloneAction",function(){return a.a});var i=n("SlNk");n.o(i,"ActionNormalizer")&&n.d(e,"ActionNormalizer",function(){return i.ActionNormalizer}),n.o(i,"ActionResolver")&&n.d(e,"ActionResolver",function(){return i.ActionResolver}),n.o(i,"BatchActionNormalizerDecorator")&&n.d(e,"BatchActionNormalizerDecorator",function(){return i.BatchActionNormalizerDecorator}),n.o(i,"BatchActionResolverDecorator")&&n.d(e,"BatchActionResolverDecorator",function(){return i.BatchActionResolverDecorator}),n.o(i,"DateActionNormalizerDecorator")&&n.d(e,"DateActionNormalizerDecorator",function(){return i.DateActionNormalizerDecorator}),n.o(i,"UndoableActionNormalizerDecorator")&&n.d(e,"UndoableActionNormalizerDecorator",function(){return i.UndoableActionNormalizerDecorator}),n.o(i,"computedProps")&&n.d(e,"computedProps",function(){return i.computedProps}),n.o(i,"createRedoThunk")&&n.d(e,"createRedoThunk",function(){return i.createRedoThunk}),n.o(i,"createUndoThunk")&&n.d(e,"createUndoThunk",function(){return i.createUndoThunk}),n.o(i,"createUndoableMutator")&&n.d(e,"createUndoableMutator",function(){return i.createUndoableMutator}),n.o(i,"dispatchBatch")&&n.d(e,"dispatchBatch",function(){return i.dispatchBatch}),n.o(i,"dispatchThunk")&&n.d(e,"dispatchThunk",function(){return i.dispatchThunk}),n.o(i,"getUndoData")&&n.d(e,"getUndoData",function(){return i.getUndoData}),n.o(i,"notify")&&n.d(e,"notify",function(){return i.notify}),n.o(i,"observe")&&n.d(e,"observe",function(){return i.observe}),n.o(i,"removeProp")&&n.d(e,"removeProp",function(){return i.removeProp}),n.o(i,"setProp")&&n.d(e,"setProp",function(){return i.setProp}),n.o(i,"setUndoData")&&n.d(e,"setUndoData",function(){return i.setUndoData}),n.o(i,"typeThunk")&&n.d(e,"typeThunk",function(){return i.typeThunk});n("rqQk");var c=n("ad2q");n.o(c,"ActionNormalizer")&&n.d(e,"ActionNormalizer",function(){return c.ActionNormalizer}),n.o(c,"ActionResolver")&&n.d(e,"ActionResolver",function(){return c.ActionResolver}),n.o(c,"BatchActionNormalizerDecorator")&&n.d(e,"BatchActionNormalizerDecorator",function(){return c.BatchActionNormalizerDecorator}),n.o(c,"BatchActionResolverDecorator")&&n.d(e,"BatchActionResolverDecorator",function(){return c.BatchActionResolverDecorator}),n.o(c,"DateActionNormalizerDecorator")&&n.d(e,"DateActionNormalizerDecorator",function(){return c.DateActionNormalizerDecorator}),n.o(c,"UndoableActionNormalizerDecorator")&&n.d(e,"UndoableActionNormalizerDecorator",function(){return c.UndoableActionNormalizerDecorator}),n.o(c,"computedProps")&&n.d(e,"computedProps",function(){return c.computedProps}),n.o(c,"createRedoThunk")&&n.d(e,"createRedoThunk",function(){return c.createRedoThunk}),n.o(c,"createUndoThunk")&&n.d(e,"createUndoThunk",function(){return c.createUndoThunk}),n.o(c,"createUndoableMutator")&&n.d(e,"createUndoableMutator",function(){return c.createUndoableMutator}),n.o(c,"dispatchBatch")&&n.d(e,"dispatchBatch",function(){return c.dispatchBatch}),n.o(c,"dispatchThunk")&&n.d(e,"dispatchThunk",function(){return c.dispatchThunk}),n.o(c,"getUndoData")&&n.d(e,"getUndoData",function(){return c.getUndoData}),n.o(c,"notify")&&n.d(e,"notify",function(){return c.notify}),n.o(c,"observe")&&n.d(e,"observe",function(){return c.observe}),n.o(c,"removeProp")&&n.d(e,"removeProp",function(){return c.removeProp}),n.o(c,"setProp")&&n.d(e,"setProp",function(){return c.setProp}),n.o(c,"setUndoData")&&n.d(e,"setUndoData",function(){return c.setUndoData}),n.o(c,"typeThunk")&&n.d(e,"typeThunk",function(){return c.typeThunk});var u=n("WM21");n.d(e,"typeMutator",function(){return u.b});n("IxKD");var s=n("culV");n.d(e,"createRedoThunk",function(){return s.a}),n.d(e,"createUndoThunk",function(){return s.b}),n.d(e,"createUndoableMutator",function(){return s.c}),n.d(e,"getUndoData",function(){return s.d}),n.d(e,"setUndoData",function(){return s.e});var l=n("MWvk");n.o(l,"ActionNormalizer")&&n.d(e,"ActionNormalizer",function(){return l.ActionNormalizer}),n.o(l,"ActionResolver")&&n.d(e,"ActionResolver",function(){return l.ActionResolver}),n.o(l,"BatchActionNormalizerDecorator")&&n.d(e,"BatchActionNormalizerDecorator",function(){return l.BatchActionNormalizerDecorator}),n.o(l,"BatchActionResolverDecorator")&&n.d(e,"BatchActionResolverDecorator",function(){return l.BatchActionResolverDecorator}),n.o(l,"DateActionNormalizerDecorator")&&n.d(e,"DateActionNormalizerDecorator",function(){return l.DateActionNormalizerDecorator}),n.o(l,"UndoableActionNormalizerDecorator")&&n.d(e,"UndoableActionNormalizerDecorator",function(){return l.UndoableActionNormalizerDecorator}),n.o(l,"computedProps")&&n.d(e,"computedProps",function(){return l.computedProps}),n.o(l,"dispatchBatch")&&n.d(e,"dispatchBatch",function(){return l.dispatchBatch}),n.o(l,"dispatchThunk")&&n.d(e,"dispatchThunk",function(){return l.dispatchThunk}),n.o(l,"notify")&&n.d(e,"notify",function(){return l.notify}),n.o(l,"observe")&&n.d(e,"observe",function(){return l.observe}),n.o(l,"removeProp")&&n.d(e,"removeProp",function(){return l.removeProp}),n.o(l,"setProp")&&n.d(e,"setProp",function(){return l.setProp}),n.o(l,"typeThunk")&&n.d(e,"typeThunk",function(){return l.typeThunk});n("ww1a");var d=n("RO4U");n.o(d,"ActionNormalizer")&&n.d(e,"ActionNormalizer",function(){return d.ActionNormalizer}),n.o(d,"ActionResolver")&&n.d(e,"ActionResolver",function(){return d.ActionResolver}),n.o(d,"BatchActionNormalizerDecorator")&&n.d(e,"BatchActionNormalizerDecorator",function(){return d.BatchActionNormalizerDecorator}),n.o(d,"BatchActionResolverDecorator")&&n.d(e,"BatchActionResolverDecorator",function(){return d.BatchActionResolverDecorator}),n.o(d,"DateActionNormalizerDecorator")&&n.d(e,"DateActionNormalizerDecorator",function(){return d.DateActionNormalizerDecorator}),n.o(d,"UndoableActionNormalizerDecorator")&&n.d(e,"UndoableActionNormalizerDecorator",function(){return d.UndoableActionNormalizerDecorator}),n.o(d,"computedProps")&&n.d(e,"computedProps",function(){return d.computedProps}),n.o(d,"dispatchBatch")&&n.d(e,"dispatchBatch",function(){return d.dispatchBatch}),n.o(d,"dispatchThunk")&&n.d(e,"dispatchThunk",function(){return d.dispatchThunk}),n.o(d,"notify")&&n.d(e,"notify",function(){return d.notify}),n.o(d,"observe")&&n.d(e,"observe",function(){return d.observe}),n.o(d,"removeProp")&&n.d(e,"removeProp",function(){return d.removeProp}),n.o(d,"setProp")&&n.d(e,"setProp",function(){return d.setProp}),n.o(d,"typeThunk")&&n.d(e,"typeThunk",function(){return d.typeThunk});var h=n("2VHu");n.o(h,"ActionNormalizer")&&n.d(e,"ActionNormalizer",function(){return h.ActionNormalizer}),n.o(h,"ActionResolver")&&n.d(e,"ActionResolver",function(){return h.ActionResolver}),n.o(h,"BatchActionNormalizerDecorator")&&n.d(e,"BatchActionNormalizerDecorator",function(){return h.BatchActionNormalizerDecorator}),n.o(h,"BatchActionResolverDecorator")&&n.d(e,"BatchActionResolverDecorator",function(){return h.BatchActionResolverDecorator}),n.o(h,"DateActionNormalizerDecorator")&&n.d(e,"DateActionNormalizerDecorator",function(){return h.DateActionNormalizerDecorator}),n.o(h,"UndoableActionNormalizerDecorator")&&n.d(e,"UndoableActionNormalizerDecorator",function(){return h.UndoableActionNormalizerDecorator}),n.o(h,"computedProps")&&n.d(e,"computedProps",function(){return h.computedProps}),n.o(h,"dispatchBatch")&&n.d(e,"dispatchBatch",function(){return h.dispatchBatch}),n.o(h,"dispatchThunk")&&n.d(e,"dispatchThunk",function(){return h.dispatchThunk}),n.o(h,"notify")&&n.d(e,"notify",function(){return h.notify}),n.o(h,"observe")&&n.d(e,"observe",function(){return h.observe}),n.o(h,"removeProp")&&n.d(e,"removeProp",function(){return h.removeProp}),n.o(h,"setProp")&&n.d(e,"setProp",function(){return h.setProp}),n.o(h,"typeThunk")&&n.d(e,"typeThunk",function(){return h.typeThunk});var p=n("9Ub5");n.d(e,"ActionNormalizer",function(){return p.b});var f=n("7Wkb");n.o(f,"ActionResolver")&&n.d(e,"ActionResolver",function(){return f.ActionResolver}),n.o(f,"BatchActionNormalizerDecorator")&&n.d(e,"BatchActionNormalizerDecorator",function(){return f.BatchActionNormalizerDecorator}),n.o(f,"BatchActionResolverDecorator")&&n.d(e,"BatchActionResolverDecorator",function(){return f.BatchActionResolverDecorator}),n.o(f,"DateActionNormalizerDecorator")&&n.d(e,"DateActionNormalizerDecorator",function(){return f.DateActionNormalizerDecorator}),n.o(f,"UndoableActionNormalizerDecorator")&&n.d(e,"UndoableActionNormalizerDecorator",function(){return f.UndoableActionNormalizerDecorator}),n.o(f,"computedProps")&&n.d(e,"computedProps",function(){return f.computedProps}),n.o(f,"dispatchBatch")&&n.d(e,"dispatchBatch",function(){return f.dispatchBatch}),n.o(f,"dispatchThunk")&&n.d(e,"dispatchThunk",function(){return f.dispatchThunk}),n.o(f,"notify")&&n.d(e,"notify",function(){return f.notify}),n.o(f,"observe")&&n.d(e,"observe",function(){return f.observe}),n.o(f,"removeProp")&&n.d(e,"removeProp",function(){return f.removeProp}),n.o(f,"setProp")&&n.d(e,"setProp",function(){return f.setProp}),n.o(f,"typeThunk")&&n.d(e,"typeThunk",function(){return f.typeThunk});var b=n("5i+U");n.d(e,"BatchActionNormalizerDecorator",function(){return b.a});var v=n("kHfi");n.d(e,"DateActionNormalizerDecorator",function(){return v.a});var m=n("OEYk");n.d(e,"UndoableActionNormalizerDecorator",function(){return m.a});var y=n("+3rF");n.d(e,"ActionResolver",function(){return y.b});var A=n("dEzw");n.o(A,"BatchActionResolverDecorator")&&n.d(e,"BatchActionResolverDecorator",function(){return A.BatchActionResolverDecorator}),n.o(A,"computedProps")&&n.d(e,"computedProps",function(){return A.computedProps}),n.o(A,"dispatchBatch")&&n.d(e,"dispatchBatch",function(){return A.dispatchBatch}),n.o(A,"dispatchThunk")&&n.d(e,"dispatchThunk",function(){return A.dispatchThunk}),n.o(A,"notify")&&n.d(e,"notify",function(){return A.notify}),n.o(A,"observe")&&n.d(e,"observe",function(){return A.observe}),n.o(A,"removeProp")&&n.d(e,"removeProp",function(){return A.removeProp}),n.o(A,"setProp")&&n.d(e,"setProp",function(){return A.setProp}),n.o(A,"typeThunk")&&n.d(e,"typeThunk",function(){return A.typeThunk});var g=n("+uIb");n.d(e,"BatchActionResolverDecorator",function(){return g.a});var D=n("JITl");n.d(e,"dispatchBatch",function(){return D.b});var O=n("/NGT");n.d(e,"dispatchThunk",function(){return O.a}),n.d(e,"typeThunk",function(){return O.b});n("N56A"),n("tsFY");var N=n("b4PM");n.o(N,"computedProps")&&n.d(e,"computedProps",function(){return N.computedProps}),n.o(N,"notify")&&n.d(e,"notify",function(){return N.notify}),n.o(N,"observe")&&n.d(e,"observe",function(){return N.observe}),n.o(N,"removeProp")&&n.d(e,"removeProp",function(){return N.removeProp}),n.o(N,"setProp")&&n.d(e,"setProp",function(){return N.setProp});n("GT5+")},ad2q:function(t,e){},b4PM:function(t,e){},culV:function(t,e,n){"use strict";n.d(e,"e",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return h}),n.d(e,"a",function(){return p}),n.d(e,"c",function(){return f});var o=n("MVZn"),r=n.n(o),a=n("43a5"),i=n("WM21"),c=n("rqQk"),u=n("XGAS"),s=function(t,e,n){var o=t.meta.undoData=t.meta.undoData||{};return t.meta.do&&(o[e]=n),o[e]},l=function(t,e){return(t.meta.undoData=t.meta.undoData||{})[e]},d=function(t,e){t.meta=t.meta||{},t.meta.undoableCache=e},h=function(t){return Object(u.typeThunk)(function(e){var n=e.dispatch({type:"@@undo_"+t});n&&n.meta&&n.meta.undoableCache&&(e.dispatch({type:n.meta.undoableCache.type,payload:n.meta.undoableCache.payload,meta:n.meta.undoableCache.meta}),delete n.meta.undoableCache)})},p=function(t){return Object(u.typeThunk)(function(e){var n=e.dispatch({type:"@@redo_"+t});n&&n.meta&&n.meta.undoableCache&&(e.dispatch({type:n.meta.undoableCache.type,payload:n.meta.undoableCache.payload,meta:n.meta.undoableCache.meta}),delete n.meta.undoableCache)})},f=function(t){var e=t.id,n=t.tags,o=void 0===n?{}:n,u=t.actionFilter;if(o.self&&(o.past||o.future)){var s=[];o.past&&s.push(o.past),o.future&&s.push(o.future),Object(c.d)(o.self,s)}return Object(i.b)(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{past:[],future:[]};if(t.type==="@@undo_"+e){if(0===n.past.length)return n;var i=n.past.pop();if(o.past&&Object(c.c)(t.event,o.past),!i)return console.log("this actually happens"),n;d(t,{type:i.type,payload:i.payload,meta:r()({},i.meta,{do:!1,redo:!1,undo:!0})}),n.future.push(i),o.future&&Object(c.c)(t.event,o.future)}else if(t.type==="@@redo_"+e){if(0===n.future.length)return n;var s=n.future.pop();if(o.future&&Object(c.c)(t.event,o.future),!s)return n;d(t,{type:s.type,payload:s.payload,meta:r()({},s.meta,{do:!0,redo:!0,undo:!1})}),n.past.push(s),o.past&&Object(c.c)(t.event,o.past)}else{if(t.type==a.b.INIT)return n;if(t.meta.undo||t.meta.redo)return n;if(u&&!u(t))return n;n.future=[],o.future&&Object(c.c)(t.event,o.future),n.past.push({type:t.type,payload:t.payload,meta:t.meta}),o.past&&Object(c.c)(t.event,o.past)}return n})}},dEzw:function(t,e){},hF9h:function(t,e,n){"use strict";n.d(e,"g",function(){return m}),n.d(e,"h",function(){return y}),n.d(e,"i",function(){return A}),n.d(e,"f",function(){return g}),n.d(e,"e",function(){return B}),n.d(e,"a",function(){return _}),n.d(e,"c",function(){return j}),n.d(e,"b",function(){return T}),n.d(e,"d",function(){return I});var o,r=n("cDf5"),a=n.n(r),i=n("/ekN"),c=(o=0,function(){return"@observer".concat(o+=1)}),u=function(){var t=0;return function(){return"@observable".concat(t+=1)}}(),s={},l={},d=[];function h(t){return null!==t&&"object"===a()(t)&&null!=t.__observableId}var p=!1,f=function(){p||(p=!0,d.pop())};function b(t){p=!1,d.push(t);var e=s[t];if(e.running)throw console.error("Bad observer",e.fn),new Error("Bad recursion detected in observer");e.running=!0,e.fn(f),e.running=!1,p||d.pop(),p=!1}function v(t,e,n,o){t[n]!==o&&(t[n]=o,N(e))}function m(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=c();return s[n]={running:!1,notifyInBatches:e,fn:t,targetObserverIdSets:[]},b(n),function(){s[n].targetObserverIdSets.forEach(function(t){delete t[n]})}}var y=function(t,e){var n=l[t.__observableId],o=n.storage,r=n.propObserverIdSetMap;delete o[e],delete t[e],delete r[e]},A=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=l[t.__observableId],c=r.storage,u=r.propObserverIdSetMap,h=u[e]=u[e]||{};if(o&&(null!==n&&"object"===a()(n)))if(Array.isArray(n))for(var p=0,f=Object.keys(n);p<f.length;p++){var b=f[p],m=n[b];Object(i.a)(m)&&(n[b]=g(m))}else n=g(n);if(void 0!==c[e]&&void 0!==t[e])return console.log("already existing"),void v(c,h,e,n);Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var t=d[d.length-1];return t&&!h[t]&&(h[t]=!0,s[t].targetObserverIdSets.push(h)),c[e]}}),c[e]=n,Object.defineProperty(t,e,{set:function(t){v(c,h,e,t)}})};function g(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(h(t))return t;if(Array.isArray(t))throw new Error("Array object cannot be Reactive");var n=u(),o={};l[n]={storage:{},propObserverIdSetMap:{}},Object.defineProperty(o,"__observableId",{value:n});for(var r=0,a=Object.keys(t);r<a.length;r++){var i=a[r];A(o,i,t[i],e)}return o}var D={},O=0,N=function(t){var e=O++,n=!0;k.count>0&&(n=!1);for(var o=Object.keys(t),r=0,a=o;r<a.length;r++){var i=a[r];null==D[i]&&(D[i]=e)}for(var c=0,u=o;c<u.length;c++){var l=u[c],d=s[l].notifyInBatches;if(n||!0===d||d===k.batchId){if(D[l]!==e)continue;b(l)}else{if(k.observerIds.indexOf(l)>=0)continue;k.observerIds.push(l)}delete D[l]}};function B(t,e){if(h(t)){var n=l[t.__observableId].propObserverIdSetMap[e];N(n)}}var k={count:0,observerIds:[],batchId:null},_=function(t){j(),t(),T()},j=function(){k.count++},T=function(){if(0!==k.count&&(k.count--,0===k.count)){var t=k.observerIds;k.observerIds=[];var e=!0,n=!1,o=void 0;try{for(var r,a=t[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){b(r.value)}}catch(t){n=!0,o=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw o}}}};var S=0,I=function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="computed-props-"+S++,o={},r=Object.keys(t),a=0,i=r;a<i.length;a++){var c=i[a];o[c]=null}o=g(o,!1);for(var u=function(){var r=d[s],a=!0;m(function(i){var c=k.batchId;e&&(j(),k.batchId=n);var u=t[r](o,l[o.__observableId].storage[r],r,i,a);i(),o[r]=u,e&&(T(),k.batchId=c)},n),a=!1},s=0,d=r;s<d.length;s++)u();return o}},kHfi:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var o=n("lwsE"),r=n.n(o),a=n("W8MJ"),i=n.n(a),c=n("a1gu"),u=n.n(c),s=n("Nsbk"),l=n.n(s),d=n("7W2i"),h=n.n(d),p=function(t){function e(){return r()(this,e),u()(this,l()(e).apply(this,arguments))}return h()(e,t),i()(e,[{key:"normalize",value:function(t){return t.action.meta.date=new Date,this._actionNormalizer.normalize(t)}}]),e}(n("9Ub5").a)},ogTh:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return i});var o=n("MVZn"),r=n.n(o),a=function(t){return t&&void 0!==t.type},i=function(t){return r()({},t,{event:void 0,meta:r()({},t.meta,{tmp:{}})})}},rqQk:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return d}),n.d(e,"c",function(){return h}),n.d(e,"a",function(){return p});var o=0,r={},a={},i={},c=function t(e,n){if(a[n]=e,i[n]){var o=!0,r=!1,c=void 0;try{for(var u,s=i[n][Symbol.iterator]();!(o=(u=s.next()).done);o=!0){t(e,u.value)}}catch(t){r=!0,c=t}finally{try{o||null==s.return||s.return()}finally{if(r)throw c}}}},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.name,n=void 0===e?"":e,r=t.children,a=t.entityContainer,i=void 0!==a&&a,c="".concat(o++,"-").concat(n);return r&&s(c,r,i),c},s=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i[t]=e;var o=!0,a=!1,u=void 0;try{for(var s,l=e[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var d=s.value;r[d]=t,n&&c(t,d)}}catch(t){a=!0,u=t}finally{try{o||null==l.return||l.return()}finally{if(a)throw u}}},l=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=a[e];if(r){if(o){var i=t.containers[r]=t.containers[r]||{};return i[n]=i[n]||{}}var c=t.containers[r];if(c)return c[n]}},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,o=void 0!==t.type?t.event:t;if(o.tagsSet=!0,o.tags[e+"*"]=!0,null!=n){var r=l(o,e,n,!0);r&&(r[e+"*"]=!0)}},h=function t(e,n,o,a){var i=void 0!==e.type?e.event:e;i.tagsSet=!0,i.tags[n]=i.tags[n]||!0,null!=o&&(a=a||l(i,n,o,!0))&&(a[n]=!0);var c=r[n];c&&!i.tags[c]&&t(i,c,o)},p=function(){return{tagsSet:!1,tags:{},containers:{}}}},tsFY:function(t,e,n){"use strict"},ww1a:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n("lwsE"),r=n.n(o),a=n("W8MJ"),i=n.n(a),c=n("lSNA"),u=n.n(c),s=function(){function t(){r()(this,t),u()(this,"_currentListeners",void 0),u()(this,"_nextListeners",void 0),u()(this,"_lastListenerOptions",void 0),u()(this,"_subscribersCalled",!1),this._currentListeners=[],this._nextListeners=this._currentListeners}return i()(t,[{key:"_separateNextListeners",value:function(){this._currentListeners===this._nextListeners&&(this._nextListeners=this._currentListeners.slice())}},{key:"subscribe",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._separateNextListeners();var n=!0;return this._nextListeners.push(t),e&&this._subscribersCalled&&t(this._lastListenerOptions),function(){if(n){n=!1,this._separateNextListeners();var e=this._nextListeners.indexOf(t);this._nextListeners.splice(e,1)}}}},{key:"callSubscribers",value:function(t){this._subscribersCalled=!0,this._lastListenerOptions=t,this._currentListeners=this._nextListeners;var e=!0,n=!1,o=void 0;try{for(var r,a=this._currentListeners[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){(0,r.value)(t)}}catch(t){n=!0,o=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw o}}}}]),t}()}},[["NCOW",1,2]]]);
//# sourceMappingURL=main.170a0bb561dc8d884ca6.js.map