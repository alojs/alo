/*! For license information please see observable.js.LICENSE */
!function(r,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.observable=e():(r.alo=r.alo||{},r.alo.observable=e())}("undefined"!=typeof self?self:this,(function(){return function(r){var e={};function t(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:n})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,e){if(1&e&&(r=t(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var o in r)t.d(n,o,function(e){return r[e]}.bind(null,o));return n},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},t.p="",t(t.s=34)}({1:function(r,e,t){"use strict";t.d(e,"j",(function(){return d})),t.d(e,"i",(function(){return y})),t.d(e,"k",(function(){return p})),t.d(e,"l",(function(){return h})),t.d(e,"h",(function(){return g})),t.d(e,"g",(function(){return I})),t.d(e,"a",(function(){return x})),t.d(e,"c",(function(){return _})),t.d(e,"b",(function(){return P})),t.d(e,"f",(function(){return k})),t.d(e,"d",(function(){return M})),t.d(e,"e",(function(){return A}));var n=t(20),o=t.n(n),u=t(14),i=0,a=function(){return"".concat(i++)},f={},c={};function l(r){return null!==r&&"object"===o()(r)&&null!=r.__observableId}var d=function(){var r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];s.id&&(s.pause=r)},s={id:null,pause:!1};function v(r){var e=s.id,t=s.pause;s.pause=!1,s.id=r;var n=f[r];if(n.running)throw console.error("Bad observer",n.fn),new Error("Bad recursion detected in observer");n.running=!0,n.fn(d),n.running=!1,s.id=e,s.pause=t}function b(r,e,t,n){r[t]!==n&&(r[t]=n,m(Object.keys(e)))}function y(r){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=a();return f[t]={running:!1,notifyInBatches:e,fn:r,targetObserverIdSets:[]},v(t),function(){f[t].targetObserverIdSets.forEach((function(r){delete r[t]}))}}var p=function(r,e){var t=c[r.__observableId],n=t.storage,o=t.propObserverIdSetMap;delete n[e],delete r[e],delete o[e]},h=function(r,e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=c[r.__observableId],i=o.storage,a=o.propObserverIdSetMap,l=a[e]=a[e]||{};if(n)if(Array.isArray(t))for(var d=0,v=Object.keys(t);d<v.length;d++){var y=v[d],p=t[y];Object(u.a)(p)&&(t[y]=g(p))}else Object(u.a)(t)&&(t=g(t));if(void 0!==i[e]&&void 0!==r[e])return console.log("already existing"),void b(i,l,e,t);Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){if(s.pause)return i[e];var r=s.id;return!r||l[r]?i[e]:(l[r]=!0,f[r].targetObserverIdSets.push(l),i[e])}}),i[e]=t,Object.defineProperty(r,e,{set:function(r){b(i,l,e,r)}})};function g(r){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(l(r))return r;if(Array.isArray(r))throw new Error("Array object cannot be Reactive");var t=a(),n={};c[t]={storage:{},propObserverIdSetMap:{}},Object.defineProperty(n,"__observableId",{value:t});for(var o=0,u=Object.keys(r);o<u.length;o++){var i=u[o];h(n,i,r[i],e)}return n}var O={},j=0,m=function(r){var e=j++,t=!0;S.count>0&&(t=!1);var n=!0,o=!1,u=void 0;try{for(var i,a=r[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;null==O[c]&&(O[c]=e)}}catch(r){o=!0,u=r}finally{try{n||null==a.return||a.return()}finally{if(o)throw u}}var l=!0,d=!1,s=void 0;try{for(var b,y=r[Symbol.iterator]();!(l=(b=y.next()).done);l=!0){var p=b.value,h=f[p].notifyInBatches;if(t||!0===h||h===S.batchId){if(O[p]!==e)continue;v(p)}else-1===S.observerIds.indexOf(p)&&S.observerIds.push(p);delete O[p]}}catch(r){d=!0,s=r}finally{try{l||null==y.return||y.return()}finally{if(d)throw s}}};function I(r,e){if(l(r)){var t=c[r.__observableId].propObserverIdSetMap[e];m(Object.keys(t))}}var S={count:0,observerIds:[],batchId:null},x=function(r){_(),r(),P()},_=function(){S.count++},P=function(){if(0!==S.count&&(S.count--,0===S.count)){var r=S.observerIds;S.observerIds=[],m(r)}};function k(r){for(var e={},t=c[r.__observableId].storage,n=0,o=Object.keys(t);n<o.length;n++){var u=o[n],i=t[u];e[u]=l(i)?k(i):i}return e}var w=0,M=function(r){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t="computation-"+w++,n={},o=Object.keys(r),u=0,i=o;u<i.length;u++){var a=i[u];n[a]=null}n=g(n,!1);for(var f=[],l=!1,d=function(){if(!l){var r=!0,e=!1,t=void 0;try{for(var n,o=f[Symbol.iterator]();!(r=(n=o.next()).done);r=!0){(0,n.value)()}}catch(r){e=!0,t=r}finally{try{r||null==o.return||o.return()}finally{if(e)throw t}}l=!0}},s=function(){var o=b[v],u=!0;f.push(y((function(i){var a=S.batchId;e&&(_(),S.batchId=t),n[o]=r[o](n,c[n.__observableId].storage[o],o,i,u),e&&(P(),S.batchId=a)}),t)),u=!1},v=0,b=o;v<b.length;v++)s();return[n,d]};M.empty=function(){};var A=function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e;if(Array.isArray(e)){n=[];var o=!0,u=!1,i=void 0;try{for(var a,f=e[Symbol.iterator]();!(o=(a=f.next()).done);o=!0){var c=a.value;t&&(c=r(c,t)),n.push(c)}}catch(r){u=!0,i=r}finally{try{o||null==f.return||f.return()}finally{if(u)throw i}}}else if(l(e)){n={};for(var d=0,s=Object.keys(e);d<s.length;d++){var v=s[d],b=e[v];t&&(b=r(b,t)),n[v]=b}}return n}},14:function(r,e,t){"use strict";t.d(e,"a",(function(){return o}));var n={}.toString,o=function(r){return!(!r||"[object Object]"!==n.call(r))}},20:function(r,e){function t(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?r.exports=t=function(r){return typeof r}:r.exports=t=function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t(e)}r.exports=t},32:function(r,e){},34:function(r,e,t){"use strict";t.r(e);var n=t(1);t.d(e,"pauseObserver",(function(){return n.j})),t.d(e,"observe",(function(){return n.i})),t.d(e,"removeProp",(function(){return n.k})),t.d(e,"setProp",(function(){return n.l})),t.d(e,"observable",(function(){return n.h})),t.d(e,"notify",(function(){return n.g})),t.d(e,"batch",(function(){return n.a})),t.d(e,"batchStart",(function(){return n.c})),t.d(e,"batchEnd",(function(){return n.b})),t.d(e,"getOriginObject",(function(){return n.f})),t.d(e,"computation",(function(){return n.d})),t.d(e,"extract",(function(){return n.e}));var o=t(32);for(var u in o)["pauseObserver","observe","removeProp","setProp","observable","notify","batch","batchStart","batchEnd","getOriginObject","computation","extract","default"].indexOf(u)<0&&function(r){t.d(e,r,(function(){return o[r]}))}(u)}})}));
//# sourceMappingURL=observable.js.map