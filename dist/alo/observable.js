/*! For license information please see observable.js.LICENSE.txt */
!function(r,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.observable=t():(r.alo=r.alo||{},r.alo.observable=t())}("undefined"!=typeof self?self:this,(function(){return function(r){var t={};function e(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=r,e.c=t,e.d=function(r,t,n){e.o(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:n})},e.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},e.t=function(r,t){if(1&t&&(r=e(r)),8&t)return r;if(4&t&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var o in r)e.d(n,o,function(t){return r[t]}.bind(null,o));return n},e.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(t,"a",t),t},e.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},e.p="",e(e.s="2VHu")}({"2VHu":function(r,t,e){"use strict";e.r(t);var n=e("hF9h");e.d(t,"isObservable",(function(){return n.g})),e.d(t,"pauseObserver",(function(){return n.m})),e.d(t,"observerStart",(function(){return n.l})),e.d(t,"observerEnd",(function(){return n.k})),e.d(t,"unobserve",(function(){return n.p})),e.d(t,"observe",(function(){return n.j})),e.d(t,"removeProp",(function(){return n.n})),e.d(t,"getProp",(function(){return n.f})),e.d(t,"setProp",(function(){return n.o})),e.d(t,"observable",(function(){return n.i})),e.d(t,"notify",(function(){return n.h})),e.d(t,"batch",(function(){return n.a})),e.d(t,"batchStart",(function(){return n.c})),e.d(t,"batchEnd",(function(){return n.b})),e.d(t,"computation",(function(){return n.d})),e.d(t,"extract",(function(){return n.e}));var o=e("9cxV");for(var u in o)["isObservable","pauseObserver","observerStart","observerEnd","unobserve","observe","removeProp","getProp","setProp","observable","notify","batch","batchStart","batchEnd","computation","extract","default"].indexOf(u)<0&&function(r){e.d(t,r,(function(){return o[r]}))}(u)},"9cxV":function(r,t){},AP2z:function(r,t,e){var n=e("nmnc"),o=Object.prototype,u=o.hasOwnProperty,i=o.toString,c=n?n.toStringTag:void 0;r.exports=function(r){var t=u.call(r,c),e=r[c];try{r[c]=void 0;var n=!0}catch(r){}var o=i.call(r);return n&&(t?r[c]=e:delete r[c]),o}},ExA7:function(r,t){r.exports=function(r){return null!=r&&"object"==typeof r}},KfNM:function(r,t){var e=Object.prototype.toString;r.exports=function(r){return e.call(r)}},Kz5y:function(r,t,e){var n=e("WFqU"),o="object"==typeof self&&self&&self.Object===Object&&self,u=n||o||Function("return this")();r.exports=u},LcsW:function(r,t,e){var n=e("kekF")(Object.getPrototypeOf,Object);r.exports=n},NykK:function(r,t,e){var n=e("nmnc"),o=e("AP2z"),u=e("KfNM"),i=n?n.toStringTag:void 0;r.exports=function(r){return null==r?void 0===r?"[object Undefined]":"[object Null]":i&&i in Object(r)?o(r):u(r)}},WFqU:function(r,t,e){(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;r.exports=e}).call(this,e("yLpj"))},YO3V:function(r,t,e){var n=e("NykK"),o=e("LcsW"),u=e("ExA7"),i=Function.prototype,c=Object.prototype,a=i.toString,f=c.hasOwnProperty,l=a.call(Object);r.exports=function(r){if(!u(r)||"[object Object]"!=n(r))return!1;var t=o(r);if(null===t)return!0;var e=f.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&a.call(e)==l}},cDf5:function(r,t){function e(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?r.exports=e=function(r){return typeof r}:r.exports=e=function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e(t)}r.exports=e},hF9h:function(r,t,e){"use strict";e.d(t,"g",(function(){return p})),e.d(t,"m",(function(){return b})),e.d(t,"l",(function(){return d})),e.d(t,"k",(function(){return y})),e.d(t,"p",(function(){return g})),e.d(t,"j",(function(){return x})),e.d(t,"n",(function(){return S})),e.d(t,"f",(function(){return m})),e.d(t,"o",(function(){return k})),e.d(t,"i",(function(){return M})),e.d(t,"h",(function(){return K})),e.d(t,"a",(function(){return G})),e.d(t,"c",(function(){return N})),e.d(t,"b",(function(){return z})),e.d(t,"d",(function(){return L})),e.d(t,"e",(function(){return T}));var n=e("cDf5"),o=e.n(n),u=e("YO3V"),i=e.n(u),c=0,a=function(){return"".concat(c++)},f="__observableParent",l="__observableId",s={},v={},p=function(r){return null!==r&&"object"===o()(r)&&null!=r[l]},b=function(){var r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];h.id&&(h.pause=r)},d=function(r){var t=s[r];if(t.running)throw h.id&&y(h.id),console.error("Bad observer",t.fn),new Error("Bad recursion detected in observer");t.previousObserverId=h.id,t.previousObserverPause=h.pause,h.pause=!1,h.id=r,t.running=!0},y=function(r){var t=s[r];t.running=!1,h.id=t.previousObserverId,h.pause=t.previousObserverPause},h={id:null,pause:!1};function O(r){var t=s[r];t.autoStart&&d(r),t.fn(b),t.autoStart&&y(r)}var j=function(r){var t=r[f];if(t){var e=t();K(e.parent,e.key)}},g=function(r){s[r].targetObserverIdSets.forEach((function(t){delete t[r]}))};function x(r){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=a();return s[n]={running:!1,autoStart:e,previousObserverId:null,previousObserverPause:!1,notifyInBatches:t,fn:r,targetObserverIdSets:[]},e&&O(n),n}var S=function(r,t){var e=v[r.__observableId],n=e.propObserverIdSetMap,o=e.propGetterMap;delete r[t],delete o[t],delete n[t],j(r)},m=function(r,t){return v[r.__observableId].propGetterMap[t]()},I=Array.prototype,P=Object.create(I);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(r){var t=I[r];P[r]=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var u,i=t.apply(this,n),c=this[f](),a=c.parent,l=c.key;switch(r){case"push":case"unshift":u=n;break;case"splice":u=n.slice(2)}return u&&_(u,l,a),K(a,l),i}}));var _=function(r,t,e){r.__proto__=P;for(var n=0,o=Object.keys(r);n<o.length;n++){var u=o[n];r[u]=w(r[u],t,e)}return r},w=function(r,t,e){var n=!1;return Array.isArray(r)?(r=_(r,t,e),n=!0):i()(r)&&(r=M(r,t,e),n=!0),n&&Object.defineProperty(r,f,{configurable:!0,value:function(){return{parent:e,key:t}}}),r},k=function(r,t,e){if(r[f]&&void 0===r[l])return r[t]=w(e,t,r),void j(r);var n=v[r.__observableId],o=n.propObserverIdSetMap,u=n.propGetterMap;if(u[t])r[t]=e;else{var i=Object.getOwnPropertyDescriptor(r,t);if(!i||!1!==i.configurable){var c=i&&i.get,a=i&&i.set;u[t]=function(){return c?c.call(r):e};var p=o[t]=o[t]||{},b=t[0],d="$"!==b&&"_"!==b;e=d?w(e,t,r):e,Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){var t=c?c.call(r):e;if(h.pause)return t;var n=h.id;return!n||p[n]?t:(p[n]=!0,s[n].targetObserverIdSets.push(p),t)}}),Object.defineProperty(r,t,{set:function(n){(c?c.call(r):e)!==n&&(n=d?w(n,t,r):n,a?a.call(r,n):e=n,F(Object.keys(p)))}}),j(r)}}};function M(r,t,e){if(p(r))return r;if(Array.isArray(r))throw new Error("Array object cannot be a root observable");var n=a();v[n]={propObserverIdSetMap:{},propGetterMap:{}},Object.defineProperty(r,l,{value:n});for(var o=0,u=Object.keys(r);o<u.length;o++){var i=u[o];k(r,i,r[i])}return r}var A={},E=0,F=function(r){var t=E++,e=!0;V.count>0&&(e=!1);var n=!0,o=!1,u=void 0;try{for(var i,c=r[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var a=i.value;null==A[a]&&(A[a]=t)}}catch(r){o=!0,u=r}finally{try{n||null==c.return||c.return()}finally{if(o)throw u}}var f=!0,l=!1,v=void 0;try{for(var p,b=r[Symbol.iterator]();!(f=(p=b.next()).done);f=!0){var d=p.value,y=s[d].notifyInBatches;if(e||!0===y||y===V.batchId){if(A[d]!==t)continue;O(d)}else-1===V.observerIds.indexOf(d)&&V.observerIds.push(d);delete A[d]}}catch(r){l=!0,v=r}finally{try{f||null==b.return||b.return()}finally{if(l)throw v}}};function K(r,t){var e=v[r.__observableId].propObserverIdSetMap[t];F(Object.keys(e))}var V={count:0,observerIds:[],batchId:null},G=function(r){var t=N();r(),z(t)},N=function(r){var t=V.batchId;return V.count++,V.batchId=r,t},z=function(r){if(0!==V.count){if(V.count--,0===V.count){var t=V.observerIds;V.observerIds=[],F(t)}V.batchId=r}},B=0,L=function(r){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e="computation-"+B++,n={},o=Object.keys(r),u=0,i=o;u<i.length;u++){var c=i[u];n[c]=null}n=M(n);for(var a=[],f=!1,s=function(){if(!f){var r=!0,t=!1,e=void 0;try{for(var n,o=a[Symbol.iterator]();!(r=(n=o.next()).done);r=!0){var u=n.value;g(u)}}catch(r){t=!0,e=r}finally{try{r||null==o.return||o.return()}finally{if(t)throw e}}f=!0}},p=function(){var o=d[b],u=!0;a.push(x((function(i){var c;t&&(c=N(e)),n[o]=r[o](n,v[n[l]].propGetterMap[o](),o,i,u),t&&z(c)}),e)),u=!1},b=0,d=o;b<d.length;b++)p();return[n,s]},T=function r(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t;if(Array.isArray(t)){n=[];var o=!0,u=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(o=(c=a.next()).done);o=!0){var f=c.value;e&&(f=r(f,e)),n.push(f)}}catch(r){u=!0,i=r}finally{try{o||null==a.return||a.return()}finally{if(u)throw i}}}else if(p(t)){n={};for(var l=0,s=Object.keys(t);l<s.length;l++){var v=s[l],b=t[v];e&&(b=r(b,e)),n[v]=b}}return n}},kekF:function(r,t){r.exports=function(r,t){return function(e){return r(t(e))}}},nmnc:function(r,t,e){var n=e("Kz5y").Symbol;r.exports=n},yLpj:function(r,t){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(r){"object"==typeof window&&(e=window)}r.exports=e}})}));
//# sourceMappingURL=observable.js.map