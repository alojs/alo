{"version":3,"sources":["webpack://alo.[name]/webpack/universalModuleDefinition","webpack://alo.[name]/webpack/bootstrap","webpack://alo.[name]/./node_modules/@babel/runtime/helpers/inherits.js","webpack://alo.[name]/./node_modules/lodash/_getRawTag.js","webpack://alo.[name]/./node_modules/lodash/isObjectLike.js","webpack://alo.[name]/./node_modules/lodash/_objectToString.js","webpack://alo.[name]/./node_modules/lodash/_root.js","webpack://alo.[name]/./node_modules/lodash/_getPrototype.js","webpack://alo.[name]/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://alo.[name]/./node_modules/lodash/_baseGetTag.js","webpack://alo.[name]/./lib/alo/redom/index.ts","webpack://alo.[name]/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://alo.[name]/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://alo.[name]/./node_modules/@babel/runtime/helpers/createClass.js","webpack://alo.[name]/./node_modules/lodash/_freeGlobal.js","webpack://alo.[name]/./node_modules/lodash/isPlainObject.js","webpack://alo.[name]/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://alo.[name]/./node_modules/@babel/runtime/helpers/typeof.js","webpack://alo.[name]/./lib/alo/observable/index.ts","webpack://alo.[name]/./node_modules/lodash/_overArg.js","webpack://alo.[name]/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://alo.[name]/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://alo.[name]/./node_modules/lodash/_Symbol.js","webpack://alo.[name]/./lib/alo/main/redom.ts","webpack://alo.[name]/(webpack)/buildin/global.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","setPrototypeOf","subClass","superClass","TypeError","constructor","writable","configurable","objectProto","nativeObjectToString","toString","symToStringTag","undefined","isOwn","tag","unmasked","e","result","freeGlobal","freeSelf","Function","getPrototype","overArg","getPrototypeOf","_getPrototypeOf","__proto__","getRawTag","objectToString","coreCache","setAloCore","core","Observer","fn","idx","_subscriptions","observe","_observeFunctions","push","_mounted","_startSubscription","splice","unobserve","_started","clearSubscriptions","forEach","values","startSubscriptions","ObserverListItem","initData","observable","index","item","items","context","state","prevBatch","batchStart","batchEnd","init","ConnectedComponent","store","component","filterUpdate","id","_component","update","updateOptions","connectId","_id","mounted","action","getAction","_filterUpdate","requestAnimationFrame","_store","el","options","_subscription","subscribe","_storeListener","onmount","onremount","onunmount","ReferenceError","_setPrototypeOf","_defineProperties","target","props","length","descriptor","Constructor","protoProps","staticProps","global","baseGetTag","isObjectLike","funcProto","funcToString","objectCtorString","proto","Ctor","_typeof","assertThisInitialized","obj","iterator","nextId","generateUniqueId","PARENT_KEY","ID_KEY","observerInfoMap","observableInfoMap","isObservable","resultObj","pauseObserver","pause","currentObserver","observerStart","observerId","observerInfo","running","observerEnd","console","error","Error","previousObserverId","previousObserverPause","callObserver","autoStart","notifyParent","getParentInfo","parentInfo","notify","parent","targetObserverIdSets","idSet","notifyInBatches","removeProp","__observableId","propObserverIdSetMap","propGetterMap","getProp","arrayProto","Array","arrayMethods","method","original","args","inserted","apply","slice","observableArray","parentObj","keys","itemKey","observableValue","isObservableValue","isArray","setProp","getOwnPropertyDescriptor","setter","set","observerIdSet","firstChar","newValue","notifyObservers","observableId","plannedObserverCalls","nextPlanIdx","observerIds","planIdx","batchInfo","count","batchId","indexOf","batch","prevBatchId","computationBatchIdx","computation","propsObj","objKeys","unsubscribed","unsubscribeFn","extract","deep","func","transform","arg","instance","g","window"],"mappings":"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","file":"redom.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"redom\"] = factory();\n\telse\n\t\troot[\"alo\"] = root[\"alo\"] || {}, root[\"alo\"][\"redom\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"skXF\");\n","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","import {\n  observable,\n  batchStart,\n  batchEnd,\n  observe,\n  unobserve\n} from \"../observable\";\nimport { ObserveFn } from \"../observable/types\";\nimport { StoreInterface } from \"../store/types\";\nimport { SubscribableInterface } from \"../subscribable/types\";\nimport { RedomComponent } from \"@lufrai/redom\";\n\nvar coreCache: {\n  observe: typeof observe;\n  observable: typeof observable;\n  batchStart: typeof batchStart;\n  batchEnd: typeof batchEnd;\n};\nexport const setAloCore = function(core: typeof coreCache) {\n  coreCache = core;\n};\n\nexport abstract class Observer {\n  _subscriptions: { [key: string]: ReturnType<typeof observe> } = {};\n  _observeFunctions: ObserveFn[] = [];\n  _mounted = false;\n  _started = false;\n\n  observe(fn: ObserveFn) {\n    const length = this._observeFunctions.push(fn);\n    const idx = length - 1;\n\n    if (this._mounted) {\n      this._startSubscription(fn, idx);\n    }\n\n    return () => {\n      this._observeFunctions.splice(idx, 1);\n      if (!this._subscriptions[idx]) {\n        return;\n      }\n\n      unobserve(this._subscriptions[idx]);\n      delete this._subscriptions[idx];\n    };\n  }\n  _startSubscription = (fn, idx) => {\n    this._subscriptions[idx] = coreCache.observe(fn);\n  };\n  startSubscriptions() {\n    if (this._started) {\n      this.clearSubscriptions();\n    }\n    this._started = true;\n    this._observeFunctions.forEach(this._startSubscription);\n  }\n  clearSubscriptions() {\n    for (const fn of Object.values(this._subscriptions)) {\n      if (!fn) continue;\n      unobserve(fn);\n    }\n    this._started = false;\n    this._subscriptions = {};\n  }\n  onmount() {\n    this._mounted = true;\n    this.startSubscriptions();\n  }\n  onunmount() {\n    this._mounted = false;\n    this.clearSubscriptions();\n  }\n}\n\nexport abstract class ObserverListItem<\n  I = any,\n  C = any,\n  ID = any\n> extends Observer {\n  state = coreCache.observable({\n    index: null as any,\n    item: (null as unknown) as I,\n    items: (null as unknown) as I[],\n    context: (null as unknown) as C,\n    initData: (null as unknown) as ID\n  });\n\n  init = true;\n\n  constructor(initData) {\n    super();\n    this.state.initData = initData;\n  }\n\n  update(item, index, items, context) {\n    const prevBatch = coreCache.batchStart();\n    this.state.item = item;\n    this.state.index = index;\n    this.state.items = items;\n    this.state.context = context;\n    coreCache.batchEnd(prevBatch);\n\n    if (this.init && this[\"oninit\"]) this[\"oninit\"]();\n    this.init = false;\n  }\n}\n\nexport class ConnectedComponent<\n  S extends StoreInterface = any,\n  T extends RedomComponent = any\n> {\n  el;\n  _mounted = false;\n  _component: T;\n  _subscription?: ReturnType<\n    SubscribableInterface<StoreInterface>[\"subscribe\"]\n  >;\n  _store;\n  _id;\n  _filterUpdate;\n  constructor({\n    store,\n    component,\n    filterUpdate,\n    id\n  }: {\n    id?: any;\n    store: S;\n    component: T;\n    // TODO: Implement\n    filterUpdate?: (options: { store: S }) => boolean | void;\n  }) {\n    this._store = store;\n    this._id = id;\n    this._filterUpdate = filterUpdate;\n    this._component = component;\n    this.el = component[\"el\"];\n  }\n  update(options = {}) {\n    if (!this._component.update) {\n      return;\n    }\n\n    (this._component.update as any)(options);\n  }\n  _storeListener = store => {\n    if (!this._component.update) {\n      return;\n    }\n\n    const updateOptions: any = {\n      connectId: this._id,\n      mounted: this._mounted,\n      action: store.getAction()\n    };\n\n    if (this._filterUpdate && !this._filterUpdate(updateOptions)) {\n      return;\n    }\n\n    requestAnimationFrame(() => {\n      (this._component.update as any)(updateOptions);\n    });\n  };\n  onmount() {\n    this._mounted = true;\n    this._subscription = this._store.subscribe(this._storeListener, true);\n    this._mounted = false;\n\n    if (this._component.onmount) {\n      this._component.onmount();\n    }\n  }\n  onremount() {\n    if (this._component.onremount) {\n      this._component.onremount();\n    }\n  }\n  onunmount() {\n    if (this._subscription) {\n      this._subscription();\n      this._subscription = undefined;\n    }\n\n    if (this._component.onunmount) {\n      this._component.onunmount();\n    }\n  }\n  getChild() {\n    return this._component;\n  }\n}\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","// Originally created by dongwoo-kim (https://github.com/dongwoo-kim)\n// https://github.com/nhn/tui.grid/blob/55278fba5303fcef928715cbb003aeed0964dd29/src/helper/observable.ts\n\nimport {\n  ObserverInfo,\n  ObservableInfo,\n  Observable,\n  BooleanSet,\n  ObserveFn,\n  PauseObserverFn,\n  ComputationMap,\n  ComputationValues\n} from \"./types\";\n\nimport _ from \"lodash\";\n\nlet nextId = 0;\nconst generateUniqueId = function() {\n  return `${nextId++}`;\n};\n\nconst PARENT_KEY = \"__observableParent\";\nconst ID_KEY = \"__observableId\";\n\n// store all observer info\nconst observerInfoMap: Record<string, ObserverInfo> = {};\n\nconst observableInfoMap: Record<string, ObservableInfo<any>> = {};\n\nexport const isObservable = function<T>(\n  resultObj: T\n): resultObj is Observable<T> {\n  return (\n    resultObj !== null &&\n    typeof resultObj === \"object\" &&\n    resultObj[ID_KEY] != null\n  );\n};\n\nexport const pauseObserver: PauseObserverFn = function(pause = true) {\n  if (!currentObserver.id) return;\n\n  currentObserver.pause = pause;\n};\n\nexport const observerStart = function(observerId: string) {\n  const observerInfo = observerInfoMap[observerId];\n\n  if (observerInfo.running) {\n    if (currentObserver.id) {\n      observerEnd(currentObserver.id);\n    }\n    console.error(\"Bad observer\", observerInfo.fn);\n    throw new Error(`Bad recursion detected in observer`);\n  }\n\n  observerInfo.previousObserverId = currentObserver.id;\n  observerInfo.previousObserverPause = currentObserver.pause;\n\n  currentObserver.pause = false;\n  currentObserver.id = observerId;\n\n  observerInfo.running = true;\n};\n\nexport const observerEnd = function(observerId: string) {\n  const observerInfo = observerInfoMap[observerId];\n  observerInfo.running = false;\n  currentObserver.id = observerInfo.previousObserverId;\n  currentObserver.pause = observerInfo.previousObserverPause;\n};\n\nconst currentObserver: { id: null | string; pause: boolean } = {\n  id: null,\n  pause: false\n};\nfunction callObserver(observerId: string) {\n  const observerInfo = observerInfoMap[observerId];\n\n  if (observerInfo.autoStart) {\n    observerStart(observerId);\n  }\n\n  observerInfo.fn(pauseObserver);\n\n  if (observerInfo.autoStart) {\n    observerEnd(observerId);\n  }\n}\n\nconst notifyParent = function(obj) {\n  const getParentInfo = obj[PARENT_KEY];\n  if (!getParentInfo) {\n    return;\n  }\n\n  const parentInfo = getParentInfo();\n\n  notify(parentInfo.parent, parentInfo.key);\n};\n\nexport const unobserve = function(observerId) {\n  observerInfoMap[observerId].targetObserverIdSets.forEach(idSet => {\n    delete idSet[observerId];\n  });\n};\n\nexport function observe(\n  fn: ObserveFn,\n  notifyInBatches: string | boolean = false,\n  autoStart = true\n) {\n  const observerId = generateUniqueId();\n  observerInfoMap[observerId] = {\n    running: false,\n    autoStart,\n    previousObserverId: null,\n    previousObserverPause: false,\n    notifyInBatches,\n    fn,\n    targetObserverIdSets: []\n  };\n\n  if (autoStart) {\n    callObserver(observerId);\n  }\n\n  // return unobserve function\n  return observerId;\n}\n\nexport const removeProp = function<\n  T extends Observable<any>,\n  K extends keyof T\n>(obj: T, key: K) {\n  const { propObserverIdSetMap, propGetterMap } = observableInfoMap[\n    obj.__observableId\n  ];\n  delete obj[key];\n  delete propGetterMap[key];\n  delete propObserverIdSetMap[key as any];\n\n  notifyParent(obj);\n};\n\n/**\n * Silently get an observable property value (observer will not track it)\n *\n * @param obj Observable obj\n * @param key Property key\n */\nexport const getProp = function<T extends Observable<any>, K extends keyof T>(\n  obj: T,\n  key: K\n): T[K] {\n  const { propGetterMap } = observableInfoMap[obj.__observableId];\n\n  return propGetterMap[key]();\n};\n\nconst arrayProto = Array.prototype;\nconst arrayMethods = Object.create(arrayProto);\n\nconst methodsToPatch = [\n  \"push\",\n  \"pop\",\n  \"shift\",\n  \"unshift\",\n  \"splice\",\n  \"sort\",\n  \"reverse\"\n];\n\nmethodsToPatch.forEach(function(method) {\n  // cache original method\n  const original = arrayProto[method];\n  arrayMethods[method] = function(...args) {\n    const result = original.apply(this, args);\n\n    const { parent, key } = this[PARENT_KEY]();\n\n    let inserted;\n    switch (method) {\n      case \"push\":\n      case \"unshift\":\n        inserted = args;\n        break;\n      case \"splice\":\n        inserted = args.slice(2);\n        break;\n    }\n\n    if (inserted) observableArray(inserted, key, parent);\n\n    notify(parent, key);\n\n    return result;\n  };\n});\n\nconst observableArray = function<T extends Observable<any>, K extends keyof T>(\n  value: any[],\n  key: K,\n  parentObj: T\n) {\n  (value as any).__proto__ = arrayMethods;\n\n  for (const itemKey of Object.keys(value)) {\n    value[itemKey] = observableValue(value[itemKey], key, parentObj);\n  }\n\n  return value;\n};\n\nconst observableValue = function(value, key, parent) {\n  let isObservableValue = false;\n\n  if (Array.isArray(value)) {\n    value = observableArray(value, key, parent);\n    isObservableValue = true;\n  } else if (_.isPlainObject(value)) {\n    value = observable(value, key, parent);\n    isObservableValue = true;\n  }\n\n  if (isObservableValue) {\n    // TODO: Maybe we could check if the parent already is set & uptodate\n    Object.defineProperty(value, PARENT_KEY, {\n      configurable: true,\n      value: function() {\n        return { parent, key };\n      }\n    });\n  }\n\n  return value;\n};\n\nexport const setProp = function<\n  T extends Observable<any> | any[],\n  K extends keyof T\n>(obj: T, key: K, value: T[K]) {\n  if (obj[PARENT_KEY] && obj[ID_KEY] === undefined) {\n    obj[key] = observableValue(value, key, obj);\n    notifyParent(obj);\n    return;\n  }\n\n  const { propObserverIdSetMap, propGetterMap } = observableInfoMap[\n    obj.__observableId\n  ];\n\n  // If there already is a getter existing, then this prop is already observable\n  if (propGetterMap[key]) {\n    obj[key] = value;\n    return;\n  }\n\n  const property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return;\n  }\n\n  const getter = property && property.get;\n  const setter = property && property.set;\n\n  /*\n  TODO: Maybe in the future we could allow calling setProp without a value\n  if ((!getter || setter) && arguments.length === 2) {\n    value = obj[key]\n  }\n  */\n\n  // This function can be used to access the value externally without triggering observers\n  propGetterMap[key] = function() {\n    return getter ? getter.call(obj) : value;\n  };\n\n  const observerIdSet: BooleanSet = (propObserverIdSetMap[key as any] =\n    propObserverIdSetMap[key as any] || {});\n\n  const firstChar = key[0];\n  const isObservableValue = firstChar !== \"$\" && firstChar !== \"_\";\n\n  value = isObservableValue ? observableValue(value, key, obj) : value;\n\n  Object.defineProperty(obj, key, {\n    configurable: true,\n    enumerable: true,\n    get() {\n      const result = getter ? getter.call(obj) : value;\n\n      // The current observer is paused for registering get calls (triggered by pauseObserver)\n      if (currentObserver.pause) {\n        return result;\n      }\n\n      const observerId = currentObserver.id;\n      // There is no active observer, or the current observer is already tracked\n      if (!observerId || observerIdSet[observerId]) {\n        return result;\n      }\n\n      // An observer asked for a property on the observable, we have to track this\n      observerIdSet[observerId] = true;\n      observerInfoMap[observerId].targetObserverIdSets.push(observerIdSet);\n\n      return result;\n    }\n  });\n\n  Object.defineProperty(obj, key, {\n    set(newValue) {\n      const oldValue = getter ? getter.call(obj) : value;\n      if (oldValue === newValue) {\n        return;\n      }\n\n      newValue = isObservableValue\n        ? observableValue(newValue, key, obj)\n        : newValue;\n\n      if (setter) {\n        setter.call(obj, newValue);\n      } else {\n        value = newValue;\n      }\n      notifyObservers(Object.keys(observerIdSet));\n    }\n  });\n\n  notifyParent(obj);\n};\n\nexport function observable<T extends Record<string, any>>(\n  obj: T,\n  key?,\n  parent?\n): Observable<T> {\n  if (isObservable(obj)) {\n    return obj;\n  }\n\n  if (Array.isArray(obj)) {\n    throw new Error(\"Array object cannot be a root observable\");\n  }\n\n  const observableId = generateUniqueId();\n\n  observableInfoMap[observableId] = {\n    propObserverIdSetMap: {},\n    propGetterMap: {}\n  };\n\n  Object.defineProperty(obj, ID_KEY, {\n    value: observableId\n  });\n\n  for (const key of Object.keys(obj)) {\n    setProp(obj, key, obj[key]);\n  }\n\n  return obj as Observable<T>;\n}\n\n// Used to optimize observer-to-observer calls:\n// For nested notifyObservers calls, the observers will be called only once in the most outward notifyObservers call\nconst plannedObserverCalls = {};\nlet nextPlanIdx = 0;\nconst notifyObservers = function(observerIds: string[]) {\n  let planIdx = nextPlanIdx++;\n\n  let notify = true;\n  if (batchInfo.count > 0) {\n    notify = false;\n  }\n\n  for (const observerId of observerIds) {\n    if (plannedObserverCalls[observerId] != null) {\n      continue;\n    }\n\n    plannedObserverCalls[observerId] = planIdx;\n  }\n  for (const observerId of observerIds) {\n    const notifyInBatches = observerInfoMap[observerId].notifyInBatches;\n    if (\n      notify ||\n      notifyInBatches === true ||\n      notifyInBatches === batchInfo.batchId\n    ) {\n      if (plannedObserverCalls[observerId] !== planIdx) {\n        continue;\n      }\n      callObserver(observerId);\n    } else {\n      if (batchInfo.observerIds.indexOf(observerId) === -1) {\n        batchInfo.observerIds.push(observerId);\n      }\n    }\n\n    delete plannedObserverCalls[observerId];\n  }\n};\n\nexport function notify<T extends Observable<any>, K extends keyof T>(\n  obj: T,\n  key: K\n) {\n  const propObserverIdSetMap =\n    observableInfoMap[obj.__observableId].propObserverIdSetMap[key as string];\n  notifyObservers(Object.keys(propObserverIdSetMap));\n}\n\nconst batchInfo: { count: number; observerIds: string[]; batchId: any } = {\n  count: 0,\n  observerIds: [],\n  batchId: null\n};\nexport const batch = function(fn: () => void) {\n  const prevBatch = batchStart();\n  fn();\n  batchEnd(prevBatch);\n};\n\nexport const batchStart = function(batchId?) {\n  const prevBatchId = batchInfo.batchId;\n  batchInfo.count++;\n  batchInfo.batchId = batchId;\n\n  return prevBatchId;\n};\n\nexport const batchEnd = function(prevBatchId?) {\n  if (batchInfo.count === 0) return;\n\n  batchInfo.count--;\n  if (batchInfo.count === 0) {\n    let observerIds = batchInfo.observerIds;\n    batchInfo.observerIds = [];\n    notifyObservers(observerIds);\n  }\n\n  batchInfo.batchId = prevBatchId;\n};\n\nlet computationBatchIdx = 0;\nexport const computation = function<\n  T extends {},\n  P extends ComputationMap<T> = ComputationMap<T>\n>(propsObj: P, batch: boolean = true): [ComputationValues<P>, () => void] {\n  const batchId = \"computation-\" + computationBatchIdx++;\n\n  let obj = {};\n  const objKeys = Object.keys(propsObj);\n  for (const key of objKeys) {\n    obj[key] = null;\n  }\n\n  obj = observable(obj);\n\n  let observerIds = [] as string[];\n  let unsubscribed = false;\n  const unsubscribeFn = function() {\n    if (unsubscribed) return;\n    for (const observerId of observerIds) {\n      unobserve(observerId);\n    }\n    unsubscribed = true;\n  };\n\n  for (const key of objKeys) {\n    let init = true;\n    observerIds.push(\n      observe(function(pauseObserver) {\n        let prevBatchId;\n        if (batch) {\n          prevBatchId = batchStart(batchId);\n        }\n\n        obj[key] = propsObj[key](\n          obj,\n          observableInfoMap[obj[ID_KEY]].propGetterMap[key](),\n          key,\n          pauseObserver,\n          init\n        );\n\n        if (batch) {\n          batchEnd(prevBatchId);\n        }\n      }, batchId)\n    );\n    init = false;\n  }\n\n  return [obj as any, unsubscribeFn];\n};\n\nexport const extract = function(obj, deep = true) {\n  let result = obj;\n\n  if (Array.isArray(obj)) {\n    result = [];\n    for (let value of obj) {\n      if (deep) {\n        value = extract(value, deep);\n      }\n      result.push(value);\n    }\n  } else if (isObservable(obj)) {\n    result = {};\n    for (const key of Object.keys(obj)) {\n      let value = obj[key];\n      if (deep) {\n        value = extract(value, deep);\n      }\n      result[key] = value;\n    }\n  }\n\n  return result;\n};\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","export * from \"../redom\";\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n"],"sourceRoot":""}