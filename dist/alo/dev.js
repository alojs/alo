/*!
 * alo
 * Copyright(c) 2019 Katja Lutz
 * MIT Licensed
 * https://opensource.org/licenses/MIT
*/
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.alo=e():t.alo=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=48)}([function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"e",function(){return s}),n.d(e,"f",function(){return l}),n.d(e,"d",function(){return f}),n.d(e,"c",function(){return h}),n.d(e,"g",function(){return p}),n.d(e,"a",function(){return d});var r=0,i={},o={},a={},u=function t(e,n){if(o[n]=e,a[n]){var r=!0,i=!1,u=void 0;try{for(var c,s=a[n][Symbol.iterator]();!(r=(c=s.next()).done);r=!0){t(e,c.value)}}catch(t){i=!0,u=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw u}}}},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.name,n=void 0===e?"":e,i=t.children,o=t.entityContainer,a=void 0!==o&&o,u="".concat(r++,"-").concat(n);return i&&s(u,i,a),u},s=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a[t]=e;var r=!0,o=!1,c=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var f=s.value;i[f]=t,n&&u(t,f)}}catch(t){o=!0,c=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw c}}},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.tags["*"+e]=!0,t.tagsSet=!0},f=function t(e,n,r){e.tagsSet=!0,e.tags[n]=e.tags[n]||!0;var a=i[n];a&&!e.tags[a]&&t(e,a,r);var u=o[n];if(r&&u){var c=e.containers[u]=e.containers[u]||{};(c[r]=c[r]||{})[n]=!0}},h=function(t,e){for(var n=e;;){if(!(e=i[e]))return!1;if(t.tags["*"+e])return t.tags[n]=!0,!0}},p=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(r&&t.tags["*"])return!0;var i=t.tags[e];if(null!=n){var a=o[e];if(a){var u=t.containers[a],c=u&&u[n];i=c&&c[e]}}var s=!i&&r&&h(t,e);return!(!i&&!s)},d=function(){return{tagsSet:!1,tags:{},containers:{}}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){"use strict";n.r(e);var r=n(9);n.d(e,"actionTypes",function(){return r.b}),n.d(e,"Store",function(){return r.a});var i=n(18);for(var o in i)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return i[t]})}(o);var a=n(10);n.d(e,"isAction",function(){return a.b}),n.d(e,"cloneAction",function(){return a.a});var u=n(19);for(var o in u)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","isAction","cloneAction","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return u[t]})}(o);var c=n(1);n.d(e,"createTag",function(){return c.b}),n.d(e,"setTagChildren",function(){return c.e}),n.d(e,"setWildCard",function(){return c.f}),n.d(e,"setTag",function(){return c.d}),n.d(e,"parentWildCardIsSet",function(){return c.c}),n.d(e,"tagIsSet",function(){return c.g}),n.d(e,"createEvent",function(){return c.a});var s=n(20);for(var o in s)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","isAction","cloneAction","createTag","setTagChildren","setWildCard","setTag","parentWildCardIsSet","tagIsSet","createEvent","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return s[t]})}(o);var l=n(7);n.d(e,"combineMutators",function(){return l.a}),n.d(e,"typeMutator",function(){return l.b});var f=n(21);n.d(e,"createSelector",function(){return f.b}),n.d(e,"combineSelectorResults",function(){return f.a});var h=n(22);n.d(e,"setUndoData",function(){return h.e}),n.d(e,"getUndoData",function(){return h.d}),n.d(e,"createUndoThunk",function(){return h.b}),n.d(e,"createRedoThunk",function(){return h.a}),n.d(e,"createUndoableMutator",function(){return h.c});var p=n(23);for(var o in p)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","isAction","cloneAction","createTag","setTagChildren","setWildCard","setTag","parentWildCardIsSet","tagIsSet","createEvent","createSelector","combineSelectorResults","setUndoData","getUndoData","createUndoThunk","createRedoThunk","createUndoableMutator","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return p[t]})}(o);var d=n(15);n.d(e,"Subscribable",function(){return d.a});var v=n(24);for(var o in v)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","isAction","cloneAction","createTag","setTagChildren","setWildCard","setTag","parentWildCardIsSet","tagIsSet","createEvent","createSelector","combineSelectorResults","setUndoData","getUndoData","createUndoThunk","createRedoThunk","createUndoableMutator","Subscribable","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return v[t]})}(o);var y=n(8);n.d(e,"ActionNormalizer",function(){return y.b}),n.d(e,"AbstractActionNormalizerDecorator",function(){return y.a});var g=n(25);for(var o in g)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","isAction","cloneAction","createTag","setTagChildren","setWildCard","setTag","parentWildCardIsSet","tagIsSet","createEvent","createSelector","combineSelectorResults","setUndoData","getUndoData","createUndoThunk","createRedoThunk","createUndoableMutator","Subscribable","ActionNormalizer","AbstractActionNormalizerDecorator","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return g[t]})}(o);var m=n(26);n.d(e,"BatchActionNormalizerDecorator",function(){return m.a});var b=n(27);n.d(e,"DateActionNormalizerDecorator",function(){return b.a});var _=n(11);n.d(e,"ActionResolver",function(){return _.b}),n.d(e,"AbstractActionResolverDecorator",function(){return _.a});var w=n(28);for(var o in w)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","isAction","cloneAction","createTag","setTagChildren","setWildCard","setTag","parentWildCardIsSet","tagIsSet","createEvent","createSelector","combineSelectorResults","setUndoData","getUndoData","createUndoThunk","createRedoThunk","createUndoableMutator","Subscribable","ActionNormalizer","AbstractActionNormalizerDecorator","BatchActionNormalizerDecorator","DateActionNormalizerDecorator","ActionResolver","AbstractActionResolverDecorator","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return w[t]})}(o);var x=n(29);n.d(e,"BatchActionResolverDecorator",function(){return x.a});var S=n(30);n.d(e,"BATCH_ACTION_TYPE",function(){return S.a}),n.d(e,"dispatchBatch",function(){return S.b});var O=n(31);n.d(e,"typeThunk",function(){return O.b}),n.d(e,"dispatchThunk",function(){return O.a});var T=n(32);n.d(e,"dispatchPromise",function(){return T.a});var j=n(33);n.d(e,"dispatchActions",function(){return j.a});var k=n(34);for(var o in k)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","isAction","cloneAction","createTag","setTagChildren","setWildCard","setTag","parentWildCardIsSet","tagIsSet","createEvent","createSelector","combineSelectorResults","setUndoData","getUndoData","createUndoThunk","createRedoThunk","createUndoableMutator","Subscribable","ActionNormalizer","AbstractActionNormalizerDecorator","BatchActionNormalizerDecorator","DateActionNormalizerDecorator","ActionResolver","AbstractActionResolverDecorator","BatchActionResolverDecorator","BATCH_ACTION_TYPE","dispatchBatch","typeThunk","dispatchThunk","dispatchPromise","dispatchActions","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return k[t]})}(o);var A=n(5);n.d(e,"once",function(){return A.d}),n.d(e,"findInArray",function(){return A.b})},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});var r=n(35),i=n.n(r),o=function(t){return t&&void 0!==t.then},a=function(t){var e,n=!1;return function(){return n||(e=t(),n=!0),e}},u=function(t,e){var n=0,r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=e(a.value,n,t);if(c)return c;n++}}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}},c=function(t){return i()(t)}},function(t,e,n){var r=n(0);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n(17),i=n.n(r),o=function(t){return t},a=function(t){var e=Object.entries(t);return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},o=0,a=e;o<a.length;o++){var u=i()(a[o],2),c=u[0],s=u[1];r[c]=s(t,n[c])}return r}}},function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return l});var r=n(0),i=n.n(r),o=n(2),a=n.n(o),u=n(3),c=n.n(u),s=function(){function t(){a()(this,t)}return c()(t,[{key:"normalize",value:function(t){var e=t.action,n=t.callBack;return e.meta.undo||e.meta.redo||(e.meta.do=!0),n(e)}}]),t}(),l=function(){function t(e){var n=e.actionNormalizer;a()(this,t),i()(this,"_actionNormalizer",void 0),this._actionNormalizer=n}return c()(t,[{key:"normalize",value:function(t){return this._actionNormalizer.normalize(t)}}]),t}()},function(t,e,n){"use strict";n.d(e,"b",function(){return v}),n.d(e,"a",function(){return y});var r=n(2),i=n.n(r),o=n(3),a=n.n(o),u=n(0),c=n.n(u),s=n(8),l=n(11),f=n(10),h=n(1),p=n(15),d=n(5),v={INIT:"@@init"},y=function(){function t(e){var n=this,r=e.mutator,o=e.state,a=e.actionNormalizer,u=void 0===a?new s.b:a,y=e.actionResolver,g=void 0===y?new l.b:y,m=e.subscribable,b=void 0===m?new p.a:m,_=e.cloneDeep,w=void 0===_?d.a:_,x=e.pureByDefault,S=void 0!==x&&x;i()(this,t),c()(this,"_isMutating",void 0),c()(this,"_state",null),c()(this,"_action",void 0),c()(this,"_effectHandler",void 0),c()(this,"_mutator",void 0),c()(this,"_actionNormalizer",void 0),c()(this,"_actionResolver",void 0),c()(this,"_subscribable",void 0),c()(this,"_cloneDeep",void 0),c()(this,"_pureByDefault",void 0),c()(this,"getState",function(){return n._state}),c()(this,"dispatch",function(t){if(Object(f.b)(t))return t.meta||(t.meta={}),t.meta.tmp||(t.meta.tmp={}),n._actionNormalizer.normalize({action:t,callBack:n._afterDispatchNormalization,store:n});t&&console.error("Invalid action dispatched",t)}),c()(this,"_callSubscribers",function(){n._subscribable.callSubscribers(n)}),c()(this,"_afterDispatchNormalization",function(t){return n._actionResolver.resolve({action:t,store:n,setAction:n._setAction,callSubscribers:n._callSubscribers,applyMutator:n._applyMutator})}),c()(this,"_applyMutator",function(t){var e=null!=t.meta.pure?t.meta.pure:n._pureByDefault,r=t.payload;if(null==t.payload||e||(t.payload=n._cloneDeep(r)),n._isMutating)throw new Error("Mutations already in progress");n._isMutating=!0,t.type===v.INIT&&(n._state=t.payload,Object(h.f)(t.event));try{n._state=n._mutator(t,n._state)}catch(t){console.error(t)}n._isMutating=!1,t.payload=r}),c()(this,"_setAction",function(t){n._action=t}),this._actionResolver=g,this._actionNormalizer=u,this._subscribable=b,this._cloneDeep=w,this._pureByDefault=S,this._isMutating=!1,this._mutator=r,this.dispatch({type:v.INIT,meta:{impure:!0},payload:o})}return a()(t,[{key:"getAction",value:function(){return this._action}},{key:"subscribe",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._subscribable.subscribe(t,e)}},{key:"getActionNormalizer",value:function(){return this._actionNormalizer}},{key:"setActionNormalizer",value:function(t){this._actionNormalizer=t}},{key:"getActionResolver",value:function(){return this._actionResolver}},{key:"setActionResolver",value:function(t){this._actionResolver=t}},{key:"getSubscribable",value:function(){return this._subscribable}},{key:"setSubscribable",value:function(t){this._subscribable=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n(6),i=n.n(r),o=function(t){return t&&void 0!==t.type},a=function(t){return i()({},t,{event:void 0,meta:i()({},t.meta,{tmp:{}})})}},function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return f});var r=n(0),i=n.n(r),o=n(2),a=n.n(o),u=n(3),c=n.n(u),s=n(1),l=function(){function t(){a()(this,t)}return c()(t,[{key:"resolve",value:function(t){var e=t.action,n=t.callSubscribers,r=t.applyMutator,i=t.setAction;return e.event=Object(s.a)(),r(e),i(e),e.event.tagsSet&&n(),e}}]),t}(),f=function(){function t(e){var n=e.actionResolver;a()(this,t),i()(this,"_actionResolver",void 0),this._actionResolver=n}return c()(t,[{key:"resolve",value:function(t){return this._actionResolver.resolve(t)}}]),t}()},function(t,e,n){var r=n(40),i=n(16);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(41);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(2),i=n.n(r),o=n(3),a=n.n(o),u=n(0),c=n.n(u),s=function(){function t(){i()(this,t),c()(this,"_currentListeners",void 0),c()(this,"_nextListeners",void 0),c()(this,"_lastListenerOptions",void 0),c()(this,"_subscribersCalled",!1),this._currentListeners=[],this._nextListeners=this._currentListeners}return a()(t,[{key:"_separateNextListeners",value:function(){this._currentListeners===this._nextListeners&&(this._nextListeners=this._currentListeners.slice())}},{key:"subscribe",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._separateNextListeners();var n=!0;return this._nextListeners.push(t),e&&this._subscribersCalled&&t(this._lastListenerOptions),function(){if(n){n=!1,this._separateNextListeners();var e=this._nextListeners.indexOf(t);this._nextListeners.splice(e,1)}}}},{key:"callSubscribers",value:function(t){this._subscribersCalled=!0,this._lastListenerOptions=t,this._currentListeners=this._nextListeners;var e=!0,n=!1,r=void 0;try{for(var i,o=this._currentListeners[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){(0,i.value)(t)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}}]),t}()},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r=n(37),i=n(38),o=n(39);t.exports=function(t,e){return r(t)||i(t,e)||o()}},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n(6),i=n.n(r),o=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=null;return function(o,a){if(n&&r===a)return e=i()({},e,{changed:!1});var u=!!e&&i()({},e,{changed:!1}),c=t(o,a,u);return null==c.changed&&(c.changed=!0),n&&(r=a),e=c}},a=function(t){var e=!1,n=Object.keys(t).reduce(function(n,r){var i=t[r];return n[r]=i.value,i.changed&&(e=!0),n},{});return{changed:e,value:n}}},function(t,e,n){"use strict";n.d(e,"e",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return h}),n.d(e,"a",function(){return p}),n.d(e,"c",function(){return d});var r=n(6),i=n.n(r),o=n(9),a=n(7),u=n(1),c=n(4),s=function(t,e,n){var r=t.meta.tmp.undoData=t.meta.tmp.undoData||{};return t.meta.do&&(r[e]=n),r[e]},l=function(t,e){return(t.meta.tmp.undoData=t.meta.tmp.undoData||{})[e]},f=function(t,e){t.meta=t.meta||{},t.meta.undoableCache=e},h=function(t){return Object(c.typeThunk)(function(e){var n=e.dispatch({type:"@@undo_"+t});n&&n.meta&&n.meta.undoableCache&&(e.dispatch({type:n.meta.undoableCache.type,payload:n.meta.undoableCache.payload,meta:n.meta.undoableCache.meta}),delete n.meta.undoableCache)})},p=function(t){return Object(c.typeThunk)(function(e){var n=e.dispatch({type:"@@redo_"+t});n&&n.meta&&n.meta.undoableCache&&(e.dispatch(n.meta.undoableCache),delete n.meta.undoableCache)})},d=function(t){var e=t.id,n=t.tags,r=void 0===n?{}:n,c=t.actionFilter;if(r.self&&(r.past||r.future)){var s=[];r.past&&s.push(r.past),r.future&&s.push(r.future),Object(u.e)(r.self,s)}return Object(a.b)(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{past:[],future:[]};if(t.type==="@@undo_"+e){if(0===n.past.length)return n;var a=n.past.pop();if(r.past&&Object(u.d)(t.event,r.past),!a)return console.log("this actually happens"),n;f(t,{type:a.type,payload:a.payload,meta:i()({},a.meta,{do:!1,redo:!1,undo:!0})}),n.future.push(a),r.future&&Object(u.d)(t.event,r.future)}else if(t.type==="@@redo_"+e){if(0===n.future.length)return n;var s=n.future.pop();if(r.future&&Object(u.d)(t.event,r.future),!s)return n;f(t,{type:s.type,payload:s.payload,meta:i()({},s.meta,{do:!0,redo:!0,undo:!1})}),n.past.push(s),r.past&&Object(u.d)(t.event,r.past)}else{if(t.type==o.b.INIT)return n;if(t.meta.undo||t.meta.redo)return n;if(c&&!c(t))return n;n.future=[],r.future&&Object(u.d)(t.event,r.future),n.past.push({type:t.type,payload:t.payload,meta:t.meta}),r.past&&Object(u.d)(t.event,r.past)}return n})}},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n(6),i=n.n(r),o=n(2),a=n.n(o),u=n(3),c=n.n(u),s=n(12),l=n.n(s),f=n(13),h=n.n(f),p=n(14),d=n.n(p),v=n(8),y=n(10),g=n(4),m=function(t){function e(){return a()(this,e),l()(this,h()(e).apply(this,arguments))}return d()(e,t),c()(e,[{key:"normalize",value:function(t){var e=t.action,n=t.store;if(!Object(y.b)(e)||e.type!==g.BATCH_ACTION_TYPE||e.meta.newBatch)return this._actionNormalizer.normalize(t);var r=e.payload.map(function(t){return Object(y.a)(t)});e.meta.undo&&r.reverse();var o={getState:n.getState,dispatch:function(t){return t.meta=t.meta||{},null!=e.meta.batchId&&(t.meta.rootBatchId=e.meta.rootBatchId,t.meta.parentBatchIds=e.meta.parentBatchIds),t.type!==g.BATCH_ACTION_TYPE||t.meta.batchItem||(t.meta=i()({},e.meta,t.meta)),n.dispatch(t)}};return Object(g.dispatchBatch)(o,function(t){var n=!0,i=!1,o=void 0;try{for(var a,u=r[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=a.value;e.meta.undo&&(c.meta.do=!c.meta.do,c.meta.undo=!c.meta.undo),e.meta.redo&&c.meta.do&&(c.meta.redo=!0),t.dispatch(c)}}catch(t){i=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}})}}]),e}(v.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(2),i=n.n(r),o=n(3),a=n.n(o),u=n(12),c=n.n(u),s=n(13),l=n.n(s),f=n(14),h=n.n(f),p=function(t){function e(){return i()(this,e),c()(this,l()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"normalize",value:function(t){return t.action.meta.date=new Date,this._actionNormalizer.normalize(t)}}]),e}(n(8).a)},function(t,e){},function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n(2),i=n.n(r),o=n(3),a=n.n(o),u=n(12),c=n.n(u),s=n(13),l=n.n(s),f=n(16),h=n.n(f),p=n(14),d=n.n(p),v=n(0),y=n.n(v),g=n(11),m=n(4),b=function(t){function e(){var t,n;i()(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=c()(this,(t=l()(e)).call.apply(t,[this].concat(o))),y()(h()(n),"_eventByBatchId",{}),y()(h()(n),"_childsByBatchId",{}),n}return d()(e,t),a()(e,[{key:"resolve",value:function(t){var e=t.store,n=t.setAction,r=t.applyMutator;if(!t.action.meta.batchItem&&t.action.type!==m.BATCH_ACTION_TYPE)return this._actionResolver.resolve(t);var i=t.action.meta.batchId,o=t.action.meta.rootBatchId;t.action.event=this._eventByBatchId[o]=this._eventByBatchId[o]||Object(m.createEvent)();var a=t.action;delete a.meta.batchId,delete a.meta.rootBatchId,delete a.meta.newBatch;var u=t.action.meta.parentBatchIds;if(delete a.meta.parentBatchIds,a.meta.batchItem&&a.type!==m.BATCH_ACTION_TYPE&&r(a),a.type===m.BATCH_ACTION_TYPE&&(a.payload=this._childsByBatchId[i],delete this._childsByBatchId[i]),a.meta.batchItem){if(a.type!==m.BATCH_ACTION_TYPE&&u){var c=!0,s=!1,l=void 0;try{for(var f,h=u[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var p=f.value;this._childsByBatchId[p]=this._childsByBatchId[p]||[],this._childsByBatchId[p].push(a)}}catch(t){s=!0,l=t}finally{try{c||null==h.return||h.return()}finally{if(s)throw l}}}return delete a.meta.batchItem,a}return delete this._eventByBatchId[i],n(a),a.event.tagsSet&&e._callSubscribers(),a}}]),e}(g.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n(5),i=function(t,e){if(e.payload)return t.dispatch(e)},o="@@batch",a=0,u=function(t,e){var n=a++,u={type:o,payload:[],meta:{pure:!0,batchId:n,rootBatchId:n,batch:!0,newBatch:!0}},c=e({getState:t.getState,dispatch:function(e){return e.meta=e.meta||{},null==e.meta.batchId&&(e.meta.batchId=u.meta.batchId),e.meta.rootBatchId=u.meta.batchId,e.meta.parentBatchIds=e.meta.parentBatchIds||[],e.meta.parentBatchIds.push(u.meta.batchId),e.meta.batchItem=!0,t.dispatch(e)}});return Object(r.c)(c)?c.then(function(){return i(t,u)}):i(t,u)}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n(5),i=function(t){return t},o=function(t,e){var n=[],i=e({getState:t.getState,dispatch:function(e){var r=t.dispatch(e);return r&&n.push(r),r}});return Object(r.c)(i)?i.then(function(){return n}):n}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){return e.then(function(e){return t.dispatch(e)})}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,s=t.dispatch(c);s&&n.push(s)}}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}},function(t,e){},function(t,e,n){"use strict";(function(t){Function("return this")();!function(n){function r(t){switch(typeof t){case"object":if(null==t)return t;var e=void 0;return t instanceof Date?((e=new Date).setTime(t.getTime()),e):t instanceof RegExp?e=a(t):(o(t,e=JSON.parse(JSON.stringify(t))),e);default:return t}}function i(t,e,n){var r=t[n];switch(typeof r){case"object":if(r instanceof Date){var i=new Date;i.setTime(r.getTime()),e[n]=i}else r instanceof RegExp?e[n]=a(r):null==r?e[n]=r:o(r,e[n]);break;case"number":isNaN(r)?e[n]=NaN:r==1/0&&(e[n]=1/0)}}function o(t,e){if(t instanceof Array)for(var n=0;n<t.length;n++)i(t,e,n);else Object.getOwnPropertyNames(t).forEach(function(n){i(t,e,n)})}function a(t){var e=String(t),n=e.lastIndexOf("/");return new RegExp(e.slice(1,n),e.slice(n+1))}t&&t.exports&&(e=t.exports=r),e.clone=r}()}).call(this,n(36)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){t.exports=n(49)},function(t,e){(function(){var e;e=function(t){var e;return e=typeof t,null==t?"null":"object"===e&&t.constructor===Array?"array":e},t.exports={extendedTypeOf:e}}).call(this)},function(t,e,n){"use strict";var r=Array.prototype.forEach.bind([]);t.exports=function(t){var e;if(!t)return!1;if("function"===(e=typeof t))return!0;if("object"!==e)return!1;try{return r(t),!0}catch(t){if(t instanceof TypeError)return!1;throw t}}},function(t,e,n){"use strict";var r=n(2),i=n.n(r),o=n(3),a=n.n(o),u=n(0),c=n.n(u),s=n(42),l=n.n(s),f=n(17),h=n.n(f),p=n(46),d=n.n(p),v=n(9),y=n(5),g=n(7),m=0,b=function(){return m+++""},_=n(47),w=n(1),x=function(t,e,n,r){return{type:"SET_ACTION",payload:{id:e,action:t,order:n,stateDiff:r}}},S=function(t,e){return{type:"TOGGLE_ACTION",payload:{id:t,toggle:e}}},O=Object(w.b)({name:"disabled"}),T=Object(w.b)({name:"action",children:[O]}),j=Object(w.b)({name:"actions",entityContainer:!0,children:[T]}),k=Object(g.b)(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.meta.do&&"SET_ACTION"==t.type){var n=t.payload.action,r=t.payload.id,i=e[r]||{id:r,disabled:!1,trackState:!1};i.order=t.payload.order,i.action=n,i.stateDiff=t.payload.stateDiff,e[r]=i,Object(w.d)(t.event,T,r)}if(t.meta.do&&"TOGGLE_ACTION"==t.type){var o=t.payload.id;e[o]&&(e[o].disabled=t.payload.toggle,Object(w.d)(t.event,O,o))}return e}),A=n(4),E=(Object(w.b)({name:"root",children:[j]}),Object(g.a)({actions:k})),I=function(){function t(e){var n=this;i()(this,t),c()(this,"store",void 0),c()(this,"targetStore",void 0),c()(this,"unsubscribe",void 0),c()(this,"initialTargetState",void 0),c()(this,"replaying",!1),c()(this,"orderIdx",0),c()(this,"lastTargetState",void 0),c()(this,"targetStoreListener",function(t){var e=t.getAction(),r=e.meta.devtoolsActionId||b();delete e.meta.devtoolsActionId;var i=Object(y.a)(t.getState()),o=Object(_.diffString)(n.lastTargetState,i,{color:!1});n.lastTargetState=i,n.store.dispatch(x(e,r,n.orderIdx,o)),n.orderIdx++}),this.targetStore=e,this.initialTargetState=Object(y.a)(e.getAction().payload),this.lastTargetState=this.initialTargetState,this.store=new v.a({mutator:E}),this.enable()}return a()(t,[{key:"replay",value:function(){var t=this;if(this.replaying)throw new Error("Timemachine already replaying");this.replaying=!0,this.orderIdx=0;var e=this.store.getState().actions,n=Object(y.a)(this.initialTargetState);Object(A.dispatchThunk)(this.targetStore,function(){var r=d()(l.a.mark(function r(i){var o,a,u,c,s,f;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:o=0,a=Object.entries(e);case 1:if(!(o<a.length)){r.next=14;break}if(u=h()(a[o],2),c=u[0],!(s=u[1]).disabled){r.next=5;break}return r.abrupt("continue",11);case 5:return(f=s.action).meta.devtoolsActionId=c,f.type==v.b.INIT&&(f.payload=n),i.dispatch(Object(A.cloneAction)(f)),r.next=11,new Promise(function(t){setTimeout(function(){t(!0)},500)});case 11:o++,r.next=1;break;case 14:t.replaying=!1;case 15:case"end":return r.stop()}},r)}));return function(t){return r.apply(this,arguments)}}())}},{key:"getStore",value:function(){return this.store}},{key:"enable",value:function(){this.unsubscribe=this.targetStore.subscribe(this.targetStoreListener,!0)}},{key:"disable",value:function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}}]),t}();function N(t,e){var n=function(t){for(var e=!1,n=!1,r="",i="",o="",a=0;a<t.length;a++){var u=t[a];"."===u&&(n=!0,e=!1,o.length>0&&(o+=" ")),"#"===u&&(e=!0,n=!1),e&&!n&&"#"!==u&&(i+=u),n&&!e&&"."!==u&&(o+=u),e||n||(r+=u)}return{tag:r||"div",id:i,className:o}}(t),r=n.tag,i=n.id,o=n.className,a=e?document.createElementNS(e,r):document.createElement(r);return i&&(a.id=i),o&&(e?a.setAttribute("class",o):a.className=o),a}function C(t,e){var n=W(t),r=W(e);return e===r&&r.__redom_view&&(e=r.__redom_view),r.parentNode&&(D(e,r,n),n.removeChild(r)),e}function D(t,e,n){var r=e.__redom_lifecycle;if(B(r))e.__redom_mounted=!1;else{var i=n;for(e.__redom_mounted&&R(e,"onunmount");i;){var o=i.__redom_lifecycle||{};for(var a in r)o[a]&&(o[a]-=r[a]);B(o)&&(i.__redom_lifecycle=null),i=i.parentNode}}}function B(t){if(null==t)return!0;for(var e in t)if(t[e])return!1;return!0}var z=["onmount","onremount","onunmount"],L="undefined"!=typeof window&&"ShadowRoot"in window;function M(t,e,n,r){var i=W(t),o=W(e);e===o&&o.__redom_view&&(e=o.__redom_view),e!==o&&(o.__redom_view=e);var a=o.__redom_mounted,u=o.parentNode;return a&&u!==i&&D(0,o,u),null!=n?r?i.replaceChild(o,W(n)):i.insertBefore(o,W(n)):i.appendChild(o),function(t,e,n,r){for(var i=e.__redom_lifecycle||(e.__redom_lifecycle={}),o=n===r,a=!1,u=0,c=z;u<c.length;u+=1){var s=c[u];o||t!==e&&s in t&&(i[s]=(i[s]||0)+1),i[s]&&(a=!0)}if(!a)return void(e.__redom_mounted=!0);var l=n,f=!1;(o||l&&l.__redom_mounted)&&(R(e,o?"onremount":"onmount"),f=!0);for(;l;){var h=l.parentNode,p=l.__redom_lifecycle||(l.__redom_lifecycle={});for(var d in i)p[d]=(p[d]||0)+i[d];if(f)break;(l===document||L&&l instanceof window.ShadowRoot||h&&h.__redom_mounted)&&(R(l,o?"onremount":"onmount"),f=!0),l=h}}(e,o,i,u),e}function R(t,e){"onmount"===e||"onremount"===e?t.__redom_mounted=!0:"onunmount"===e&&(t.__redom_mounted=!1);var n=t.__redom_lifecycle;if(n){var r=t.__redom_view,i=0;for(var o in r&&r[e]&&r[e](),n)o&&i++;if(i)for(var a=t.firstChild;a;){var u=a.nextSibling;R(a,e),a=u}}}function P(t,e,n){t.style[e]=null==n?"":n}var q="http://www.w3.org/1999/xlink";function U(t,e,n,r){var i=W(t);if("object"==typeof e)for(var o in e)U(i,o,e[o],r);else{var a=i instanceof SVGElement,u="function"==typeof n;if("style"===e&&"object"==typeof n)!function(t,e,n){var r=W(t);if("object"==typeof e)for(var i in e)P(r,i,e[i]);else P(r,e,n)}(i,n);else if(a&&u)i[e]=n;else if("dataset"===e)!function t(e,n,r){if("object"==typeof n)for(var i in n)t(e,i,n[i]);else null!=r?e.dataset[n]=r:delete e.dataset[n]}(i,n);else if(!a&&(e in i||u)&&"list"!==e)i[e]=n;else{if(a&&"xlink"===e)return void function t(e,n,r){if("object"==typeof n)for(var i in n)t(e,i,n[i]);else null!=r?e.setAttributeNS(q,n,r):e.removeAttributeNS(q,n,r)}(i,n);r&&"class"===e&&(n=i.className+" "+n),null==n?i.removeAttribute(e):i.setAttribute(e,n)}}}function F(t){return document.createTextNode(null!=t?t:"")}function H(t,e,n){for(var r=0,i=e;r<i.length;r+=1){var o=i[r];if(0===o||o){var a=typeof o;"function"===a?o(t):"string"===a||"number"===a?t.appendChild(F(o)):J(W(o))?M(t,o):o.length?H(t,o,n):"object"===a&&U(t,o,null,n)}}}function G(t){return"string"==typeof t?Y(t):W(t)}function W(t){return t.nodeType&&t||!t.el&&t||W(t.el)}function J(t){return t&&t.nodeType}var V={};function Y(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var i=typeof t;if("string"===i)e=Q(t).cloneNode(!1);else if(J(t))e=t.cloneNode(!1);else{if("function"!==i)throw new Error("At least one argument required");var o=t;e=new(Function.prototype.bind.apply(o,[null].concat(n)))}return H(W(e),n,!0),e}var $=Y;function Q(t){return V[t]||(V[t]=N(t))}function K(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=function t(e,n,r){var i=r;var o=new Array(n.length);for(var a=0;a<n.length;a++)o[a]=n[a]&&W(n[a]);for(var u=0;u<n.length;u++){var c=n[u];if(c){var s=o[u];if(s!==i)if(J(s)){var l=i&&i.nextSibling,f=null!=c.__redom_index,h=f&&l===o[u+1];M(e,c,i,h),h&&(i=l)}else null!=c.length&&(i=t(e,c,i));else i=i.nextSibling}}return i}(t,e,W(t).firstChild);r;){var i=r.nextSibling;C(t,r),r=i}}Y.extend=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=Q(t);return Y.bind.apply(Y,[this,r].concat(e))};var Z=function(t,e,n){this.View=t,this.initData=n,this.oldLookup={},this.lookup={},this.oldViews=[],this.views=[],null!=e&&(this.key="function"==typeof e?e:function(t){return function(e){return e[t]}}(e))};function X(t,e,n,r){return new tt(t,e,n,r)}Z.prototype.update=function(t,e){for(var n=this.View,r=this.key,i=this.initData,o=null!=r,a=this.lookup,u={},c=new Array(t.length),s=this.views,l=0;l<t.length;l++){var f=t[l],h=void 0;if(o){var p=r(f);h=a[p]||new n(i,f,l,t),u[p]=h,h.__redom_id=p}else h=s[l]||new n(i,f,l,t);h.update&&h.update(f,l,t,e),W(h.el).__redom_view=h,c[l]=h}this.oldViews=s,this.views=c,this.oldLookup=a,this.lookup=u};var tt=function(t,e,n,r){this.__redom_list=!0,this.View=e,this.initData=r,this.views=[],this.pool=new Z(e,n,r),this.el=G(t),this.keySet=null!=n};tt.prototype.update=function(t,e){void 0===t&&(t=[]);var n=this.keySet,r=this.views;this.pool.update(t,e);var i=this.pool,o=i.views,a=i.lookup;if(n)for(var u=0;u<r.length;u++){var c=r[u];null==a[c.__redom_id]&&(c.__redom_index=null,C(this,c))}for(var s=0;s<o.length;s++){o[s].__redom_index=s}K(this,o),n&&(this.lookup=a),this.views=o},tt.extend=function(t,e,n,r){return tt.bind(tt,t,e,n,r)},X.extend=tt.extend;var et=function(t,e){this.el=F(""),this.visible=!1,this.view=null,this._placeholder=this.el,t instanceof Node?this._el=t:this._View=t,this._initData=e};et.prototype.update=function(t,e){var n=this._placeholder,r=this.el.parentNode;if(t){if(!this.visible){if(this._el)return M(r,this._el,n),C(r,n),this.el=this._el,void(this.visible=t);var i=new(0,this._View)(this._initData);this.el=W(i),this.view=i,M(r,i,n),C(r,n)}this.view&&this.view.update&&this.view.update(e)}else if(this.visible){if(this._el)return M(r,n,this._el),C(r,this._el),this.el=n,void(this.visible=t);M(r,n,this.view),C(r,this.view),this.el=n,this.view=null}this.visible=t};var nt=function(t,e,n){this.el=G(t),this.Views=e,this.initData=n};nt.prototype.update=function(t,e){if(t!==this.route){var n=this.Views[t];this.route=t,this.view=n&&new n(this.initData,e),K(this.el,[this.view])}this.view&&this.view.update&&this.view.update(e,t)};var rt="http://www.w3.org/2000/svg",it={};function ot(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var i=typeof t;if("string"===i)e=at(t).cloneNode(!1);else if(J(t))e=t.cloneNode(!1);else{if("function"!==i)throw new Error("At least one argument required");var o=t;e=new(Function.prototype.bind.apply(o,[null].concat(n)))}return H(W(e),n,!0),e}function at(t){return it[t]||(it[t]=N(t,rt))}ot.extend=function(t){var e=at(t);return ot.bind(this,e)},ot.ns=rt;var ut=function(t,e){return function(){function n(){var r=this;i()(this,n),c()(this,"unsubscribe",void 0),c()(this,"id",void 0),c()(this,"el",void 0),c()(this,"view",void 0);var o={};this.el=$("div",{style:{padding:"5px","border-bottom":"1px solid #666"}},[o.flexWrapperEl=$("div",{style:{display:"flex"}},[$("div",o.disabledInputEl=$("input",{type:"checkbox",onchange:function(e){t.timemachineStore.dispatch(S(r.id,!e.currentTarget.checked))}})),$("a",{href:"#",onclick:function(t){e&&e(t,r.id)},style:{color:"#ddd",flex:1}},[o.titleEl=$("h3",{style:{"font-size":"0.9rem",margin:0,"margin-bottom":"3px"}},""),o.batchItemTypes=$("span",{style:{"font-size":"0.7rem"}})])])]),this.view=o}return a()(n,[{key:"onmount",value:function(){var e=this;this.unsubscribe&&this.unsubscribe(),this.unsubscribe=t.timemachineStore.subscribe(function(t){Object(A.tagIsSet)(t.getAction().event,T,e.id)&&e.lazyUpdate(t.getState().actions[e.id])})}},{key:"onunmount",value:function(){this.unsubscribe()}},{key:"update",value:function(t,e,n,r){this.id||(this.id=t.id,this.lazyUpdate(t))}},{key:"lazyUpdate",value:function(t){this.view.titleEl.textContent=t.action.type;var e=t.action;e.type===v.b.INIT&&(this.view.disabledInputEl.style.display="none"),this.view.disabledInputEl.checked=!t.disabled,this.view.flexWrapperEl.style.opacity=t.disabled?"0.5":"1",e.type===A.BATCH_ACTION_TYPE&&(this.view.batchItemTypes.textContent="( ".concat(e.payload.map(function(t){return t.type}).join(" , ")," )"))}}]),n}()},ct=Object(w.b)(),st=Object(w.b)(),lt=(Object(w.b)({children:[ct,st]}),Object(g.b)(function(t,e){return e||(e={height:"50vh",selectedActionId:!1}),"SET_HEIGHT"===t.type&&e.height!==t.payload&&(e.height=t.payload,Object(w.d)(t.event,ct)),"SET_SELECTED_ACTION_ID"===t.type&&e.selectedActionId!==t.payload&&(e.selectedActionId=t.payload,Object(w.d)(t.event,st)),e})),ft=function(t){return{type:"SET_HEIGHT",payload:t}},ht=function(t){return{type:"SET_SELECTED_ACTION_ID",payload:t}},pt=function(){return new v.a({mutator:lt})},dt=function(){function t(e){i()(this,t),c()(this,"el",void 0),c()(this,"view",void 0),c()(this,"actionCountCache",0);var n={};this.el=$("div",{style:{height:"100%","overflow-y":"auto"}},[n.list=X("ul",ut(e,function(t,n){e.store.dispatch(ht(n))}))]),this.view=n,this.view.list.el.style.margin="0",this.view.list.el.style.padding="0"}return a()(t,[{key:"update",value:function(t){var e=t.timemachineStore.getState(),n=Object.values(e.actions).sort(function(t,e){return t.order-e.order});this.view.list.update(n);var r=n.length;this.actionCountCache!=r&&(this.el.scrollTop=this.el.scrollHeight),this.actionCountCache=r}}]),t}();n.d(e,"a",function(){return yt});var vt=function(){function t(e){var n=this;i()(this,t),c()(this,"el",void 0),c()(this,"view",void 0),this.el=$("div",{style:{padding:"5px"}});var r={};r.actionEl=$("pre",{style:{"font-size":"0.7rem","font-family":'"Courier New", Courier, monospace'}}),r.storeEl=$("pre",{style:{"font-size":"0.7rem","font-family":'"Courier New", Courier, monospace'}}),this.view=r,e.store.subscribe(function(t){var r=t.getAction();Object(w.g)(r.event,st)&&n.lazyUpdate(e)},!0),e.timemachineStore.subscribe(function(t){var r=t.getAction(),i=e.store.getState().selectedActionId;i&&!0!==i&&Object(w.g)(r.event,T,i)&&n.lazyUpdate(e)})}return a()(t,[{key:"update",value:function(t){this.lazyUpdate(t)}},{key:"lazyUpdate",value:function(t){var e=t.store.getState().selectedActionId;if(e&&!0!==e){var n=t.timemachineStore.getState().actions[e],r=n.action;this.view.actionEl.textContent=JSON.stringify({type:r.type,payload:r.payload,meta:r.meta},null,"  "),this.view.storeEl.textContent=n.stateDiff,K(this.el,[F("Action details"),this.view.actionEl,F("Diff"),this.view.storeEl])}else this.el.textContent="No action selected"}}]),t}(),yt=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body";i()(this,t),c()(this,"timemachine",void 0),c()(this,"el",void 0),c()(this,"view",void 0),c()(this,"context",void 0);var o=pt();this.timemachine=new I(e),this.context={store:o,timemachineStore:this.timemachine.getStore()};var a={};this.el=$("div",{style:{"font-family":"Arial, Helvetica, sans-serif",color:"silver",bottom:0,left:0,"background-color":"#222",display:"flex","flex-direction":"column",position:"fixed",width:"100%",height:this.context.store.getState().height,"max-height":"100%","min-height":"100px"}},[$("div",{style:{padding:"5px","border-bottom":"2px solid #333"}},[a.heightEl=$("input",{value:this.context.store.getState().height,onchange:function(t){t.currentTarget&&n.context.store.dispatch(ft(t.currentTarget.value))}}),$("button",{onclick:function(){n.timemachine.replay()}},"Replay")]),$("div",{style:{flex:1,"min-height":0,display:"flex"}},[$("div",{style:{flex:1,"border-right":"2px solid #333"}},a.actionList=new dt(this.context)),$("div",{style:{flex:3,"overflow-y":"auto"}},new vt(this.context))])]),this.view=a;var u=document.querySelector(r);u&&(u.append(this.el),this.timemachine.getStore().subscribe(function(){n.update(n.context)}),this.context.store.subscribe(function(){n.update(n.context)},!0))}return a()(t,[{key:"update",value:function(t){this.view.actionList.update(this.context);var e=t.store.getState();Object(w.g)(t.store.getAction().event,ct)&&(document.body.style["padding-bottom"]=e.height,this.el.style.height=e.height)}}]),t}()},function(t,e){function n(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(i,o){var a=t.apply(e,r);function u(t){n(a,i,o,u,c,"next",t)}function c(t){n(a,i,o,u,c,"throw",t)}u(void 0)})}}},function(t,e,n){(function(){var e,r,i,o,a,u,c,s,l,f,h,p,d,v,y={}.hasOwnProperty;e=n(50).SequenceMatcher,l=n(43).extendedTypeOf,i=n(60).colorize,h=function(t){return"object"!=typeof t||null===t},d=function(t,e,n){var r,i,o,a,u,c,l,f,h;for(i in null==n&&(n={}),u={},c=0,t)y.call(t,i)&&(f=t[i],i in e||(u[i+"__deleted"]=f,c-=30));for(i in e)y.call(e,i)&&(h=e[i],i in t||(u[i+"__added"]=h,c-=30));for(i in t)y.call(t,i)&&(f=t[i],i in e&&(c+=20,h=e[i],l=(o=s(f,h,n))[0],(r=o[1])&&(u[i]=r),c+=Math.min(20,Math.max(-10,l/5))));return 0===Object.keys(u).length?(c=(a=[100*Math.max(Object.keys(t).length,.5),void 0])[0],u=a[1]):c=Math.max(0,c),[c,u]},f=function(t,e,n){var r,i,o,a,c,s;for(a in r=null,c=0,n)y.call(n,a)&&(i=n[a],"__next"!==a&&(o=Math.abs(c-e),l(t)===l(i)&&(s=u(t,i),(!r||s>r.score||s===r.score&&o<r.indexDistance)&&(r={score:s,key:a,indexDistance:o})),c++));return r},v=function(t,e,n){var r,i,o,a,u,c,s;for(s=[],i=a=0,u=t.length;a<u;i=++a)o=t[i],h(o)?s.push(o):n&&(r=f(o,i,n))&&r.score>40&&null==e[r.key]?(e[r.key]=o,s.push(r.key)):(c="__$!SCALAR"+e.__next++,e[c]=o,s.push(c));return s},p=function(t,e){return"string"==typeof t&&t in e},o=function(t,e){return p(t,e)?e[t]:t},r=function(t,n,r){var i,u,c,s,l,f,h,d,y,g,m,b,_,w,x,S,O,T,j,k,A,E,I,N,C,D,B,z,L,M,R,P,q,U,F,H,G,W,J,V;for(null==r&&(r={}),J=v(t,k={__next:1}),V=v(n,A={__next:k.__next},k),G=[],W=0,i=!0,b=0,w=(j=new e(null,J,V).getOpcodes()).length;b<w;b++)switch(T=(N=j[b])[0],s=N[1],l=N[2],g=N[3],m=N[4],"equal"===T||r.keysOnly&&"replace"===T||(i=!1),T){case"equal":for(c=_=C=s,L=l;C<=L?_<L:_>L;c=C<=L?++_:--_){if(f=J[c],p(f,k)){if(!p(f,A))throw new AssertionError("internal bug: isScalarized(item, originals1) != isScalarized(item, originals2) for item "+JSON.stringify(f));h=o(f,k),d=o(f,A),(u=a(h,d,r))?(G.push(["~",u]),i=!1):G.push([" "])}else G.push([" ",f]);W+=10}break;case"delete":for(c=x=M=s,R=l;M<=R?x<R:x>R;c=M<=R?++x:--x)G.push(["-",o(J[c],k)]),W-=5;break;case"insert":for(y=S=P=g,q=m;P<=q?S<q:S>q;y=P<=q?++S:--S)G.push(["+",o(V[y],A)]),W-=5;break;case"replace":if(r.keysOnly)for(c=I=B=s,z=l;B<=z?I<z:I>z;c=B<=z?++I:--I)(u=a(o(J[c],k),o(V[c-s+g],A),r))?(G.push(["~",u]),i=!1):G.push([" "]);else{for(c=O=U=s,F=l;U<=F?O<F:O>F;c=U<=F?++O:--O)G.push(["-",o(J[c],k)]),W-=5;for(y=E=H=g,D=m;H<=D?E<D:E>D;y=H<=D?++E:--E)G.push(["+",o(V[y],A)]),W-=5}}return i||0===j.length?(G=void 0,W=100):W=Math.max(0,W),[W,G]},s=function(t,e,n){var i;if(null==n&&(n={}),(i=l(t))===l(e))switch(i){case"object":return d(t,e,n);case"array":return r(t,e,n)}return n.keysOnly?[100,void 0]:t!==e?[0,{__old:t,__new:e}]:[100,void 0]},a=function(t,e,n){var r;return null==n&&(n={}),(r=s(t,e,n))[0],r[1]},u=function(t,e,n){var r,i;return null==n&&(n={}),i=(r=s(t,e,n))[0],r[1],i},c=function(t,e,n,r){return null==r&&(r={}),i(a(t,e,r),n)},t.exports={diff:a,diffString:c}}).call(this)},function(t,e,n){"use strict";n.r(e);var r=n(4);for(var i in r)["Devtools","default"].indexOf(i)<0&&function(t){n.d(e,t,function(){return r[t]})}(i);var o=n(45);n.d(e,"Devtools",function(){return o.a})},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=function(t,e,n){var r=l;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=s(t,e,n);if("normal"===c.type){if(r=n.done?p:f,c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",f="suspendedYield",h="executing",p="completed",d={};function v(){}function y(){}function g(){}var m={};m[o]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(A([])));_&&_!==n&&r.call(_,o)&&(m=_);var w=g.prototype=v.prototype=Object.create(m);function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var e;this._invoke=function(n,i){function o(){return new Promise(function(e,o){!function e(n,i,o,a){var u=s(t[n],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(l).then(function(t){c.value=t,o(c)},function(t){return e("throw",t,o,a)})}a(u.arg)}(n,i,e,o)})}return e=e?e.then(o,o):o()}}function O(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=s(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function A(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:E}}function E(){return{value:e,done:!0}}return y.prototype=w.constructor=g,g.constructor=y,g[u]=y.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,r,i){var o=new S(c(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},x(w),w[u]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=A,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){t.exports=n(51)},function(t,e,n){(function(){var t,r,i,o,a,u,c,s,l,f,h,p,d,v,y,g,m,b,_,w,x,S=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};s=Math.floor,f=Math.max,h=Math.min,r=n(52),u=n(54),m=function(t,e){return e?2*t/e:1},g=function(t,e){var n,r,i,o,a,u;for(a=[t.length,e.length],n=o=0,u=h(r=a[0],i=a[1]);0<=u?o<u:o>u;n=0<=u?++o:--o){if(t[n]<e[n])return-1;if(t[n]>e[n])return 1}return r-i},x=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},y=function(t){var e,n;for(e=0,n=t.length;e<n;e++)if(t[e])return!0;return!1},a=function(){function t(t,e,n,r){this.isjunk=t,null==e&&(e=""),null==n&&(n=""),this.autojunk=null==r||r,this.a=this.b=null,this.setSeqs(e,n)}return t.name="SequenceMatcher",t.prototype.setSeqs=function(t,e){return this.setSeq1(t),this.setSeq2(e)},t.prototype.setSeq1=function(t){if(t!==this.a)return this.a=t,this.matchingBlocks=this.opcodes=null},t.prototype.setSeq2=function(t){if(t!==this.b)return this.b=t,this.matchingBlocks=this.opcodes=null,this.fullbcount=null,this._chainB()},t.prototype._chainB=function(){var t,e,n,r,i,o,a,u,c,l,f,h,p,d;for(t=this.b,this.b2j=e={},r=l=0,h=t.length;l<h;r=++l)n=t[r],(x(e,n)?e[n]:e[n]=[]).push(r);if(o={},i=this.isjunk)for(f=0,p=(d=Object.keys(e)).length;f<p;f++)i(n=d[f])&&(o[n]=!0,delete e[n]);if(c={},a=t.length,this.autojunk&&a>=200)for(n in u=s(a/100)+1,e)e[n].length>u&&(c[n]=!0,delete e[n]);return this.isbjunk=function(t){return x(o,t)},this.isbpopular=function(t){return x(c,t)}},t.prototype.findLongestMatch=function(t,e,n,r){var i,o,a,u,c,s,l,f,h,p,d,v,y,g,m,b,_,w,S,O,T;for(i=(b=[this.a,this.b,this.b2j,this.isbjunk])[0],o=b[1],a=b[2],f=b[3],u=(_=[t,n,0])[0],c=_[1],s=_[2],p={},l=y=t;t<=e?y<e:y>e;l=t<=e?++y:--y){for(v={},g=0,m=(w=x(a,i[l])?a[i[l]]:[]).length;g<m;g++)if(!((h=w[g])<n)){if(h>=r)break;(d=v[h]=(p[h-1]||0)+1)>s&&(u=(S=[l-d+1,h-d+1,d])[0],c=S[1],s=S[2])}p=v}for(;u>t&&c>n&&!f(o[c-1])&&i[u-1]===o[c-1];)u=(O=[u-1,c-1,s+1])[0],c=O[1],s=O[2];for(;u+s<e&&c+s<r&&!f(o[c+s])&&i[u+s]===o[c+s];)s++;for(;u>t&&c>n&&f(o[c-1])&&i[u-1]===o[c-1];)u=(T=[u-1,c-1,s+1])[0],c=T[1],s=T[2];for(;u+s<e&&c+s<r&&f(o[c+s])&&i[u+s]===o[c+s];)s++;return[u,c,s]},t.prototype.getMatchingBlocks=function(){var t,e,n,r,i,o,a,u,c,s,l,f,h,p,d,v,y,m,b,_,w,x,S,O,T,j;if(this.matchingBlocks)return this.matchingBlocks;for(m=[[0,p=(x=[this.a.length,this.b.length])[0],0,d=x[1]]],v=[];m.length;)e=(S=m.pop())[0],t=S[1],r=S[2],n=S[3],i=(O=b=this.findLongestMatch(e,t,r,n))[0],u=O[1],(l=O[2])&&(v.push(b),e<i&&r<u&&m.push([e,i,r,u]),i+l<t&&u+l<n&&m.push([i+l,t,u+l,n]));for(v.sort(g),o=c=f=0,y=[],_=0,w=v.length;_<w;_++)a=(T=v[_])[0],s=T[1],h=T[2],o+f===a&&c+f===s?f+=h:(f&&y.push([o,c,f]),o=(j=[a,s,h])[0],c=j[1],f=j[2]);return f&&y.push([o,c,f]),y.push([p,d,0]),this.matchingBlocks=y},t.prototype.getOpcodes=function(){var t,e,n,r,i,o,a,u,c,s,l,f;if(this.opcodes)return this.opcodes;for(r=i=0,this.opcodes=e=[],u=0,c=(s=this.getMatchingBlocks()).length;u<c;u++)t=(l=s[u])[0],n=l[1],o=l[2],a="",r<t&&i<n?a="replace":r<t?a="delete":i<n&&(a="insert"),a&&e.push([a,r,t,i,n]),r=(f=[t+o,n+o])[0],i=f[1],o&&e.push(["equal",t,r,n,i]);return e},t.prototype.getGroupedOpcodes=function(t){var e,n,r,i,o,a,u,c,s,l,p,d,v,y,g;for(null==t&&(t=3),(e=this.getOpcodes()).length||(e=[["equal",0,1,0,1]]),"equal"===e[0][0]&&(s=(d=e[0])[0],i=d[1],o=d[2],a=d[3],u=d[4],e[0]=[s,f(i,o-t),o,f(a,u-t),u]),"equal"===e[e.length-1][0]&&(s=(v=e[e.length-1])[0],i=v[1],o=v[2],a=v[3],u=v[4],e[e.length-1]=[s,i,h(o,i+t),a,h(u,a+t)]),c=t+t,r=[],n=[],l=0,p=e.length;l<p;l++)s=(y=e[l])[0],i=y[1],o=y[2],a=y[3],u=y[4],"equal"===s&&o-i>c&&(n.push([s,i,h(o,i+t),a,h(u,a+t)]),r.push(n),n=[],i=(g=[f(i,o-t),f(a,u-t)])[0],a=g[1]),n.push([s,i,o,a,u]);return!n.length||1===n.length&&"equal"===n[0][0]||r.push(n),r},t.prototype.ratio=function(){var t,e,n,r;for(t=0,e=0,n=(r=this.getMatchingBlocks()).length;e<n;e++)t+=r[e][2];return m(t,this.a.length+this.b.length)},t.prototype.quickRatio=function(){var t,e,n,r,i,o,a,u,c,s,l;if(!this.fullbcount)for(this.fullbcount=n={},o=0,u=(s=this.b).length;o<u;o++)n[e=s[o]]=(n[e]||0)+1;for(n=this.fullbcount,t={},r=0,a=0,c=(l=this.a).length;a<c;a++)e=l[a],i=x(t,e)?t[e]:n[e]||0,t[e]=i-1,i>0&&r++;return m(r,this.a.length+this.b.length)},t.prototype.realQuickRatio=function(){var t,e,n;return n=[this.a.length,this.b.length],m(h(t=n[0],e=n[1]),t+e)},t}(),l=function(t,e,n,i){var o,u,c,s,l,f,h,p,d;if(null==n&&(n=3),null==i&&(i=.6),!(n>0))throw new Error("n must be > 0: ("+n+")");if(!(0<=i&&i<=1))throw new Error("cutoff must be in [0.0, 1.0]: ("+i+")");for(o=[],(u=new a).setSeq2(t),s=0,f=e.length;s<f;s++)c=e[s],u.setSeq1(c),u.realQuickRatio()>=i&&u.quickRatio()>=i&&u.ratio()>=i&&o.push([u.ratio(),c]);for(d=[],l=0,h=(o=r.nlargest(o,n,g)).length;l<h;l++)(p=o[l])[0],c=p[1],d.push(c);return d},b=function(t,e){var n,r,i;for(n=(i=[0,t.length])[0],r=i[1];n<r&&t[n]===e;)n++;return n},t=function(){function t(t,e){this.linejunk=t,this.charjunk=e}return t.name="Differ",t.prototype.compare=function(t,e){var n,r,i,o,u,c,s,l,f,h,p,d,v,y;for(s=[],f=0,p=(v=new a(this.linejunk,t,e).getOpcodes()).length;f<p;f++){switch(l=(y=v[f])[0],r=y[1],n=y[2],o=y[3],i=y[4],l){case"replace":u=this._fancyReplace(t,r,n,e,o,i);break;case"delete":u=this._dump("-",t,r,n);break;case"insert":u=this._dump("+",e,o,i);break;case"equal":u=this._dump(" ",t,r,n);break;default:throw new Error("unknow tag ("+l+")")}for(h=0,d=u.length;h<d;h++)c=u[h],s.push(c)}return s},t.prototype._dump=function(t,e,n,r){var i,o,a;for(a=[],i=o=n;n<=r?o<r:o>r;i=n<=r?++o:--o)a.push(t+" "+e[i]);return a},t.prototype._plainReplace=function(t,e,n,r,i,o){var a,c,s,l,f,h,p,d,v,y;for(u(e<n&&i<o),o-i<n-e?(a=this._dump("+",r,i,o),f=this._dump("-",t,e,n)):(a=this._dump("-",t,e,n),f=this._dump("+",r,i,o)),l=[],h=0,d=(y=[a,f]).length;h<d;h++)for(p=0,v=(c=y[h]).length;p<v;p++)s=c[p],l.push(s);return l},t.prototype._fancyReplace=function(t,e,n,r,i,o){var u,c,s,l,f,h,p,d,v,y,g,m,b,_,w,x,S,O,T,j,k,A,E,I,N,C,D,B,z,L,M,R,P,q,U,F,H,G,W,J,V,Y,$,Q,K,Z,X,tt;for(p=(F=[.74,.75])[0],_=F[1],b=new a(this.charjunk),w=(H=[null,null])[0],x=H[1],A=[],O=I=i;i<=o?I<o:I>o;O=i<=o?++I:--I)for(y=r[O],b.setSeq2(y),S=N=e;e<=n?N<n:N>n;S=e<=n?++N:--N)(c=t[S])!==y?(b.setSeq1(c),b.realQuickRatio()>p&&b.quickRatio()>p&&b.ratio()>p&&(p=(Y=[b.ratio(),S,O])[0],d=Y[1],v=Y[2])):null===w&&(w=(V=[S,O])[0],x=V[1]);if(p<_){if(null===w){for(C=0,B=($=this._plainReplace(t,e,n,r,i,o)).length;C<B;C++)k=$[C],A.push(k);return A}d=(Q=[w,x,1])[0],v=Q[1],p=Q[2]}else w=null;for(D=0,z=(K=this._fancyHelper(t,e,d,r,i,v)).length;D<z;D++)k=K[D],A.push(k);if(u=(Z=[t[d],r[v]])[0],h=Z[1],null===w){for(f=m="",b.setSeqs(u,h),P=0,L=(X=b.getOpcodes()).length;P<L;P++)switch(E=(tt=X[P])[0],s=tt[1],l=tt[2],g=tt[3],T=(G=[l-s,tt[4]-g])[0],j=G[1],E){case"replace":f+=Array(T+1).join("^"),m+=Array(j+1).join("^");break;case"delete":f+=Array(T+1).join("-");break;case"insert":m+=Array(j+1).join("+");break;case"equal":f+=Array(T+1).join(" "),m+=Array(j+1).join(" ");break;default:throw new Error("unknow tag ("+E+")")}for(q=0,M=(W=this._qformat(u,h,f,m)).length;q<M;q++)k=W[q],A.push(k)}else A.push("  "+u);for(U=0,R=(J=this._fancyHelper(t,d+1,n,r,v+1,o)).length;U<R;U++)k=J[U],A.push(k);return A},t.prototype._fancyHelper=function(t,e,n,r,i,o){var a;return a=[],e<n?a=i<o?this._fancyReplace(t,e,n,r,i,o):this._dump("-",t,e,n):i<o&&(a=this._dump("+",r,i,o)),a},t.prototype._qformat=function(t,e,n,r){var i,o;return o=[],i=h(b(t,"\t"),b(e,"\t")),i=h(i,b(n.slice(0,i)," ")),i=h(i,b(r.slice(0,i)," ")),n=n.slice(i).replace(/\s+$/,""),r=r.slice(i).replace(/\s+$/,""),o.push("- "+t),n.length&&o.push("? "+Array(i+1).join("\t")+n+"\n"),o.push("+ "+e),r.length&&o.push("? "+Array(i+1).join("\t")+r+"\n"),o},t}(),o=function(t,e){return null==e&&(e=/^\s*#?\s*$/),e.test(t)},i=function(t,e){return null==e&&(e=" \t"),S.call(e,t)>=0},w=function(t,e){var n,r;return n=t+1,1===(r=e-t)?""+n:(r||n--,n+","+r)},v=function(t,e,n){var r,i,o,u,c,s,l,f,h,p,d,v,y,g,m,b,_,x,S,O,T,j,k,A,E,I,N,C,D,B,z,L,M,R,P,q,U;for(null==(c=(z=null!=n?n:{}).fromfile)&&(c=""),null==(S=z.tofile)&&(S=""),null==(s=z.fromfiledate)&&(s=""),null==(O=z.tofiledate)&&(O=""),null==z.n&&3,null==(m=z.lineterm)&&(m="\n"),g=[],b=!1,T=0,E=(L=new a(null,t,e).getGroupedOpcodes()).length;T<E;T++)for(l=L[T],b||(b=!0,u=s?"\t"+s:"",x=O?"\t"+O:"",g.push("--- "+c+u+m),g.push("+++ "+S+x+m)),v=(M=[l[0],l[l.length-1]])[1],r=w((o=M[0])[1],v[2]),i=w(o[3],v[4]),g.push("@@ -"+r+" +"+i+" @@"+m),j=0,I=l.length;j<I;j++)if(_=(R=l[j])[0],f=R[1],h=R[2],p=R[3],d=R[4],"equal"!==_){if("replace"===_||"delete"===_)for(A=0,C=(q=t.slice(f,h)).length;A<C;A++)y=q[A],g.push("-"+y);if("replace"===_||"insert"===_)for(B=0,D=(U=e.slice(p,d)).length;B<D;B++)y=U[B],g.push("+"+y)}else for(k=0,N=(P=t.slice(f,h)).length;k<N;k++)y=P[k],g.push(" "+y);return g},_=function(t,e){var n,r;return n=t+1,(r=e-t)||n--,r<=1?""+n:n+","+(n+r-1)},c=function(t,e,n){var r,i,o,u,c,s,l,f,h,p,d,v,g,m,b,w,x,S,O,T,j,k,A,E,I,N,C,D,B,z,L,M,R,P,q,U,F,H;for(null==(c=(M=null!=n?n:{}).fromfile)&&(c=""),null==(T=M.tofile)&&(T=""),null==(s=M.fromfiledate)&&(s=""),null==(j=M.tofiledate)&&(j=""),null==M.n&&3,null==(b=M.lineterm)&&(b="\n"),w={insert:"+ ",delete:"- ",replace:"! ",equal:"  "},x=!1,m=[],k=0,N=(R=new a(null,t,e).getGroupedOpcodes()).length;k<N;k++)if(l=R[k],!x){if(x=!0,u=s?"\t"+s:"",O=j?"\t"+j:"",m.push("*** "+c+u+b),m.push("--- "+T+O+b),o=(P=[l[0],l[l.length-1]])[0],v=P[1],m.push("***************"+b),r=_(o[1],v[2]),m.push("*** "+r+" ****"+b),y(function(){var t,e,n,r;for(r=[],t=0,e=l.length;t<e;t++)n=l[t],S=n[0],n[1],n[2],n[3],n[4],r.push("replace"===S||"delete"===S);return r}()))for(A=0,C=l.length;A<C;A++)if(q=l[A],S=q[0],f=q[1],h=q[2],q[3],q[4],"insert"!==S)for(E=0,D=(U=t.slice(f,h)).length;E<D;E++)g=U[E],m.push(w[S]+g);if(i=_(o[3],v[4]),m.push("--- "+i+" ----"+b),y(function(){var t,e,n,r;for(r=[],t=0,e=l.length;t<e;t++)n=l[t],S=n[0],n[1],n[2],n[3],n[4],r.push("replace"===S||"insert"===S);return r}()))for(I=0,B=l.length;I<B;I++)if(F=l[I],S=F[0],F[1],F[2],p=F[3],d=F[4],"delete"!==S)for(L=0,z=(H=e.slice(p,d)).length;L<z;L++)g=H[L],m.push(w[S]+g)}return m},p=function(e,n,r,o){return null==o&&(o=i),new t(r,o).compare(e,n)},d=function(t,e){var n,r,i,o,a,u,c;if(!(o={1:"- ",2:"+ "}[e]))throw new Error("unknow delta choice (must be 1 or 2): "+e);for(i=["  ",o],r=[],a=0,u=t.length;a<u;a++)c=(n=t[a]).slice(0,2),S.call(i,c)>=0&&r.push(n.slice(2));return r},e._arrayCmp=g,e.SequenceMatcher=a,e.getCloseMatches=l,e._countLeading=b,e.Differ=t,e.IS_LINE_JUNK=o,e.IS_CHARACTER_JUNK=i,e._formatRangeUnified=w,e.unifiedDiff=v,e._formatRangeContext=_,e.contextDiff=c,e.ndiff=p,e.restore=d}).call(this)},function(t,e,n){t.exports=n(53)},function(t,e,n){var r,i,o;(function(){var n,a,u,c,s,l,f,h,p,d,v,y,g,m,b;u=Math.floor,d=Math.min,a=function(t,e){return t<e?-1:t>e?1:0},p=function(t,e,n,r,i){var o;if(null==n&&(n=0),null==i&&(i=a),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=t.length);n<r;)i(e,t[o=u((n+r)/2)])<0?r=o:n=o+1;return[].splice.apply(t,[n,n-n].concat(e)),e},l=function(t,e,n){return null==n&&(n=a),t.push(e),m(t,0,t.length-1,n)},s=function(t,e){var n,r;return null==e&&(e=a),n=t.pop(),t.length?(r=t[0],t[0]=n,b(t,0,e)):r=n,r},h=function(t,e,n){var r;return null==n&&(n=a),r=t[0],t[0]=e,b(t,0,n),r},f=function(t,e,n){var r;return null==n&&(n=a),t.length&&n(t[0],e)<0&&(e=(r=[t[0],e])[0],t[0]=r[1],b(t,0,n)),e},c=function(t,e){var n,r,i,o,c,s;for(null==e&&(e=a),c=[],r=0,i=(o=function(){s=[];for(var e=0,n=u(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)s.push(e);return s}.apply(this).reverse()).length;r<i;r++)n=o[r],c.push(b(t,n,e));return c},g=function(t,e,n){var r;if(null==n&&(n=a),-1!==(r=t.indexOf(e)))return m(t,0,r,n),b(t,r,n)},v=function(t,e,n){var r,i,o,u,s;if(null==n&&(n=a),!(i=t.slice(0,e)).length)return i;for(c(i,n),o=0,u=(s=t.slice(e)).length;o<u;o++)r=s[o],f(i,r,n);return i.sort(n).reverse()},y=function(t,e,n){var r,i,o,u,l,f,h,v,y;if(null==n&&(n=a),10*e<=t.length){if(!(o=t.slice(0,e).sort(n)).length)return o;for(i=o[o.length-1],u=0,f=(h=t.slice(e)).length;u<f;u++)n(r=h[u],i)<0&&(p(o,r,0,null,n),o.pop(),i=o[o.length-1]);return o}for(c(t,n),y=[],l=0,v=d(e,t.length);0<=v?l<v:l>v;0<=v?++l:--l)y.push(s(t,n));return y},m=function(t,e,n,r){var i,o,u;for(null==r&&(r=a),i=t[n];n>e&&r(i,o=t[u=n-1>>1])<0;)t[n]=o,n=u;return t[n]=i},b=function(t,e,n){var r,i,o,u,c;for(null==n&&(n=a),i=t.length,c=e,o=t[e],r=2*e+1;r<i;)(u=r+1)<i&&!(n(t[r],t[u])<0)&&(r=u),t[e]=t[r],r=2*(e=r)+1;return t[e]=o,m(t,c,e,n)},n=function(){function t(t){this.cmp=null!=t?t:a,this.nodes=[]}return t.push=l,t.pop=s,t.replace=h,t.pushpop=f,t.heapify=c,t.updateItem=g,t.nlargest=v,t.nsmallest=y,t.prototype.push=function(t){return l(this.nodes,t,this.cmp)},t.prototype.pop=function(){return s(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return h(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return f(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return c(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return g(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),i=[],void 0===(o="function"==typeof(r=function(){return n})?r.apply(e,i):r)||(t.exports=o)}).call(this)},function(t,e,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function r(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=n(56),a=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function s(t){return Object.prototype.toString.call(t)}function l(t){return!i(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var f=t.exports=g,h=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(o.isFunction(t)){if(c)return t.name;var e=t.toString().match(h);return e&&e[1]}}function d(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function v(t){if(c||!o.isFunction(t))return o.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function y(t,e,n,r,i){throw new f.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function g(t,e){t||y(t,!0,e,"==",f.ok)}function m(t,e,n,a){if(t===e)return!0;if(i(t)&&i(e))return 0===r(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(l(t)&&l(e)&&s(t)===s(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;var c=(a=a||{actual:[],expected:[]}).actual.indexOf(t);return-1!==c&&c===a.expected.indexOf(e)||(a.actual.push(t),a.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=b(t),a=b(e);if(i&&!a||!i&&a)return!1;if(i)return t=u.call(t),e=u.call(e),m(t,e,n);var c,s,l=x(t),f=x(e);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),s=l.length-1;s>=0;s--)if(l[s]!==f[s])return!1;for(s=l.length-1;s>=0;s--)if(c=l[s],!m(t[c],e[c],n,r))return!1;return!0}(t,e,n,a))}return n?t===e:t==e}function b(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function _(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function w(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&y(i,n,"Missing expected exception"+r);var a="string"==typeof r,u=!t&&i&&!n;if((!t&&o.isError(i)&&a&&_(i,n)||u)&&y(i,n,"Got unwanted exception"+r),t&&i&&n&&!_(i,n)||!t&&i)throw i}f.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=d(v((e=this).actual),128)+" "+e.operator+" "+d(v(e.expected),128),this.generatedMessage=!0);var n=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var i=r.stack,o=p(n),a=i.indexOf("\n"+o);if(a>=0){var u=i.indexOf("\n",a+1);i=i.substring(u+1)}this.stack=i}}},o.inherits(f.AssertionError,Error),f.fail=y,f.ok=g,f.equal=function(t,e,n){t!=e&&y(t,e,n,"==",f.equal)},f.notEqual=function(t,e,n){t==e&&y(t,e,n,"!=",f.notEqual)},f.deepEqual=function(t,e,n){m(t,e,!1)||y(t,e,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(t,e,n){m(t,e,!0)||y(t,e,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(t,e,n){m(t,e,!1)&&y(t,e,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function t(e,n,r){m(e,n,!0)&&y(e,n,r,"notDeepStrictEqual",t)},f.strictEqual=function(t,e,n){t!==e&&y(t,e,n,"===",f.strictEqual)},f.notStrictEqual=function(t,e,n){t===e&&y(t,e,n,"!==",f.notStrictEqual)},f.throws=function(t,e,n){w(!0,t,e,n)},f.doesNotThrow=function(t,e,n){w(!1,t,e,n)},f.ifError=function(t){if(t)throw t};var x=Object.keys||function(t){var e=[];for(var n in t)a.call(t,n)&&e.push(n);return e}}).call(this,n(55))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),c=r[n];n<o;c=r[++n])v(c)||!_(c)?a+=" "+c:a+=" "+u(c);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function u(t,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,t,r.depth)}function c(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function s(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&S(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return g(i)||(i=l(t,i,r)),i}var o=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(y(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(v(e))return t.stylize("null","null")}(t,n);if(o)return o;var a=Object.keys(n),u=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),x(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(S(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return f(n)}var s,_="",O=!1,T=["{","}"];(p(n)&&(O=!0,T=["[","]"]),S(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),x(n)&&(_=" "+f(n)),0!==a.length||O&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),s=O?function(t,e,n,r,i){for(var o=[],a=0,u=e.length;a<u;++a)k(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}(t,n,r,u,a):a.map(function(e){return h(t,n,r,u,e,O)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(s,_,T)):T[0]+_+T[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i,o){var a,u,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(u=t.stylize("[Setter]","special")),k(r,i)||(a="["+i+"]"),u||(t.seen.indexOf(c.value)<0?(u=v(n)?l(t,c.value,null):l(t,c.value,n-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n")):u=t.stylize("[Circular]","special")),m(a)){if(o&&i.match(/^\d+$/))return u;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+u}function p(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function v(t){return null===t}function y(t){return"number"==typeof t}function g(t){return"string"==typeof t}function m(t){return void 0===t}function b(t){return _(t)&&"[object RegExp]"===O(t)}function _(t){return"object"==typeof t&&null!==t}function w(t){return _(t)&&"[object Date]"===O(t)}function x(t){return _(t)&&("[object Error]"===O(t)||t instanceof Error)}function S(t){return"function"==typeof t}function O(t){return Object.prototype.toString.call(t)}function T(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(m(o)&&(o=Object({NODE_ENV:"production"}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=d,e.isNull=v,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=m,e.isRegExp=b,e.isObject=_,e.isDate=w,e.isError=x,e.isFunction=S,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(58);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[T(t.getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":"),[t.getDate(),j[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(59),e._extend=function(t,e){if(!e||!_(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function E(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(A&&t[A]){var e;if("function"!=typeof(e=t[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(t,r){t?n(t):e(r)});try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),A&&Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=A,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,n).then(function(e){t.nextTick(a,null,e)},function(e){t.nextTick(E,e,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(57))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,s=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&p())}function p(){if(!l){var t=u(h);l=!0;for(var e=s.length;e;){for(c=s,s=[];++f<e;)c&&c[f].run();f=-1,e=s.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new d(t,e)),1!==s.length||l||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(){var e,r,i,o,a,u,c,s={}.hasOwnProperty;r=n(61),u=n(43).extendedTypeOf,e={" ":function(t){return t},"+":r.green,"-":r.red},c=function(t,e,n,r,i){var o,a,l,f,h,p,d,v,y,g,m,b,_,w,x,S;switch(m=t?t+": ":"",w=i+"  ",u(e)){case"object":if("__old"in e&&"__new"in e&&2===Object.keys(e).length)return c(t,e.__old,n,"-",i),c(t,e.__new,n,"+",i);for(x in n(r,""+i+m+"{"),e)s.call(e,x)&&(S=e[x],(y=x.match(/^(.*)__deleted$/))?c(y[1],S,n,"-",w):(y=x.match(/^(.*)__added$/))?c(y[1],S,n,"+",w):c(x,S,n,r,w));return n(r,i+"}");case"array":for(n(r,""+i+m+"["),v=!0,o=0,h=e.length;o<h;o++)a=e[o],("array"!==u(a)||2!==a.length&&(1!==a.length||" "!==a[0])||"string"!=typeof a[0]||1!==a[0].length||" "!==(b=a[0])&&"-"!==b&&"+"!==b&&"~"!==b)&&(v=!1);if(v)for(l=0,p=e.length;l<p;l++)if(g=(_=e[l])[0],S=_[1]," "===g&&null==S)n(" ",w+"...");else{if(" "!==g&&"~"!==g&&"+"!==g&&"-"!==g)throw new Error("Unexpected op '"+g+"' in "+JSON.stringify(e,null,2));"~"===g&&(g=" "),c("",S,n,g,w)}else for(f=0,d=e.length;f<d;f++)S=e[f],c("",S,n,r,w);return n(r,i+"]");default:if(0===e||null===e||!1===e||e)return n(r,i+m+JSON.stringify(e))}},a=function(t,e){return c("",t,e," ","")},o=function(t){var e;return e=[],a(t,function(t,n){return e.push(""+t+n)}),e},i=function(t,n){var r;return null==n&&(n={}),r=[],a(t,function(t,i){var o,a,u;return null==(o=n.color)||o?r.push((null!=(a=null!=(u=n.theme)?u[t]:void 0)?a:e[t])(""+t+i)+"\n"):r.push(""+t+i+"\n")}),r.join("")},t.exports={colorize:i,colorizeToArray:o,colorizeToCallback:a}}).call(this)},function(t,e,n){"use strict";var r,i,o,a,u=Object.defineProperties,c=n(62);r=function(t,e){return"["+t[0]+"m"+(e||"")+"["+t[1]+"m"},i={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],strike:[9,29]},["black","red","green","yellow","blue","magenta","cyan","white"].forEach(function(t,e){i[t]=[30+e,39],i["bg"+t[0].toUpperCase()+t.slice(1)]=[40+e,49]}),i.gray=[90,39],(o=c(i,function(t){return{get:function(){return this.style.push(t),this},enumerable:!0}})).bright={get:function(){return this._bright=!0,this},enumerable:!0},o.bgBright={get:function(){return this._bgBright=!0,this},enumerable:!0},a=function(){var t=u(function t(e){return t.style.reduce(function(e,n){return(t._bright&&n[0]>=30&&n[0]<38||t._bgBright&&n[0]>=40&&n[0]<48)&&(n=[n[0]+60,n[1]]),r(n,e)},e)},o);return t.style=[],t[this]},t.exports=u(function(t){return t},c(o,function(t,e){return{get:a.bind(e),enumerable:!0}}))},function(t,e,n){"use strict";var r=n(63);t.exports=function(t,e){var n={};return r(t,function(r,i){n[i]=e.call(this,r,i,t)},arguments[2]),n}},function(t,e,n){"use strict";t.exports=n(64)("forEach")},function(t,e,n){"use strict";var r=Function.prototype.call,i=Object.keys,o=n(44),a=n(65),u=n(66);t.exports=function(t){return function(e,n){var c,s=arguments[2],l=arguments[3];return u(e),a(n),c=i(e),l&&c.sort(o(l)?l:void 0),c[t](function(t,i){return r.call(n,s,e[t],t,e,i)})}}},function(t,e,n){"use strict";var r=n(44);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a function");return t}},function(t,e,n){"use strict";t.exports=function(t){if(null==t)throw new TypeError("Cannot use null or undefined");return t}}])});
//# sourceMappingURL=dev.js.map