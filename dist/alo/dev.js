/*!
 * alo
 * Copyright(c) 2019 Katja Lutz
 * MIT Licensed
 * https://opensource.org/licenses/MIT
*/
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.alo=e():t.alo=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=44)}([function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return f}),n.d(e,"c",function(){return d}),n.d(e,"f",function(){return h}),n.d(e,"a",function(){return v});var r=0,i={},o={},a={},u=function t(e,n){if(o[n]=e,a[n]){var r=!0,i=!1,u=void 0;try{for(var c,s=a[n][Symbol.iterator]();!(r=(c=s.next()).done);r=!0){t(e,c.value)}}catch(t){i=!0,u=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw u}}}},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.name,n=void 0===e?"":e,i=t.children,o=t.entityContainer,a=void 0!==o&&o,u="".concat(r++,"-").concat(n);return i&&s(u,i,a),u},s=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a[t]=e;var r=!0,o=!1,c=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var f=s.value;i[f]=t,n&&u(t,f)}}catch(t){o=!0,c=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw c}}},l=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=o[e];if(i){if(r){var a=t.containers[i]=t.containers[i]||{};return a[n]=a[n]||{}}var u=t.containers[i];if(u)return u[n]}},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=void 0!==t.type?t.event:t;if(r.tagsSet=!0,r.tags[e+"*"]=!0,null!=n){var i=l(r,e,n,!0);i&&(i[e+"*"]=!0)}},d=function t(e,n,r,o){var a=void 0!==e.type?e.event:e;a.tagsSet=!0,a.tags[n]=a.tags[n]||!0,null!=r&&(o=o||l(a,n,r,!0))&&(o[n]=!0);var u=i[n];u&&!a.tags[u]&&t(a,u,r)},h=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=void 0!==t.type?t.event:t;if(r&&o.tags["*"])return!0;var a,u=o.tags[e];null!=n&&(u=!!(a=l(o,e,n))&&a[e]);var c=!u&&r&&function(t,e,n){for(;;){if(!(e=i[e]))return!1;if(n&&n[e+"*"])return!0;if(t.tags[e+"*"])return!0}}(o,e,a);return!(!u&&!c)},v=function(){return{tagsSet:!1,tags:{},containers:{}}}},function(t,e,n){"use strict";n.r(e);var r=n(13);n.d(e,"actionTypes",function(){return r.b}),n.d(e,"Store",function(){return r.a});var i=n(24);for(var o in i)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return i[t]})}(o);var a=n(16);n.d(e,"isAction",function(){return a.b}),n.d(e,"cloneAction",function(){return a.a});var u=n(25);for(var o in u)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","isAction","cloneAction","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return u[t]})}(o);var c=n(3);n.d(e,"createTag",function(){return c.b}),n.d(e,"setTagChildren",function(){return c.d}),n.d(e,"setWildCard",function(){return c.e}),n.d(e,"setTag",function(){return c.c}),n.d(e,"tagIsSet",function(){return c.f}),n.d(e,"createEvent",function(){return c.a});var s=n(26);for(var o in s)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","isAction","cloneAction","createTag","setTagChildren","setWildCard","setTag","tagIsSet","createEvent","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return s[t]})}(o);var l=n(11);n.d(e,"combineMutators",function(){return l.a}),n.d(e,"typeMutator",function(){return l.b});var f=n(27);n.d(e,"createPrimitiveSelector",function(){return f.b}),n.d(e,"createSelector",function(){return f.c}),n.d(e,"combineSelectorResults",function(){return f.a});var d=n(28);n.d(e,"setUndoData",function(){return d.e}),n.d(e,"getUndoData",function(){return d.d}),n.d(e,"createUndoThunk",function(){return d.b}),n.d(e,"createRedoThunk",function(){return d.a}),n.d(e,"createUndoableMutator",function(){return d.c});var h=n(29);for(var o in h)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","isAction","cloneAction","createTag","setTagChildren","setWildCard","setTag","tagIsSet","createEvent","createPrimitiveSelector","createSelector","combineSelectorResults","setUndoData","getUndoData","createUndoThunk","createRedoThunk","createUndoableMutator","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return h[t]})}(o);var v=n(20);n.d(e,"Subscribable",function(){return v.a});var p=n(30);for(var o in p)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","isAction","cloneAction","createTag","setTagChildren","setWildCard","setTag","tagIsSet","createEvent","createPrimitiveSelector","createSelector","combineSelectorResults","setUndoData","getUndoData","createUndoThunk","createRedoThunk","createUndoableMutator","Subscribable","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return p[t]})}(o);var y=n(12);n.d(e,"observe",function(){return y.h}),n.d(e,"observable",function(){return y.g}),n.d(e,"notify",function(){return y.f}),n.d(e,"batch",function(){return y.a}),n.d(e,"batchStart",function(){return y.d}),n.d(e,"batchPause",function(){return y.c}),n.d(e,"batchEnd",function(){return y.b}),n.d(e,"getOriginObject",function(){return y.e});var b=n(31);for(var o in b)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","isAction","cloneAction","createTag","setTagChildren","setWildCard","setTag","tagIsSet","createEvent","createPrimitiveSelector","createSelector","combineSelectorResults","setUndoData","getUndoData","createUndoThunk","createRedoThunk","createUndoableMutator","Subscribable","observe","observable","notify","batch","batchStart","batchPause","batchEnd","getOriginObject","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return b[t]})}(o);var m=n(6);n.d(e,"ActionNormalizer",function(){return m.b}),n.d(e,"AbstractActionNormalizerDecorator",function(){return m.a});var g=n(32);for(var o in g)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","isAction","cloneAction","createTag","setTagChildren","setWildCard","setTag","tagIsSet","createEvent","createPrimitiveSelector","createSelector","combineSelectorResults","setUndoData","getUndoData","createUndoThunk","createRedoThunk","createUndoableMutator","Subscribable","observe","observable","notify","batch","batchStart","batchPause","batchEnd","getOriginObject","ActionNormalizer","AbstractActionNormalizerDecorator","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return g[t]})}(o);var _=n(33);n.d(e,"BatchActionNormalizerDecorator",function(){return _.a});var w=n(34);n.d(e,"DateActionNormalizerDecorator",function(){return w.a});var S=n(35);n.d(e,"UndoableActionNormalizerDecorator",function(){return S.a});var O=n(17);n.d(e,"ActionResolver",function(){return O.b}),n.d(e,"AbstractActionResolverDecorator",function(){return O.a});var x=n(36);for(var o in x)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","isAction","cloneAction","createTag","setTagChildren","setWildCard","setTag","tagIsSet","createEvent","createPrimitiveSelector","createSelector","combineSelectorResults","setUndoData","getUndoData","createUndoThunk","createRedoThunk","createUndoableMutator","Subscribable","observe","observable","notify","batch","batchStart","batchPause","batchEnd","getOriginObject","ActionNormalizer","AbstractActionNormalizerDecorator","BatchActionNormalizerDecorator","DateActionNormalizerDecorator","UndoableActionNormalizerDecorator","ActionResolver","AbstractActionResolverDecorator","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return x[t]})}(o);var j=n(37);n.d(e,"BatchActionResolverDecorator",function(){return j.a});var I=n(38);n.d(e,"BATCH_ACTION_TYPE",function(){return I.a}),n.d(e,"dispatchBatch",function(){return I.b});var A=n(39);n.d(e,"typeThunk",function(){return A.b}),n.d(e,"dispatchThunk",function(){return A.a});var T=n(40);n.d(e,"dispatchPromise",function(){return T.a});var k=n(41);n.d(e,"dispatchActions",function(){return k.a});var E=n(42);for(var o in E)["combineMutators","typeMutator","once","findInArray","actionTypes","Store","isAction","cloneAction","createTag","setTagChildren","setWildCard","setTag","tagIsSet","createEvent","createPrimitiveSelector","createSelector","combineSelectorResults","setUndoData","getUndoData","createUndoThunk","createRedoThunk","createUndoableMutator","Subscribable","observe","observable","notify","batch","batchStart","batchPause","batchEnd","getOriginObject","ActionNormalizer","AbstractActionNormalizerDecorator","BatchActionNormalizerDecorator","DateActionNormalizerDecorator","UndoableActionNormalizerDecorator","ActionResolver","AbstractActionResolverDecorator","BatchActionResolverDecorator","BATCH_ACTION_TYPE","dispatchBatch","typeThunk","dispatchThunk","dispatchPromise","dispatchActions","default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return E[t]})}(o);var N=n(5);n.d(e,"once",function(){return N.d}),n.d(e,"findInArray",function(){return N.b})},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});var r=n(43),i=n.n(r),o=function(t){return t&&void 0!==t.then},a=function(t){var e,n=!1;return function(){return n||(e=t(),n=!0),e}},u=function(t,e){var n=0,r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=e(a.value,n,t);if(c)return c;n++}}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}},c=function(t){return i()(t)}},function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return l});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(2),c=n.n(u),s=function(){function t(){a()(this,t)}return c()(t,[{key:"normalize",value:function(t){var e=t.action,n=t.callBack;return e.meta.undo||e.meta.redo||(e.meta.do=!0),n(e)}}]),t}(),l=function(){function t(e){var n=e.actionNormalizer;a()(this,t),i()(this,"_actionNormalizer",void 0),this._actionNormalizer=n}return c()(t,[{key:"normalize",value:function(t){return this._actionNormalizer.normalize(t)}}]),t}()},function(t,e,n){var r=n(0);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}},function(t,e,n){var r=n(57),i=n(19);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(58);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n(18),i=n.n(r),o=function(t){return t},a=function(t){var e=Object.entries(t);return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},o=0,a=e;o<a.length;o++){var u=i()(a[o],2),c=u[0],s=u[1];r[c]=s(t,n[c])}return r}}},function(t,e,n){"use strict";n.d(e,"h",function(){return S}),n.d(e,"g",function(){return O}),n.d(e,"f",function(){return j}),n.d(e,"a",function(){return k}),n.d(e,"d",function(){return E}),n.d(e,"c",function(){return N}),n.d(e,"b",function(){return C}),n.d(e,"e",function(){return B});var r,i=n(18),o=n.n(i),a=n(21),u=n.n(a),c=n(14),s=n.n(c),l=n(22),f=n.n(l),d=(r=0,function(){return"@observer".concat(r+=1)}),h=function(){var t=0;return function(){return"@observable".concat(t+=1)}}(),v={},p={},y=[];function b(t){return f()(t)&&null!=t.__observableId}var m=!1,g=function(){m||(m=!0,y.pop())};function _(t){m=!1,y.push(t),v[t].fn(g),m||y.pop(),m=!1}function w(t,e,n,r){t[n]!==r&&(t[n]=r,x(e))}function S(t){var e=d();return v[e]={fn:t,targetObserverIdSets:[]},_(e),function(){v[e].targetObserverIdSets.forEach(function(t){delete t[e]})}}function O(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(b(t))return t;if(Array.isArray(t))throw new Error("Array object cannot be Reactive");var n=h(),r={},i={},a={};p[n]={storage:r,propObserverIdSetMap:i};for(var c=function(){var n=f[l],c=(Object.getOwnPropertyDescriptor(t,n)||{}).get,d=i[n]={};if(Object.defineProperty(a,n,{configurable:!0,enumerable:!0,get:function(){var t=y[y.length-1];return t&&!d[t]&&(d[t]=!0,v[t].targetObserverIdSets.push(d)),r[n]}}),"function"==typeof c)S(function(){var t=c.call(a);w(r,d,n,t)});else{var h=t[n];if(e)if(s()(h))h=O(h,e);else if(u()(h))for(var p=0,b=Object.entries(h);p<b.length;p++){var m=o()(b[p],2),g=m[0],_=m[1];s()(_)&&(h[g]=O(_,e))}r[n]=h,Object.defineProperty(a,n,{set:function(t){w(r,d,n,t)}})}},l=0,f=Object.keys(t);l<f.length;l++)c();return Object.defineProperty(a,"__observableId",{value:n}),a}var x=function(t){var e,n=!0;null!=I&&(e=A[I]).count>0&&(n=!1);for(var r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];if(n)_(o);else{if(e.observerIds.indexOf(o)>=0)continue;e.observerIds.push(o)}}};function j(t,e){if(b(t)){var n=p[t.__observableId].propObserverIdSetMap[e];x(n)}}var I,A={},T=0,k=function(t){var e=null!=I?E(I):E();t(),C(e)},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T++;return I=t,null==A[t]&&(A[t]={count:0,observerIds:[]}),A[t].count++,t},N=function(){I=void 0},C=function(t){var e=A[t];if(e.count--,0===e.count){var n=!0,r=!1,i=void 0;try{for(var o,a=e.observerIds[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){_(o.value)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}delete A[t],I=void 0}};function B(t){for(var e={},n=p[t.__observableId].storage,r=0,i=Object.keys(n);r<i.length;r++){var o=i[r],a=n[o];e[o]=b(a)?B(a):a}return e}},function(t,e,n){"use strict";n.d(e,"b",function(){return m}),n.d(e,"a",function(){return g});var r=n(1),i=n.n(r),o=n(2),a=n.n(o),u=n(0),c=n.n(u),s=n(14),l=n.n(s),f=n(6),d=n(17),h=n(16),v=n(3),p=n(20),y=n(5),b=n(12),m={INIT:"@@init"},g=function(){function t(e){var n=this,r=e.mutator,o=e.state,a=e.actionNormalizer,u=void 0===a?new f.b:a,s=e.actionResolver,l=void 0===s?new d.b:s,v=e.subscribable,g=void 0===v?new p.a:v,_=e.cloneDeep,w=void 0===_?y.a:_,S=e.pureByDefault,O=void 0!==S&&S;i()(this,t),c()(this,"_isMutating",void 0),c()(this,"_observable",Object(b.g)({state:null})),c()(this,"_action",void 0),c()(this,"_mutator",void 0),c()(this,"_actionNormalizer",void 0),c()(this,"_actionResolver",void 0),c()(this,"_subscribable",void 0),c()(this,"_cloneDeep",void 0),c()(this,"_pureByDefault",void 0),c()(this,"getState",function(){return n._observable.state}),c()(this,"dispatch",function(t){if(Object(h.b)(t))return t.meta||(t.meta={}),t.meta.tmp||(t.meta.tmp={}),n._actionNormalizer.normalize({action:t,callBack:n._afterDispatchNormalization,store:n});t&&console.error("Invalid action dispatched",t)}),c()(this,"_callSubscribers",function(){n._subscribable.callSubscribers(n)}),c()(this,"_afterDispatchNormalization",function(t){return n._actionResolver.resolve({action:t,store:n,setAction:n._setAction,callSubscribers:n._callSubscribers,applyMutator:n._applyMutator})}),c()(this,"_applyMutator",function(t){var e=null!=t.meta.pure?t.meta.pure:n._pureByDefault,r=t.payload;if(null==t.payload||e||(t.payload=n._cloneDeep(r)),n._isMutating)throw new Error("Mutations already in progress");n._isMutating=!0,Object(b.a)(function(){n._applyMutatorBatch(t)}),n._isMutating=!1,t.payload=r}),c()(this,"_setAction",function(t){n._action=t}),this._actionResolver=l,this._actionNormalizer=u,this._subscribable=g,this._cloneDeep=w,this._pureByDefault=O,this._isMutating=!1,this._mutator=r,this.dispatch({type:m.INIT,meta:{impure:!0},payload:o})}return a()(t,[{key:"getAction",value:function(){return this._action}},{key:"subscribe",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._subscribable.subscribe(t,e)}},{key:"getActionNormalizer",value:function(){return this._actionNormalizer}},{key:"setActionNormalizer",value:function(t){this._actionNormalizer=t}},{key:"getActionResolver",value:function(){return this._actionResolver}},{key:"setActionResolver",value:function(t){this._actionResolver=t}},{key:"getSubscribable",value:function(){return this._subscribable}},{key:"setSubscribable",value:function(t){this._subscribable=t}},{key:"observe",value:function(t){var e=this;return Object(b.h)(function(n){t(e,n)})}},{key:"_applyMutatorBatch",value:function(t){t.type===m.INIT&&(this._observable.state=l()(t.payload)?Object(b.g)(t.payload):t.payload,Object(v.e)(t.event));try{var e=this._mutator(t,this._observable.state);l()(e)&&(e=Object(b.g)(e)),this._observable.state=e}catch(t){console.error(t)}}}]),t}()},function(t,e,n){var r=n(45),i=n(51),o=n(22),a="[object Object]",u=Function.prototype,c=Object.prototype,s=u.toString,l=c.hasOwnProperty,f=s.call(Object);t.exports=function(t){if(!o(t)||r(t)!=a)return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==f}},function(t,e,n){
/*!
 * wald
 * Copyright(c) 2019 Katja Lutz
 * MIT Licensed
 * https://opensource.org/licenses/MIT
*/
window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r=n(8),i=n(3);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(9);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(10),i=n(11),o=n(12);t.exports=function(t,e){return r(t)||i(t,e)||o()}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){"use strict";n.r(e);var r,i=n(0),o=n.n(i),a=n(1),u=n.n(a),c=n(2),s=n.n(c),l=function(){function t(){o()(this,t)}return u()(t,[{key:"create",value:function(t){var e=t.blueprint,n=(t.creator,t.create);return e.create(n)}}]),t}(),f=function(){function t(e){var n=e.entityCreator;o()(this,t),s()(this,"entityCreator",void 0),this.entityCreator=n}return u()(t,[{key:"create",value:function(t){return this.entityCreator.create(t)}}]),t}(),d=function(){function t(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).entityCreator,n=void 0===e?new l:e;o()(this,t),s()(this,"_entityCreator",void 0),this._entityCreator=n}return u()(t,[{key:"getEntityCreator",value:function(){return this._entityCreator}},{key:"setEntityCreator",value:function(t){this._entityCreator=t}},{key:"get",value:function(t){var e=t.blueprint,n=t.options,r=void 0===n?{}:n;return this._entityCreator.create({blueprint:e,creator:r,create:{ioc:this}})}}]),t}(),h=function(){return r},v=function(t){r=t},p=function(){function t(){o()(this,t),s()(this,"idx",0)}return u()(t,[{key:"generate",value:function(t){return""!=t.id?t.id:this.idx++}}]),t}();v(new p);var y=function(){function t(e){var n=e.blueprintIdGenerator;o()(this,t),s()(this,"_blueprintIdGenerator",void 0),this._blueprintIdGenerator=n}return u()(t,[{key:"generate",value:function(t){return this._blueprintIdGenerator.generate(t)}}]),t}(),b=function(t){var e=t.id,n=void 0===e?"":e,i=t.create,o=t.meta,a={id:n,create:i,meta:void 0===o?{}:o};return a.id=function(t){return r.generate(t)}(a),a},m=function(t,e){return e()},g=function(t,e){return t.id===e.id},_=function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if(g(t,u))return!0}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!1},w=n(4),S=n.n(w),O=n(5),x=n.n(O),j=n(3),I=n.n(j),A=n(6),T=n.n(A),k=function(t){function e(){var t,n;o()(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=S()(this,(t=x()(e)).call.apply(t,[this].concat(i))),s()(I()(n),"_moduleBlueprintIdxMap",{}),n}return T()(e,t),u()(e,[{key:"generate",value:function(t){if(null==t.meta.moduleId)return this._blueprintIdGenerator.generate(t);var e=t.meta.moduleId();return""!=t.id?e+"-"+t.id:(null==this._moduleBlueprintIdxMap[e]&&(this._moduleBlueprintIdxMap[e]=0),e+"-"+this._moduleBlueprintIdxMap[e]++)}}]),e}(y),E=function(){function t(){o()(this,t),s()(this,"_entities",{})}return u()(t,[{key:"getEntity",value:function(t){var e=t.entityId;return this._entities[e]}},{key:"setEntity",value:function(t){var e=t.entity,n=t.entityId;this._entities[n]=e}},{key:"unsetEntity",value:function(t){delete this._entities[t]}}]),t}(),N=function(){function t(e){var n=e.entityStorage;o()(this,t),s()(this,"_entityStorage",void 0),this._entityStorage=n}return u()(t,[{key:"getEntity",value:function(t){return this._entityStorage.getEntity(t)}},{key:"setEntity",value:function(t){return this._entityStorage.setEntity(t)}},{key:"unsetEntity",value:function(t){return this._entityStorage.unsetEntity(t)}}]),t}(),C=function(t){function e(t){var n;return o()(this,e),n=S()(this,x()(e).call(this,t)),s()(I()(n),"_entityStorage",void 0),n._entityStorage=t.entityStorage||new E,n}return T()(e,t),u()(e,[{key:"create",value:function(t){var e=this,n=t.blueprint,r=t.creator.multitonId,i=n.meta.multiton&&!0!==t.creator.noMultiton;if(i&&null==r)throw"Ioc.get multiton requires multitonId in options";var o=r+"-"+n.id;if(i){var a=this._entityStorage.getEntity({entityId:o,blueprint:n});if(void 0!==a)return a;t.create.clearMultiton=function(){e._entityStorage.unsetEntity(o)}}var u=this.entityCreator.create(t);return i&&this._entityStorage.setEntity({entityId:o,entity:u,blueprint:n}),u}}]),e}(f),B=function(t){function e(t){var n;return o()(this,e),n=S()(this,x()(e).call(this,t)),s()(I()(n),"_entityStorage",void 0),n._entityStorage=t.entityStorage||new E,n}return T()(e,t),u()(e,[{key:"create",value:function(t){var e=this,n=t.blueprint,r=n.meta.singleton&&!0!==t.creator.noSingleton;if(r){var i=this._entityStorage.getEntity({blueprint:n,entityId:n.id});if(void 0!==i)return i;t.create.clearSingleton=function(){e._entityStorage.unsetEntity(n.id)}}var o=this.entityCreator.create(t);return r&&this._entityStorage.setEntity({blueprint:n,entityId:n.id,entity:o}),o}}]),e}(f),P=n(7),D=n.n(P),L=function(t,e){for(var n=[],r=[],i=0,o=Object.entries(e);i<o.length;i++){var a=D()(o[i],2),u=a[0],c=a[1];n.push(c),r.push(u)}return t.all(n).then(function(t){for(var e={},n=t.length,i=0;i<n;i++)e[r[i]]=t[i];return e})};n.d(e,"Ioc",function(){return d}),n.d(e,"createBlueprint",function(){return b}),n.d(e,"mapBlueprintEntity",function(){return m}),n.d(e,"equalBlueprint",function(){return g}),n.d(e,"oneOfBlueprints",function(){return _}),n.d(e,"getGlobalBlueprintIdGenerator",function(){return h}),n.d(e,"setGlobalBlueprintIdGenerator",function(){return v}),n.d(e,"BlueprintIdGenerator",function(){return p}),n.d(e,"AbstractBlueprintIdGeneratorDecorator",function(){return y}),n.d(e,"ModuleBlueprintIdGeneratorDecorator",function(){return k}),n.d(e,"EntityCreator",function(){return l}),n.d(e,"AbstractEntityCreatorDecorator",function(){return f}),n.d(e,"MultitonEntityCreatorDecorator",function(){return C}),n.d(e,"SingletonEntityCreatorDecorator",function(){return B}),n.d(e,"EntityStorage",function(){return E}),n.d(e,"AbstractEntityStorageDecorator",function(){return N}),n.d(e,"promiseAllObject",function(){return L})}])},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n(7),i=n.n(r),o=function(t){return t&&void 0!==t.type},a=function(t){return i()({},t,{event:void 0,meta:i()({},t.meta,{tmp:{}})})}},function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return f});var r=n(1),i=n.n(r),o=n(2),a=n.n(o),u=n(0),c=n.n(u),s=n(3),l=function(){function t(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).callSubscribersLazy,n=void 0!==e&&e;i()(this,t),c()(this,"callSubscribersLazy",void 0),this.callSubscribersLazy=n}return a()(t,[{key:"resolve",value:function(t){var e=t.action,n=t.callSubscribers,r=t.applyMutator,i=t.setAction;return e.event=Object(s.a)(),r(e),i(e),this.callSubscribersLazy&&!e.event.tagsSet||n(),e}}]),t}(),f=function(){function t(e){var n=e.actionResolver;i()(this,t),c()(this,"_actionResolver",void 0),this._actionResolver=n}return a()(t,[{key:"resolve",value:function(t){return this._actionResolver.resolve(t)}}]),t}()},function(t,e,n){var r=n(54),i=n(55),o=n(56);t.exports=function(t,e){return r(t)||i(t,e)||o()}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(1),i=n.n(r),o=n(2),a=n.n(o),u=n(0),c=n.n(u),s=function(){function t(){i()(this,t),c()(this,"_currentListeners",void 0),c()(this,"_nextListeners",void 0),c()(this,"_lastListenerOptions",void 0),c()(this,"_subscribersCalled",!1),this._currentListeners=[],this._nextListeners=this._currentListeners}return a()(t,[{key:"_separateNextListeners",value:function(){this._currentListeners===this._nextListeners&&(this._nextListeners=this._currentListeners.slice())}},{key:"subscribe",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._separateNextListeners();var n=!0;return this._nextListeners.push(t),e&&this._subscribersCalled&&t(this._lastListenerOptions),function(){if(n){n=!1,this._separateNextListeners();var e=this._nextListeners.indexOf(t);this._nextListeners.splice(e,1)}}}},{key:"callSubscribers",value:function(t){this._subscribersCalled=!0,this._lastListenerOptions=t,this._currentListeners=this._nextListeners;var e=!0,n=!1,r=void 0;try{for(var i,o=this._currentListeners[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){(0,i.value)(t)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}}]),t}()},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(46).Symbol;t.exports=r},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a});var r=function(t,e,n){return e===n},i=function(t){return o(t,{equalityCheck:r})},o=function(t,e){var n,r=e.selectCheck,i=e.equalityCheck,o=!0;return function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=o||a||!r||r(e,n);if(o=!1,!u)return{changed:!1,value:n};var c=t(e,n),s=!0;return i&&(s=!i(e,n,c)),{changed:s,value:n=c}}},a=function(t){var e=!1,n=Object.keys(t).reduce(function(n,r){var i=t[r];return n[r]=i.value,i.changed&&(e=!0),n},{});return{changed:e,value:n}}},function(t,e,n){"use strict";n.d(e,"e",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return d}),n.d(e,"a",function(){return h}),n.d(e,"c",function(){return v});var r=n(7),i=n.n(r),o=n(13),a=n(11),u=n(3),c=n(4),s=function(t,e,n){var r=t.meta.undoData=t.meta.undoData||{};return t.meta.do&&(r[e]=n),r[e]},l=function(t,e){return(t.meta.undoData=t.meta.undoData||{})[e]},f=function(t,e){t.meta=t.meta||{},t.meta.undoableCache=e},d=function(t){return Object(c.typeThunk)(function(e){var n=e.dispatch({type:"@@undo_"+t});n&&n.meta&&n.meta.undoableCache&&(e.dispatch({type:n.meta.undoableCache.type,payload:n.meta.undoableCache.payload,meta:n.meta.undoableCache.meta}),delete n.meta.undoableCache)})},h=function(t){return Object(c.typeThunk)(function(e){var n=e.dispatch({type:"@@redo_"+t});n&&n.meta&&n.meta.undoableCache&&(e.dispatch(n.meta.undoableCache),delete n.meta.undoableCache)})},v=function(t){var e=t.id,n=t.tags,r=void 0===n?{}:n,c=t.actionFilter;if(r.self&&(r.past||r.future)){var s=[];r.past&&s.push(r.past),r.future&&s.push(r.future),Object(u.d)(r.self,s)}return Object(a.b)(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{past:[],future:[]};if(t.type==="@@undo_"+e){if(0===n.past.length)return n;var a=n.past.pop();if(r.past&&Object(u.c)(t.event,r.past),!a)return console.log("this actually happens"),n;f(t,{type:a.type,payload:a.payload,meta:i()({},a.meta,{do:!1,redo:!1,undo:!0})}),n.future.push(a),r.future&&Object(u.c)(t.event,r.future)}else if(t.type==="@@redo_"+e){if(0===n.future.length)return n;var s=n.future.pop();if(r.future&&Object(u.c)(t.event,r.future),!s)return n;f(t,{type:s.type,payload:s.payload,meta:i()({},s.meta,{do:!0,redo:!0,undo:!1})}),n.past.push(s),r.past&&Object(u.c)(t.event,r.past)}else{if(t.type==o.b.INIT)return n;if(t.meta.undo||t.meta.redo)return n;if(c&&!c(t))return n;n.future=[],r.future&&Object(u.c)(t.event,r.future),n.past.push({type:t.type,payload:t.payload,meta:t.meta}),r.past&&Object(u.c)(t.event,r.past)}return n})}},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n(7),i=n.n(r),o=n(1),a=n.n(o),u=n(2),c=n.n(u),s=n(8),l=n.n(s),f=n(9),d=n.n(f),h=n(10),v=n.n(h),p=n(6),y=n(16),b=n(4),m=function(t){function e(){return a()(this,e),l()(this,d()(e).apply(this,arguments))}return v()(e,t),c()(e,[{key:"normalize",value:function(t){var e=t.action,n=t.store;if(!Object(y.b)(e)||e.type!==b.BATCH_ACTION_TYPE||e.meta.newBatch)return this._actionNormalizer.normalize(t);var r=e.payload.map(function(t){return Object(y.a)(t)});e.meta.undo&&r.reverse();var o={getState:n.getState,dispatch:function(t){return t.meta=t.meta||{},null!=e.meta.batchId&&(t.meta.rootBatchId=e.meta.rootBatchId,t.meta.parentBatchIds=e.meta.parentBatchIds),t.type!==b.BATCH_ACTION_TYPE||t.meta.batchItem||(t.meta=i()({},e.meta,t.meta)),n.dispatch(t)}};return Object(b.dispatchBatch)(o,function(t){var n=!0,i=!1,o=void 0;try{for(var a,u=r[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=a.value;e.meta.undo&&(c.meta.do=!c.meta.do,c.meta.undo=!c.meta.undo),e.meta.redo&&c.meta.do&&(c.meta.redo=!0),t.dispatch(c)}}catch(t){i=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}})}}]),e}(p.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(1),i=n.n(r),o=n(2),a=n.n(o),u=n(8),c=n.n(u),s=n(9),l=n.n(s),f=n(10),d=n.n(f),h=function(t){function e(){return i()(this,e),c()(this,l()(e).apply(this,arguments))}return d()(e,t),a()(e,[{key:"normalize",value:function(t){return t.action.meta.date=new Date,this._actionNormalizer.normalize(t)}}]),e}(n(6).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(7),i=n.n(r),o=n(1),a=n.n(o),u=n(2),c=n.n(u),s=n(8),l=n.n(s),f=n(9),d=n.n(f),h=n(10),v=n.n(h),p=function(t){function e(){return a()(this,e),l()(this,d()(e).apply(this,arguments))}return v()(e,t),c()(e,[{key:"normalize",value:function(t){return t.action.meta.undoData&&(t.action.meta.undoData=i()({},t.action.meta.undoData)),this._actionNormalizer.normalize(t)}}]),e}(n(6).a)},function(t,e){},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n(1),i=n.n(r),o=n(2),a=n.n(o),u=n(8),c=n.n(u),s=n(9),l=n.n(s),f=n(19),d=n.n(f),h=n(10),v=n.n(h),p=n(0),y=n.n(p),b=n(17),m=n(4),g=function(t){function e(){var t,n;i()(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=c()(this,(t=l()(e)).call.apply(t,[this].concat(o))),y()(d()(n),"_eventByBatchId",{}),y()(d()(n),"_childsByBatchId",{}),y()(d()(n),"_observableBatchIdByBatchId",{}),n}return v()(e,t),a()(e,[{key:"resolve",value:function(t){t.store,t.setAction;var e=t.applyMutator;if(!t.action.meta.batchItem&&t.action.type!==m.BATCH_ACTION_TYPE)return this._actionResolver.resolve(t);var n=t.action.meta.batchId,r=t.action.meta.rootBatchId;t.action.event=this._eventByBatchId[r]=this._eventByBatchId[r]||Object(m.createEvent)();var i=t.action;delete i.meta.batchId,delete i.meta.rootBatchId,delete i.meta.newBatch;var o=t.action.meta.parentBatchIds;if(delete i.meta.parentBatchIds,i.meta.batchItem&&i.type!==m.BATCH_ACTION_TYPE&&(null==this._observableBatchIdByBatchId[r]&&(this._observableBatchIdByBatchId[r]=Object(m.batchStart)()),Object(m.batchStart)(this._observableBatchIdByBatchId[r]),e(i),Object(m.batchEnd)(this._observableBatchIdByBatchId[r]),Object(m.batchPause)()),i.type===m.BATCH_ACTION_TYPE&&(i.payload=this._childsByBatchId[n],delete this._childsByBatchId[n]),i.meta.batchItem){if(i.type!==m.BATCH_ACTION_TYPE&&o){var a=!0,u=!1,c=void 0;try{for(var s,l=o[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=s.value;this._childsByBatchId[f]=this._childsByBatchId[f]||[],this._childsByBatchId[f].push(i)}}catch(t){u=!0,c=t}finally{try{a||null==l.return||l.return()}finally{if(u)throw c}}}return delete i.meta.batchItem,i}return delete this._eventByBatchId[n],null!=this._observableBatchIdByBatchId[r]&&Object(m.batchEnd)(this._observableBatchIdByBatchId[r]),this._actionResolver.resolve(t)}}]),e}(b.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n(5),i=function(t,e){if(e.payload)return t.dispatch(e)},o="@@batch",a=0,u=function(t,e){var n=a++,u={type:o,payload:[],meta:{pure:!0,batchId:n,rootBatchId:n,batch:!0,newBatch:!0}},c=e({getState:t.getState,dispatch:function(e){return e.meta=e.meta||{},null==e.meta.batchId&&(e.meta.batchId=u.meta.batchId),e.meta.rootBatchId=u.meta.batchId,e.meta.parentBatchIds=e.meta.parentBatchIds||[],e.meta.parentBatchIds.push(u.meta.batchId),e.meta.batchItem=!0,t.dispatch(e)}});return Object(r.c)(c)?c.then(function(){return i(t,u)}):i(t,u)}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n(5),i=function(t){return t},o=function(t,e){var n=[],i=e({getState:t.getState,dispatch:function(e){var r=t.dispatch(e);return r&&n.push(r),r}});return Object(r.c)(i)?i.then(function(){return n}):n}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){return e.then(function(e){return t.dispatch(e)})}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,s=t.dispatch(c);s&&n.push(s)}}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}},function(t,e){},function(t,e,n){"use strict";(function(t){Function("return this")();!function(n){function r(t){switch(typeof t){case"object":if(null==t)return t;var e=void 0;return t instanceof Date?((e=new Date).setTime(t.getTime()),e):t instanceof RegExp?e=a(t):(o(t,e=JSON.parse(JSON.stringify(t))),e);default:return t}}function i(t,e,n){var r=t[n];switch(typeof r){case"object":if(r instanceof Date){var i=new Date;i.setTime(r.getTime()),e[n]=i}else r instanceof RegExp?e[n]=a(r):null==r?e[n]=r:o(r,e[n]);break;case"number":isNaN(r)?e[n]=NaN:r==1/0&&(e[n]=1/0)}}function o(t,e){if(t instanceof Array)for(var n=0;n<t.length;n++)i(t,e,n);else Object.getOwnPropertyNames(t).forEach(function(n){i(t,e,n)})}function a(t){var e=String(t),n=e.lastIndexOf("/");return new RegExp(e.slice(1,n),e.slice(n+1))}t&&t.exports&&(e=t.exports=r),e.clone=r}()}).call(this,n(53)(t))},function(t,e,n){"use strict";n.r(e);var r=n(4);for(var i in r)["Devtools","default"].indexOf(i)<0&&function(t){n.d(e,t,function(){return r[t]})}(i);var o=n(62);n.d(e,"Devtools",function(){return o.a})},function(t,e,n){var r=n(23),i=n(49),o=n(50),a="[object Null]",u="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?u:a:c&&c in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(47),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(48))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(23),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[u]=n:delete t[u]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(52)(Object.getPrototypeOf,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){t.exports=n(69)},function(t,e,n){"use strict";function r(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function i(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){void 0===t&&(t=[""]),this.tokens=t}return t.fromJSON=function(e){var n=e.split("/").map(r);if(""!==n[0])throw new Error("Invalid JSON Pointer: "+e);return new t(n)},t.prototype.toString=function(){return this.tokens.map(i).join("/")},t.prototype.evaluate=function(t){for(var e=null,n="",r=t,i=1,o=this.tokens.length;i<o;i++)r=((e=r)||{})[n=this.tokens[i]];return{parent:e,key:n,value:r}},t.prototype.get=function(t){return this.evaluate(t).value},t.prototype.set=function(t,e){for(var n=t,r=1,i=this.tokens.length-1,o=this.tokens[r];r<i;r++)n=(n||{})[o];n&&(n[this.tokens[this.tokens.length-1]]=e)},t.prototype.push=function(t){this.tokens.push(t)},t.prototype.add=function(e){return new t(this.tokens.concat(String(e)))},t}();e.Pointer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.prototype.hasOwnProperty;function i(t){return void 0===t?"undefined":null===t?"null":Array.isArray(t)?"array":typeof t}function o(t,e){if(t===e)return!0;var n=i(t),a=i(e);return"array"==n&&"array"==a?function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(!o(t[r],e[r]))return!1;return!0}(t,e):"object"==n&&"object"==a&&function(t,e){var n=Object.keys(t),i=Object.keys(e),a=n.length;if(a!==i.length)return!1;for(var u=0;u<a;u++){var c=n[u];if(!r.call(e,c)||!o(t[c],e[c]))return!1}return!0}(t,e)}e.objectType=i,e.compare=o},function(t,e,n){"use strict";var r=n(63),i=n.n(r),o=n(1),a=n.n(o),u=n(2),c=n.n(u),s=n(0),l=n.n(s),f=n(59),d=n.n(f),h=n(18),v=n.n(h),p=n(64),y=n.n(p),b=n(13),m=n(5),g=n(11),_=0,w=function(){return _+++""},S=n(3),O="SET_ACTION",x=function(t,e,n){return{type:O,payload:{id:e,action:t,order:n},meta:{pure:!0}}},j=function(t,e){return{type:"TOGGLE_ACTION",payload:{id:t,toggle:e}}},I=Object(S.b)({name:"disabled"}),A=Object(S.b)({name:"action",children:[I]}),T=Object(S.b)({name:"actions",entityContainer:!0,children:[A]}),k=Object(g.b)(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.meta.do&&t.type==O){var n=t.payload.action,r=t.payload.id,i=e[r]||{id:r,disabled:!1,trackState:!1};i.order=t.payload.order,i.action=n,e[r]=i,Object(S.c)(t.event,A,r)}if(t.meta.do&&"TOGGLE_ACTION"==t.type){var o=t.payload.id;e[o]&&(e[o].disabled=t.payload.toggle,Object(S.c)(t.event,I,o))}return e}),E=n(4),N=(Object(S.b)({name:"root",children:[T]}),Object(g.a)({actions:k})),C=function(){function t(e){var n=this;a()(this,t),l()(this,"store",void 0),l()(this,"targetStore",void 0),l()(this,"unsubscribe",void 0),l()(this,"initialTargetState",void 0),l()(this,"replaying",!1),l()(this,"orderIdx",0),l()(this,"targetStoreListener",function(t){var e=t.getAction(),r=e.meta.tmp.timemachineActionId||w();n.store.dispatch(x(e,r,n.orderIdx)),n.orderIdx++}),this.targetStore=e,this.initialTargetState=Object(m.a)(e.getAction().payload),this.store=new b.a({mutator:N})}return c()(t,[{key:"replay",value:function(){var t=this;if(this.replaying)throw new Error("Timemachine already replaying");this.replaying=!0,this.orderIdx=0;var e=this.store.getState().actions,n=Object(m.a)(this.initialTargetState);Object(E.dispatchThunk)(this.targetStore,function(){var r=y()(d.a.mark(function r(i){var o,a,u,c,s,l;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:o=0,a=Object.entries(e);case 1:if(!(o<a.length)){r.next=14;break}if(u=v()(a[o],2),c=u[0],!(s=u[1]).disabled){r.next=5;break}return r.abrupt("continue",11);case 5:return(l=Object(E.cloneAction)(s.action)).meta.tmp.timemachineActionId=c,l.type==b.b.INIT&&(l.payload=n),i.dispatch(l),r.next=11,new Promise(function(t){setTimeout(function(){t(!0)},500)});case 11:o++,r.next=1;break;case 14:t.replaying=!1;case 15:case"end":return r.stop()}},r)}));return function(t){return r.apply(this,arguments)}}())}},{key:"getStore",value:function(){return this.store}},{key:"getInitialTargetState",value:function(){return this.initialTargetState}},{key:"enable",value:function(){this.unsubscribe=this.targetStore.subscribe(this.targetStoreListener,!0)}},{key:"disable",value:function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}}]),t}();function B(t,e){var n=function(t){for(var e=!1,n=!1,r="",i="",o="",a=0;a<t.length;a++){var u=t[a];"."===u?(n=!0,e=!1,o.length>0&&(o+=" ")):"#"===u?(e=!0,n=!1):e?i+=u:n?o+=u:r+=u}return{tag:r||"div",id:i,className:o}}(t),r=n.tag,i=n.id,o=n.className,a=e?document.createElementNS(e,r):document.createElement(r);return i&&(a.id=i),o&&(e?a.setAttribute("class",o):a.className=o),a}function P(t,e){var n=q(t),r=q(e);return e===r&&r.__redom_view&&(e=r.__redom_view),r.parentNode&&(D(e,r,n),n.removeChild(r)),e}function D(t,e,n){var r=e.__redom_lifecycle;if(L(r))e.__redom_mounted=!1;else{var i=n;for(e.__redom_mounted&&U(e,"onunmount");i;){var o=i.__redom_lifecycle||{};for(var a in r)o[a]&&(o[a]-=r[a]);L(o)&&(i.__redom_lifecycle=null),i=i.parentNode}}}function L(t){if(null==t)return!0;for(var e in t)if(t[e])return!1;return!0}var M=["onmount","onremount","onunmount"],z="undefined"!=typeof window&&"ShadowRoot"in window;function R(t,e,n,r){var i=q(t),o=q(e);e===o&&o.__redom_view&&(e=o.__redom_view),e!==o&&(o.__redom_view=e);var a=o.__redom_mounted,u=o.parentNode;return a&&u!==i&&D(0,o,u),null!=n?r?i.replaceChild(o,q(n)):i.insertBefore(o,q(n)):i.appendChild(o),function(t,e,n,r){for(var i=e.__redom_lifecycle||(e.__redom_lifecycle={}),o=n===r,a=!1,u=0,c=M;u<c.length;u+=1){var s=c[u];o||t!==e&&s in t&&(i[s]=(i[s]||0)+1),i[s]&&(a=!0)}if(!a)return void(e.__redom_mounted=!0);var l=n,f=!1;(o||l&&l.__redom_mounted)&&(U(e,o?"onremount":"onmount"),f=!0);for(;l;){var d=l.parentNode,h=l.__redom_lifecycle||(l.__redom_lifecycle={});for(var v in i)h[v]=(h[v]||0)+i[v];if(f)break;(l===document||z&&l instanceof window.ShadowRoot||d&&d.__redom_mounted)&&(U(l,o?"onremount":"onmount"),f=!0),l=d}}(e,o,i,u),e}function U(t,e){"onmount"===e||"onremount"===e?t.__redom_mounted=!0:"onunmount"===e&&(t.__redom_mounted=!1);var n=t.__redom_lifecycle;if(n){var r=t.__redom_view,i=0;for(var o in r&&r[e]&&r[e](),n)o&&i++;if(i)for(var a=t.firstChild;a;){var u=a.nextSibling;U(a,e),a=u}}}function G(t,e,n){t.style[e]=null==n?"":n}var F="http://www.w3.org/1999/xlink";function H(t,e,n,r){var i=q(t);if("object"==typeof e)for(var o in e)H(i,o,e[o],r);else{var a=i instanceof SVGElement,u="function"==typeof n;if("style"===e&&"object"==typeof n)!function(t,e,n){var r=q(t);if("object"==typeof e)for(var i in e)G(r,i,e[i]);else G(r,e,n)}(i,n);else if(a&&u)i[e]=n;else if("dataset"===e)!function t(e,n,r){if("object"==typeof n)for(var i in n)t(e,i,n[i]);else null!=r?e.dataset[n]=r:delete e.dataset[n]}(i,n);else if(!a&&(e in i||u)&&"list"!==e)i[e]=n;else{if(a&&"xlink"===e)return void function t(e,n,r){if("object"==typeof n)for(var i in n)t(e,i,n[i]);else null!=r?e.setAttributeNS(F,n,r):e.removeAttributeNS(F,n,r)}(i,n);r&&"class"===e&&(n=i.className+" "+n),null==n?i.removeAttribute(e):i.setAttribute(e,n)}}}function J(t){return document.createTextNode(null!=t?t:"")}function W(t,e,n){for(var r=0,i=e;r<i.length;r+=1){var o=i[r];if(0===o||o){var a=typeof o;"function"===a?o(t):"string"===a||"number"===a?t.appendChild(J(o)):Y(q(o))?R(t,o):o.length?W(t,o,n):"object"===a&&H(t,o,null,n)}}}function V(t){return"string"==typeof t?K(t):q(t)}function q(t){return t.nodeType&&t||!t.el&&t||q(t.el)}function Y(t){return t&&t.nodeType}var $={};function K(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var i=typeof t;if("string"===i)e=X(t).cloneNode(!1);else if(Y(t))e=t.cloneNode(!1);else{if("function"!==i)throw new Error("At least one argument required");var o=t;e=new(Function.prototype.bind.apply(o,[null].concat(n)))}return W(q(e),n,!0),e}var Q=K;function X(t){return $[t]||($[t]=B(t))}function Z(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=function t(e,n,r){var i=r;var o=new Array(n.length);for(var a=0;a<n.length;a++)o[a]=n[a]&&q(n[a]);for(var u=0;u<n.length;u++){var c=n[u];if(c){var s=o[u];if(s!==i)if(Y(s)){var l=i&&i.nextSibling,f=null!=c.__redom_index,d=f&&l===o[u+1];R(e,c,i,d),d&&(i=l)}else null!=c.length&&(i=t(e,c,i));else i=i.nextSibling}}return i}(t,e,q(t).firstChild);r;){var i=r.nextSibling;P(t,r),r=i}}K.extend=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=X(t);return K.bind.apply(K,[this,r].concat(e))};var tt=function(t,e,n){this.View=t,this.initData=n,this.oldLookup={},this.lookup={},this.oldViews=[],this.views=[],null!=e&&(this.key="function"==typeof e?e:function(t){return function(e){return e[t]}}(e))};function et(t,e,n,r){return new nt(t,e,n,r)}tt.prototype.update=function(t,e){for(var n=this.View,r=this.key,i=this.initData,o=null!=r,a=this.lookup,u={},c=new Array(t.length),s=this.views,l=0;l<t.length;l++){var f=t[l],d=void 0;if(o){var h=r(f);d=a[h]||new n(i,f,l,t),u[h]=d,d.__redom_id=h}else d=s[l]||new n(i,f,l,t);d.update&&d.update(f,l,t,e),q(d.el).__redom_view=d,c[l]=d}this.oldViews=s,this.views=c,this.oldLookup=a,this.lookup=u};var nt=function(t,e,n,r){this.__redom_list=!0,this.View=e,this.initData=r,this.views=[],this.pool=new tt(e,n,r),this.el=V(t),this.keySet=null!=n};nt.prototype.update=function(t,e){void 0===t&&(t=[]);var n=this.keySet,r=this.views;this.pool.update(t,e);var i=this.pool,o=i.views,a=i.lookup;if(n)for(var u=0;u<r.length;u++){var c=r[u];null==a[c.__redom_id]&&(c.__redom_index=null,P(this,c))}for(var s=0;s<o.length;s++){o[s].__redom_index=s}Z(this,o),n&&(this.lookup=a),this.views=o},nt.extend=function(t,e,n,r){return nt.bind(nt,t,e,n,r)},et.extend=nt.extend;var rt=function(t,e){this.el=J(""),this.visible=!1,this.view=null,this._placeholder=this.el,t instanceof Node?this._el=t:t.el instanceof Node?(this._el=t,this.view=t):this._View=t,this._initData=e};rt.prototype.update=function(t,e){var n=this._placeholder,r=this.el.parentNode;if(t){if(!this.visible)if(this._el)R(r,this._el,n),P(r,n),this.el=q(this._el),this.visible=t;else{var i=new(0,this._View)(this._initData);this.el=q(i),this.view=i,R(r,i,n),P(r,n)}this.view&&this.view.update&&this.view.update(e)}else if(this.visible){if(this._el)return R(r,n,this._el),P(r,this._el),this.el=n,void(this.visible=t);R(r,n,this.view),P(r,this.view),this.el=n,this.view=null}this.visible=t};var it=function(t,e,n){this.el=V(t),this.Views=e,this.initData=n};it.prototype.update=function(t,e){if(t!==this.route){var n=this.Views[t];this.route=t,n instanceof Node||n.el instanceof Node?this.view=n:this.view=n&&new n(this.initData,e),Z(this.el,[this.view])}this.view&&this.view.update&&this.view.update(e,t)};var ot="http://www.w3.org/2000/svg",at={};function ut(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var i=typeof t;if("string"===i)e=ct(t).cloneNode(!1);else if(Y(t))e=t.cloneNode(!1);else{if("function"!==i)throw new Error("At least one argument required");var o=t;e=new(Function.prototype.bind.apply(o,[null].concat(n)))}return W(q(e),n,!0),e}function ct(t){return at[t]||(at[t]=B(t,ot))}ut.extend=function(t){var e=ct(t);return ut.bind(this,e)},ut.ns=ot;var st,lt=n(15),ft=Object(S.b)(),dt=Object(S.b)(),ht=Object(S.b)(),vt=(Object(S.b)({children:[ht,ft,dt]}),Object(g.b)(function(t,e){return e||(e={height:"50vh",actionDetailsTab:"action",selectedActionId:null,actions:{}}),t.type===pt&&e.actionDetailsTab!==t.payload&&(e.actionDetailsTab=t.payload,Object(S.c)(t.event,ht)),"SET_HEIGHT"===t.type&&e.height!==t.payload&&(e.height=t.payload,Object(S.c)(t.event,ft)),t.type===bt&&(e.actions[t.payload.id]=e.actions[t.payload.id]||{},e.actions[t.payload.id].state=t.payload.state,e.actions[t.payload.id].statePatch=t.payload.statePatch),"SET_SELECTED_ACTION_ID"===t.type&&e.selectedActionId!==t.payload&&(e.selectedActionId=t.payload,Object(S.c)(t.event,dt)),e})),pt="SET_ACTION_DETAILS_TAB",yt=function(t){return{type:pt,payload:t}},bt="SET_ACTION",mt=function(t,e,n){return{type:bt,payload:{id:t,state:e,statePatch:n},meta:{pure:!0}}},gt=function(t){return{type:"SET_HEIGHT",payload:t}},_t=function(t){return{type:"SET_SELECTED_ACTION_ID",payload:t}},wt=Object(lt.createBlueprint)({create:function(){return new b.a({mutator:vt})},meta:{singleton:!0}}),St=Object(lt.createBlueprint)({create:function(t){var e=t.ioc;return function(t){var n=e.get({blueprint:wt}),r=e.get({blueprint:Qt});return new Ot({store:n,onSelectAction:t,timemachine:r})}}}),Ot=function(){function t(e){var n=this,r=e.store,i=e.timemachine,o=e.onSelectAction;a()(this,t),l()(this,"id",void 0),l()(this,"el",void 0),l()(this,"view",{}),l()(this,"onSelectAction",void 0),l()(this,"store",void 0),l()(this,"timemachine",void 0),l()(this,"firstUpdate",void 0),this.timemachine=i,this.store=r,this.store.subscribe(function(){n.update(n.timemachine.getStore().getState().actions[n.id])}),this.el=Q("div",{style:{padding:"5px","border-bottom":"1px solid #666"}},[this.view.flexWrapperEl=Q("div",{style:{display:"flex"}},[Q("div",this.view.disabledInputEl=Q("input",{type:"checkbox",onchange:function(t){i.getStore().dispatch(j(n.id,!t.currentTarget.checked))}})),Q("a",{href:"#!",onclick:function(t){o&&o(t,n.id)},style:{color:"#ddd",flex:1,outline:"none"}},[this.view.titleEl=Q("h3",{style:{"font-size":"0.9rem",margin:0,"margin-bottom":"3px"}},""),this.view.batchItemTypes=Q("span",{style:{"font-size":"0.7rem"}})]),this.view.dateTimeEl=Q("div")])])}return c()(t,[{key:"update",value:function(t){this.id||(this.id=t.id);var e=this.store.getState();if((this.firstUpdate||Object(E.tagIsSet)(this.store.getAction(),dt))&&(this.id===e.selectedActionId?(this.el.style.backgroundColor="#292929",this.el.style.borderLeft="2px solid #bbb"):(this.el.style.backgroundColor="",this.el.style.borderLeft="")),this.firstUpdate||Object(E.tagIsSet)(this.timemachine.getStore().getAction(),A,this.id)){this.view.titleEl.textContent=t.action.type;var n=t.action;if(n.type===b.b.INIT&&(this.view.disabledInputEl.style.opacity="0"),n.meta.date){var r=n.meta.date,i=(r.getHours()+"").padStart(2,"0"),o=(r.getMinutes()+"").padStart(2,"0"),a=(r.getSeconds()+"").padStart(2,"0"),u=(r.getMilliseconds()+"").padStart(3,"0");this.view.dateTimeEl.textContent="".concat(i,":").concat(o,":").concat(a,".").concat(u)}this.view.disabledInputEl.checked=!t.disabled,this.view.flexWrapperEl.style.opacity=t.disabled?"0.5":"1",n.type===E.BATCH_ACTION_TYPE&&(this.view.batchItemTypes.textContent="( ".concat(n.payload.map(function(t){return t.type}).join(" , ")," )")),this.firstUpdate=!1}}}]),t}(),xt=Object(lt.createBlueprint)({create:function(t){var e=t.ioc;return new jt({store:e.get({blueprint:wt}),timemachine:e.get({blueprint:Qt}),createItem:e.get({blueprint:St})})}}),jt=function(){function t(e){var n=this,r=e.store,i=e.timemachine,o=e.createItem;a()(this,t),l()(this,"el",void 0),l()(this,"view",void 0),l()(this,"actionCountCache",0),l()(this,"store",void 0),l()(this,"timemachine",void 0),this.store=r,this.timemachine=i;var u={},c=function(t,e){n.store.dispatch(_t(e))};this.el=Q("div",{style:{height:"100%","overflow-y":"auto"}},[u.list=et("ul",function(){return o(c)},"id")]),this.view=u,this.view.list.el.style.margin="0",this.view.list.el.style.padding="0"}return c()(t,[{key:"update",value:function(){var t=this.timemachine.getStore().getState(),e=Object.values(t.actions).sort(function(t,e){return t.order-e.order});this.view.list.update(e);var n=e.length;this.actionCountCache!=n&&(this.el.scrollTop=this.el.scrollHeight),this.actionCountCache=n}}]),t}(),It=n(21),At=n.n(It),Tt=n(14),kt=n.n(Tt),Et=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a()(this,t),l()(this,"el",Q("div",{style:{"font-family":'"Courier New", Courier, monospace',padding:"0px"}})),l()(this,"type","primitive"),l()(this,"value",void 0),l()(this,"showItemDefault",void 0),this.showItemDefault=n,this.value=e,this.init()}return c()(t,[{key:"init",value:function(){var e=this,n=this.value,r=kt()(n),i=!r&&At()(n);if(r||i){this.type=i?"array":"object";var o=et("table",function(n,r){var i,o=v()(r,2),a=o[0],u=o[1],c=function(t){var e=kt()(t),n=!e&&At()(t);return!e&&!n}(u),s=c?"".concat(a,":"):a;if(c)i=Q("tr",[Q("td",{style:{color:"#77bbee",padding:"3px 3px 3px 21px","margin-right":"3px"}},s),Q("td",new t(u))]);else{var l,f=e.showItemDefault,d=function(){h.textContent="".concat(f?"v ":"> ").concat(s),Z(l,f?new t(u):null)},h=Q("a",{style:{outline:"none"},href:"#!",onclick:function(){f=!f,d()}},"> "+s);h.style.color="#77bbee",h.style.textDecoration="none",i=Q("tr",[Q("td",{style:{"vertical-align":"top"}},h),l=Q("td",{style:{"padding-left":"4px"}})]),d()}return i.style.padding="3px 0",{el:i}}),a=Object.entries(n).length;o.update(Object.entries(n)),o.el.style["padding-left"]="8px",o.el.style["border-left"]="1px solid #333";var u={color:"#799"},c=a>0?"len="+n.length:"",s="array"===this.type?"[ "+c:"{",l="array"===this.type?"]":"}";return 0===a?void Z(this.el,[Q("div",{style:u},s+" "+l)]):void Z(this.el,[Q("div",{style:u},s),o,Q("div",{style:u},l)])}this.el.style["border-radius"]="3px",this.el.style.padding="3px",this.el.style["background-color"]="#28332b",this.el.style.color="white",this.el.style.float="left",this.el.textContent=null!==n?void 0!==n?JSON.stringify(n,null,"  "):"undefined":"null"}}]),t}(),Nt=function(){function t(e){var n=this,r=e.store,i=e.component,o=e.filterUpdate,u=e.id;a()(this,t),l()(this,"el",void 0),l()(this,"_mounted",!1),l()(this,"_component",void 0),l()(this,"_subscription",void 0),l()(this,"_store",void 0),l()(this,"_id",void 0),l()(this,"_filterUpdate",void 0),l()(this,"_storeListener",function(t){if(n._component.update){var e={connectId:n._id,mounted:n._mounted,action:t.getAction()};n._filterUpdate&&!n._filterUpdate(e)||requestAnimationFrame(function(){n._component.update(e)})}}),this._store=r,this._id=u,this._filterUpdate=o,this._component=i,this.el=i.el}return c()(t,[{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._component.update&&this._component.update(t)}},{key:"onmount",value:function(){this._mounted=!0,this._subscription=this._store.subscribe(this._storeListener,!0),this._mounted=!1,this._component.onmount&&this._component.onmount()}},{key:"onremount",value:function(){this._component.onremount&&this._component.onremount()}},{key:"onunmount",value:function(){this._subscription&&(this._subscription(),this._subscription=void 0),this._component.onunmount&&this._component.onunmount()}},{key:"getChild",value:function(){return this._component}}]),t}(),Ct=n(44),Bt=Object(lt.createBlueprint)({create:function(t){var e=t.ioc,n=e.get({blueprint:wt}),r=e.get({blueprint:Qt}),i=new Nt({id:"devtools",store:n,component:new zt({store:n,timemachine:r})});return new Nt({id:"timemachine",store:r.getStore(),component:i})},meta:{singleton:!0}}),Pt=function(){function t(){a()(this,t),l()(this,"el",Q("div")),l()(this,"jsonBox",new Mt)}return c()(t,[{key:"update",value:function(t){var e=t.action;null!=e.value&&(this.jsonBox.update(e.value.timemachine.action),Z(this.el,[this.jsonBox,new Et(e.value.timemachine.action,!0)]))}}]),t}(),Dt=function(){function t(){a()(this,t),l()(this,"el",Q("div")),l()(this,"jsonBox",new Mt)}return c()(t,[{key:"update",value:function(t){var e=t.action;if(null!=e.value){var n="Too much data for an rfc6902 diff";try{n=e.value.store.statePatch()}catch(t){}this.jsonBox.update(n),Z(this.el,[this.jsonBox,new Et(n,!0)])}}}]),t}(),Lt=function(){function t(){a()(this,t),l()(this,"el",Q("div")),l()(this,"jsonBox",new Mt)}return c()(t,[{key:"update",value:function(t){var e=t.action;null!=e.value&&(this.jsonBox.update(e.value.store.state),Z(this.el,[this.jsonBox,new Et(e.value.store.state)]))}}]),t}(),Mt=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Show json";a()(this,t),l()(this,"el",Q("div")),l()(this,"show",!1),l()(this,"view",{}),this.el=Q("div",[this.view.toggle=Q("a",{href:"#!",style:{color:"inherit"},onclick:function(){e.show=!e.show,e.updateShow()}},n),this.view.preWrap=Q("div",{style:{border:"1px solid gray",padding:"3px",margin:"6px"}},this.view.pre=Q("pre",{style:{"font-size":"0.7rem","font-family":'"Courier New", Courier, monospace'}}))]),this.updateShow()}return c()(t,[{key:"update",value:function(t){this.show?this.view.pre.textContent=JSON.stringify(t,null,"  "):this.view.pre.textContent=""}},{key:"updateShow",value:function(){this.view.preWrap.style.display=this.show?"block":"none"}}]),t}(),zt=function(){function t(e){var n,r,i=this,o=e.store,u=e.timemachine;a()(this,t),l()(this,"el",void 0),l()(this,"view",{}),l()(this,"viewer",void 0),l()(this,"router",void 0),l()(this,"store",void 0),l()(this,"timemachine",void 0),l()(this,"$actionId",Object(Ct.createPrimitiveSelector)(function(t){return t.selectedActionId})),l()(this,"$tab",Object(Ct.createPrimitiveSelector)(function(t){return t.actionDetailsTab})),l()(this,"$action",Object(Ct.createSelector)(function(t){t.action;var e=t.actionId,n=t.timemachine,r=t.state;return null==e.value?null:{timemachine:n.actions[e.value],store:r.actions[e.value]}},{selectCheck:function(t){var e=t.actionId,n=t.action;return e.changed||null!=e.value&&Object(S.f)(n,A,e.value)}})),this.store=o,this.timemachine=u,this.el=Q("div",{style:{padding:"5px"}},[Q("div",[Q("button",{onclick:function(){i.store.dispatch(yt("action"))}},"Action"),Q("button",{onclick:function(){i.store.dispatch(yt("patch"))}},"Patch"),Q("button",{onclick:function(){i.store.dispatch(yt("state"))}},"State")]),this.view.routerWrap=Q("div")]),this.router=(n=this.view.routerWrap,new it(n,{none:function(){return{el:J("No action selected")}},action:Pt,patch:Dt,state:Lt},r))}return c()(t,[{key:"update",value:function(t){t.connectId;var e=t.action,n=t.mounted,r=this.store.getState(),i=this.timemachine.getStore().getState(),o=this.$actionId(r),a=this.$action({action:e,state:r,actionId:o,timemachine:i},n),u=this.$tab(r);null!=o.value?(a.changed||u.changed||o.changed)&&this.router.update(u.value,{action:a}):o.changed&&this.router.update("none")}}]),t}(),Rt=n(65),Ut=n(8),Gt=n.n(Ut),Ft=n(9),Ht=n.n(Ft),Jt=n(19),Wt=n.n(Jt),Vt=n(10),qt=n.n(Vt),Yt=function(t){function e(t){var n;return a()(this,e),n=Gt()(this,Ht()(e).call(this,t)),l()(Wt()(n),"globals",void 0),n.globals=t.globals,n}return qt()(e,t),c()(e,[{key:"create",value:function(t){return t.create.globals=this.globals,this.entityCreator.create(t)}}]),e}(lt.AbstractEntityCreatorDecorator),$t=function(t){var e=t.targetStore,n=new lt.EntityCreator;return n=new lt.SingletonEntityCreatorDecorator({entityCreator:n}),n=new Yt({globals:{targetStore:e},entityCreator:n}),new lt.Ioc({entityCreator:n})},Kt=Object(lt.createBlueprint)({create:(st="targetStore",function(t){return t.globals[st]})});n.d(e,"b",function(){return Qt}),n.d(e,"a",function(){return Xt});var Qt=Object(lt.createBlueprint)({create:function(t){var e=t.ioc;return new C(e.get({blueprint:Kt}))},meta:{singleton:!0}}),Xt=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a()(this,t),l()(this,"el",void 0),l()(this,"view",void 0),l()(this,"store",void 0),l()(this,"timemachine",void 0);var u=$t({targetStore:e});this.store=u.get({blueprint:wt}),this.timemachine=u.get({blueprint:Qt});var c={},s={"font-family":"Arial, Helvetica, sans-serif",color:"silver",bottom:0,left:0,"background-color":"#222","border-top":"1px solid #777",display:"flex","flex-direction":"column",width:"100%","max-height":"100%","min-height":"100px"};o||(s.position="fixed"),this.el=Q("div",{style:s},[Q("div",{style:{padding:"5px","border-bottom":"2px solid #333"}},[c.heightEl=Q("input",{onchange:function(t){t.currentTarget&&n.store.dispatch(gt(t.currentTarget.value))}}),Q("button",{onclick:function(){n.timemachine.replay()}},"Replay")]),Q("div",{style:{flex:1,"min-height":0,display:"flex"}},[Q("div",{style:{flex:1,"border-right":"2px solid #333"}},c.actionList=u.get({blueprint:xt})),Q("div",{style:{flex:3,"overflow-y":"auto"}},u.get({blueprint:Bt}))])]),this.view=c;var f=document.querySelector(r);f&&(Z(f,[].concat(i()(Array.prototype.values.call(f.childNodes)),[this])),this.update(),this.timemachine.getStore().subscribe(function(){requestAnimationFrame(function(){n.update()})}),this.store.subscribe(function(){requestAnimationFrame(function(){n.update()})},!0));var d=this.timemachine.getInitialTargetState();this.timemachine.getStore().subscribe(function(t){var r=t.getAction();if(r.type===O){var i,o,a=Object(m.a)(e.getState()),u=(i=d,o=a,function(){return Object(Rt.createPatch)(i,o)});d=a,n.store.dispatch(mt(r.payload.id,d,u))}},!0)}return c()(t,[{key:"enable",value:function(){this.timemachine.enable()}},{key:"update",value:function(){this.view.actionList.update();var t=this.store.getState();Object(S.f)(this.store.getAction().event,ft)&&(document.body.style["padding-bottom"]=t.height,this.view.heightEl.value=t.height,this.el.style.height=t.height)}}]),t}()},function(t,e,n){var r=n(66),i=n(67),o=n(68);t.exports=function(t){return r(t)||i(t)||o()}},function(t,e){function n(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(i,o){var a=t.apply(e,r);function u(t){n(a,i,o,u,c,"next",t)}function c(t){n(a,i,o,u,c,"throw",t)}u(void 0)})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(60),i=n(70),o=n(72);function a(t,e){var n=r.Pointer.fromJSON(e).evaluate(t);if(void 0!==n)return{op:"test",path:e,value:n.value}}e.applyPatch=function(t,e){return e.map(function(e){return i.apply(t,e)})},e.createPatch=function(t,e,n){var i=new r.Pointer;return(n?function(t){return function e(n,r,i){var a=t(n,r,i);return Array.isArray(a)?a:o.diffAny(n,r,i,e)}}(n):o.diffAny)(t,e,i)},e.createTests=function(t,e){var n=new Array;return e.filter(o.isDestructive).forEach(function(e){var r=a(t,e.path);if(r&&n.push(r),"from"in e){var i=a(t,e.from);i&&n.push(i)}}),n}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,n,r){var i=e&&e.prototype instanceof p?e:p,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(t,e,n){var r=l;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return k()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=x(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=s(t,e,n);if("normal"===c.type){if(r=n.done?h:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",f="suspendedYield",d="executing",h="completed",v={};function p(){}function y(){}function b(){}var m={};m[o]=function(){return this};var g=Object.getPrototypeOf,_=g&&g(g(T([])));_&&_!==n&&r.call(_,o)&&(m=_);var w=b.prototype=p.prototype=Object.create(m);function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function O(t){var e;this._invoke=function(n,i){function o(){return new Promise(function(e,o){!function e(n,i,o,a){var u=s(t[n],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(l).then(function(t){c.value=t,o(c)},function(t){return e("throw",t,o,a)})}a(u.arg)}(n,i,e,o)})}return e=e?e.then(o,o):o()}}function x(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=s(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function T(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:k}}function k(){return{value:e,done:!0}}return y.prototype=w.constructor=b,b.constructor=y,b[u]=y.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},S(O.prototype),O.prototype[a]=function(){return this},t.AsyncIterator=O,t.async=function(e,n,r,i){var o=new O(c(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},S(w),w[u]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(60),a=n(71),u=n(61),c=function(t){function e(e){var n=t.call(this,"Value required at path: "+e)||this;return n.path=e,n.name="MissingError",n}return i(e,t),e}(Error);e.MissingError=c;var s=function(t){function e(e,n){var r=t.call(this,"Test failed: "+e+" != "+n)||this;return r.actual=e,r.expected=n,r.name="TestError",r.actual=e,r.expected=n,r}return i(e,t),e}(Error);function l(t,e,n){if(Array.isArray(t))if("-"==e)t.push(n);else{var r=parseInt(e,10);t.splice(r,0,n)}else t[e]=n}function f(t,e){if(Array.isArray(t)){var n=parseInt(e,10);t.splice(n,1)}else delete t[e]}function d(t,e){var n=o.Pointer.fromJSON(e.path).evaluate(t);return void 0===n.parent?new c(e.path):(l(n.parent,n.key,a.clone(e.value)),null)}function h(t,e){var n=o.Pointer.fromJSON(e.path).evaluate(t);return void 0===n.value?new c(e.path):(f(n.parent,n.key),null)}function v(t,e){var n=o.Pointer.fromJSON(e.path).evaluate(t);if(null===n.parent)return new c(e.path);if(Array.isArray(n.parent)){if(parseInt(n.key,10)>=n.parent.length)return new c(e.path)}else if(void 0===n.value)return new c(e.path);return n.parent[n.key]=e.value,null}function p(t,e){var n=o.Pointer.fromJSON(e.from).evaluate(t);if(void 0===n.value)return new c(e.from);var r=o.Pointer.fromJSON(e.path).evaluate(t);return void 0===r.parent?new c(e.path):(f(n.parent,n.key),l(r.parent,r.key,n.value),null)}function y(t,e){var n=o.Pointer.fromJSON(e.from).evaluate(t);if(void 0===n.value)return new c(e.from);var r=o.Pointer.fromJSON(e.path).evaluate(t);return void 0===r.parent?new c(e.path):(l(r.parent,r.key,a.clone(n.value)),null)}function b(t,e){var n=o.Pointer.fromJSON(e.path).evaluate(t);return u.compare(n.value,e.value)?null:new s(n.value,e.value)}e.TestError=s,e.add=d,e.remove=h,e.replace=v,e.move=p,e.copy=y,e.test=b;var m=function(t){function e(e){var n=t.call(this,"Invalid operation: "+e.op)||this;return n.operation=e,n.name="InvalidOperationError",n}return i(e,t),e}(Error);e.InvalidOperationError=m,e.apply=function(t,e){switch(e.op){case"add":return d(t,e);case"remove":return h(t,e);case"replace":return v(t,e);case"move":return p(t,e);case"copy":return y(t,e);case"test":return b(t,e)}return new m(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.prototype.hasOwnProperty;e.clone=function t(e){if(null==e||"object"!=typeof e)return e;if(e.constructor==Array){for(var n=e.length,i=new Array(n),o=0;o<n;o++)i[o]=t(e[o]);return i}var a={};for(var u in e)r.call(e,u)&&(a[u]=t(e[u]));return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(61),i=Object.prototype.hasOwnProperty;function o(t,e){var n={};for(var r in t)i.call(t,r)&&void 0!==t[r]&&(n[r]=1);for(var o in e)i.call(e,o)&&void 0!==e[o]&&delete n[o];return Object.keys(n)}function a(t){for(var e=t.length,n={},r=0;r<e;r++){var o=t[r];for(var a in o)i.call(o,a)&&void 0!==o[a]&&(n[a]=(n[a]||0)+1)}for(var a in n)n[a]<e&&delete n[a];return Object.keys(n)}function u(t,e){return{operations:t.operations.concat(e),cost:t.cost+1}}function c(t,e,n,i){void 0===i&&(i=f);var o={"0,0":{operations:[],cost:0}};var a=isNaN(t.length)||t.length<=0?0:t.length,c=isNaN(e.length)||e.length<=0?0:e.length;return function n(i,a){var c=i+","+a,s=o[c];if(void 0===s){if(i>0&&a>0&&r.compare(t[i-1],e[a-1]))s=n(i-1,a-1);else{var l=[];if(i>0){var f=n(i-1,a),d={op:"remove",index:i-1};l.push(u(f,d))}if(a>0){var h=n(i,a-1),v={op:"add",index:i-1,value:e[a-1]};l.push(u(h,v))}if(i>0&&a>0){var p=n(i-1,a-1),y={op:"replace",index:i-1,original:t[i-1],value:e[a-1]};l.push(u(p,y))}s=l.sort(function(t,e){return t.cost-e.cost})[0]}o[c]=s}return s}(a,c).operations.reduce(function(t,e){var r=t[0],o=t[1];if(function(t){return"add"===t.op}(e)){var u=e.index+1+o,c=u<a+o?String(u):"-",s={op:e.op,path:n.add(c).toString(),value:e.value};return[r.concat(s),o+1]}if(function(t){return"remove"===t.op}(e)){s={op:e.op,path:n.add(String(e.index+o)).toString()};return[r.concat(s),o-1]}var l=n.add(String(e.index+o)),f=i(e.original,e.value,l);return[r.concat.apply(r,f),o]},[[],0])[0]}function s(t,e,n,r){void 0===r&&(r=f);var i=[];return o(t,e).forEach(function(t){i.push({op:"remove",path:n.add(t).toString()})}),o(e,t).forEach(function(t){i.push({op:"add",path:n.add(t).toString(),value:e[t]})}),a([t,e]).forEach(function(o){i.push.apply(i,r(t[o],e[o],n.add(o)))}),i}function l(t,e,n){return r.compare(t,e)?[]:[{op:"replace",path:n.toString(),value:e}]}function f(t,e,n,i){void 0===i&&(i=f);var o=r.objectType(t),a=r.objectType(e);return"array"==o&&"array"==a?c(t,e,n,i):"object"==o&&"object"==a?s(t,e,n,i):l(t,e,n)}e.isDestructive=function(t){var e=t.op;return"remove"===e||"replace"===e||"copy"===e||"move"===e},e.subtract=o,e.intersection=a,e.diffArrays=c,e.diffObjects=s,e.diffValues=l,e.diffAny=f}])});
//# sourceMappingURL=dev.js.map