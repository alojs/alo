/*! For license information please see redom.js.LICENSE.txt */
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.redom=n():(t.alo=t.alo||{},t.alo.redom=n())}("undefined"!=typeof self?self:this,(function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s="skXF")}({"7W2i":function(t,n,e){var r=e("SksO");t.exports=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&r(t,n)}},AP2z:function(t,n,e){var r=e("nmnc"),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,c=r?r.toStringTag:void 0;t.exports=function(t){var n=i.call(t,c),e=t[c];try{t[c]=void 0;var r=!0}catch(t){}var o=u.call(t);return r&&(n?t[c]=e:delete t[c]),o}},ExA7:function(t,n){t.exports=function(t){return null!=t&&"object"==typeof t}},KfNM:function(t,n){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},Kz5y:function(t,n,e){var r=e("WFqU"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},LcsW:function(t,n,e){var r=e("kekF")(Object.getPrototypeOf,Object);t.exports=r},Nsbk:function(t,n){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e},NykK:function(t,n,e){var r=e("nmnc"),o=e("AP2z"),i=e("KfNM"),u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":u&&u in Object(t)?o(t):i(t)}},"P+Ts":function(t,n,e){"use strict";e.d(n,"d",(function(){return m})),e.d(n,"b",(function(){return O})),e.d(n,"c",(function(){return j})),e.d(n,"a",(function(){return g}));var r,o=e("a1gu"),i=e.n(o),u=e("Nsbk"),c=e.n(u),s=e("PJYZ"),a=e.n(s),f=e("7W2i"),l=e.n(f),p=e("lwsE"),v=e.n(p),d=e("W8MJ"),b=e.n(d),h=e("lSNA"),y=e.n(h),_=e("hF9h"),m=function(t){r=t},O=function(){function t(){var n=this;v()(this,t),y()(this,"_subscriptions",{}),y()(this,"_observeFunctions",[]),y()(this,"_mounted",!1),y()(this,"_started",!1),y()(this,"_startSubscription",(function(t,e){n._subscriptions[e]=r.observe(t)}))}return b()(t,[{key:"observe",value:function(t){var n=this,e=this._observeFunctions.push(t)-1;return this._mounted&&this._startSubscription(t,e),function(){n._observeFunctions.splice(e,1),n._subscriptions[e]&&(Object(_.p)(n._subscriptions[e]),delete n._subscriptions[e])}}},{key:"startSubscriptions",value:function(){this._started&&this.clearSubscriptions(),this._started=!0,this._observeFunctions.forEach(this._startSubscription)}},{key:"clearSubscriptions",value:function(){for(var t=0,n=Object.values(this._subscriptions);t<n.length;t++){var e=n[t];e&&Object(_.p)(e)}this._started=!1,this._subscriptions={}}},{key:"onmount",value:function(){this._mounted=!0,this.startSubscriptions()}},{key:"onunmount",value:function(){this._mounted=!1,this.clearSubscriptions()}}]),t}(),j=function(t){function n(t){var e;return v()(this,n),e=i()(this,c()(n).call(this)),y()(a()(e),"state",r.observable({index:null,item:null,items:null,context:null,initData:null})),y()(a()(e),"init",!0),e.state.initData=t,e}return l()(n,t),b()(n,[{key:"update",value:function(t,n,e,o){var i=r.batchStart();this.state.item=t,this.state.index=n,this.state.items=e,this.state.context=o,r.batchEnd(i),this.init&&this.oninit&&this.oninit(),this.init=!1}}]),n}(O),g=function(){function t(n){var e=this,r=n.store,o=n.component,i=n.filterUpdate,u=n.id;v()(this,t),y()(this,"el",void 0),y()(this,"_mounted",!1),y()(this,"_component",void 0),y()(this,"_subscription",void 0),y()(this,"_store",void 0),y()(this,"_id",void 0),y()(this,"_filterUpdate",void 0),y()(this,"_storeListener",(function(t){if(e._component.update){var n={connectId:e._id,mounted:e._mounted,action:t.getAction()};e._filterUpdate&&!e._filterUpdate(n)||requestAnimationFrame((function(){e._component.update(n)}))}})),this._store=r,this._id=u,this._filterUpdate=i,this._component=o,this.el=o.el}return b()(t,[{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._component.update&&this._component.update(t)}},{key:"onmount",value:function(){this._mounted=!0,this._subscription=this._store.subscribe(this._storeListener,!0),this._mounted=!1,this._component.onmount&&this._component.onmount()}},{key:"onremount",value:function(){this._component.onremount&&this._component.onremount()}},{key:"onunmount",value:function(){this._subscription&&(this._subscription(),this._subscription=void 0),this._component.onunmount&&this._component.onunmount()}},{key:"getChild",value:function(){return this._component}}]),t}()},PJYZ:function(t,n){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},SksO:function(t,n){function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},e(n,r)}t.exports=e},W8MJ:function(t,n){function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}},WFqU:function(t,n,e){(function(n){var e="object"==typeof n&&n&&n.Object===Object&&n;t.exports=e}).call(this,e("yLpj"))},YO3V:function(t,n,e){var r=e("NykK"),o=e("LcsW"),i=e("ExA7"),u=Function.prototype,c=Object.prototype,s=u.toString,a=c.hasOwnProperty,f=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var n=o(t);if(null===n)return!0;var e=a.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&s.call(e)==f}},a1gu:function(t,n,e){var r=e("cDf5"),o=e("PJYZ");t.exports=function(t,n){return!n||"object"!==r(n)&&"function"!=typeof n?o(t):n}},cDf5:function(t,n){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e},hF9h:function(t,n,e){"use strict";e.d(n,"g",(function(){return v})),e.d(n,"m",(function(){return d})),e.d(n,"l",(function(){return b})),e.d(n,"k",(function(){return h})),e.d(n,"p",(function(){return O})),e.d(n,"j",(function(){return j})),e.d(n,"n",(function(){return g})),e.d(n,"f",(function(){return x})),e.d(n,"o",(function(){return I})),e.d(n,"i",(function(){return A})),e.d(n,"h",(function(){return N})),e.d(n,"a",(function(){return U})),e.d(n,"c",(function(){return W})),e.d(n,"b",(function(){return L})),e.d(n,"d",(function(){return K})),e.d(n,"e",(function(){return C}));var r=e("cDf5"),o=e.n(r),i=e("YO3V"),u=e.n(i),c=0,s=function(){return"".concat(c++)},a="__observableParent",f="__observableId",l={},p={},v=function(t){return null!==t&&"object"===o()(t)&&null!=t[f]},d=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];y.id&&(y.pause=t)},b=function(t){var n=l[t];if(n.running)throw y.id&&h(y.id),console.error("Bad observer",n.fn),new Error("Bad recursion detected in observer");n.previousObserverId=y.id,n.previousObserverPause=y.pause,y.pause=!1,y.id=t,n.running=!0},h=function(t){var n=l[t];n.running=!1,y.id=n.previousObserverId,y.pause=n.previousObserverPause},y={id:null,pause:!1};function _(t){var n=l[t];n.autoStart&&b(t),n.fn(d),n.autoStart&&h(t)}var m=function(t){var n=t[a];if(n){var e=n();N(e.parent,e.key)}},O=function(t){l[t].targetObserverIdSets.forEach((function(n){delete n[t]}))};function j(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=s();return l[r]={running:!1,autoStart:e,previousObserverId:null,previousObserverPause:!1,notifyInBatches:n,fn:t,targetObserverIdSets:[]},e&&_(r),r}var g=function(t,n){var e=p[t.__observableId],r=e.propObserverIdSetMap,o=e.propGetterMap;delete t[n],delete o[n],delete r[n],m(t)},x=function(t,n){return p[t.__observableId].propGetterMap[n]()},S=Array.prototype,k=Object.create(S);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var n=S[t];k[t]=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i,u=n.apply(this,r),c=this[a](),s=c.parent,f=c.key;switch(t){case"push":case"unshift":i=r;break;case"splice":i=r.slice(2)}return i&&w(s,f,i),N(s,f),u}}));var w=function(t,n,e){t.__proto__=k;for(var r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];t[i]=P(t[i],n,e)}return t},P=function(t,n,e){var r=!1;return Array.isArray(t)?(t=w(t,n,e),r=!0):u()(t)&&(t=A(t,n,e),r=!0),r&&Object.defineProperty(t,a,{configurable:!0,value:function(){return{parent:e,key:n}}}),t},I=function(t,n,e){if(t[a]&&void 0===t[f])return t[n]=P(e,n,t),void m(t);var r=p[t.__observableId],o=r.propObserverIdSetMap,i=r.propGetterMap;if(i[n])t[n]=e;else{var u=Object.getOwnPropertyDescriptor(t,n);if(!u||!1!==u.configurable){var c=u&&u.get,s=u&&u.set;i[n]=function(){return c?c.call(t):e};var v=o[n]=o[n]||{},d=n[0],b="$"!==d&&"_"!==d;e=b?P(e,n,t):e,Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){var n=c?c.call(t):e;if(y.pause)return n;var r=y.id;return!r||v[r]?n:(v[r]=!0,l[r].targetObserverIdSets.push(v),n)}}),Object.defineProperty(t,n,{set:function(r){(c?c.call(t):e)!==r&&(r=b?P(r,n,t):r,s?s.call(t,r):e=r,E(Object.keys(v)))}}),m(t)}}};function A(t,n,e){if(v(t))return t;if(Array.isArray(t))throw new Error("Array object cannot be a root observable");var r=s();p[r]={propObserverIdSetMap:{},propGetterMap:{}},Object.defineProperty(t,f,{value:r});for(var o=0,i=Object.keys(t);o<i.length;o++){var u=i[o];I(t,u,t[u])}return t}var M={},F=0,E=function(t){var n=F++,e=!0;T.count>0&&(e=!1);var r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var s=u.value;null==M[s]&&(M[s]=n)}}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}var a=!0,f=!1,p=void 0;try{for(var v,d=t[Symbol.iterator]();!(a=(v=d.next()).done);a=!0){var b=v.value,h=l[b].notifyInBatches;if(e||!0===h||h===T.batchId){if(M[b]!==n)continue;_(b)}else-1===T.observerIds.indexOf(b)&&T.observerIds.push(b);delete M[b]}}catch(t){f=!0,p=t}finally{try{a||null==d.return||d.return()}finally{if(f)throw p}}};function N(t,n){var e=p[t.__observableId].propObserverIdSetMap[n];E(Object.keys(e))}var T={count:0,observerIds:[],batchId:null},U=function(t){var n=W();t(),L(n)},W=function(t){var n=T.batchId;return T.count++,T.batchId=t,n},L=function(t){if(0!==T.count){if(T.count--,0===T.count){var n=T.observerIds;T.observerIds=[],E(n)}T.batchId=t}},D=0,K=function(t){for(var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e="computation-"+D++,r={},o=Object.keys(t),i=0,u=o;i<u.length;i++){var c=u[i];r[c]=null}r=A(r);for(var s=[],a=!1,l=function(){if(!a){var t=!0,n=!1,e=void 0;try{for(var r,o=s[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;O(i)}}catch(t){n=!0,e=t}finally{try{t||null==o.return||o.return()}finally{if(n)throw e}}a=!0}},v=function(){var o=b[d],i=!0;s.push(j((function(u){var c;n&&(c=W(e)),r[o]=t[o](r,p[r[f]].propGetterMap[o](),o,u,i),n&&L(c)}),e)),i=!1},d=0,b=o;d<b.length;d++)v();return[r,l]},C=function t(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=n;if(Array.isArray(n)){r=[];var o=!0,i=!1,u=void 0;try{for(var c,s=n[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var a=c.value;e&&(a=t(a,e)),r.push(a)}}catch(t){i=!0,u=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}}else if(v(n)){r={};for(var f=0,l=Object.keys(n);f<l.length;f++){var p=l[f],d=n[p];e&&(d=t(d,e)),r[p]=d}}return r}},kekF:function(t,n){t.exports=function(t,n){return function(e){return t(n(e))}}},lSNA:function(t,n){t.exports=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}},lwsE:function(t,n){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},nmnc:function(t,n,e){var r=e("Kz5y").Symbol;t.exports=r},skXF:function(t,n,e){"use strict";e.r(n);var r=e("P+Ts");e.d(n,"setAloCore",(function(){return r.d})),e.d(n,"Observer",(function(){return r.b})),e.d(n,"ObserverListItem",(function(){return r.c})),e.d(n,"ConnectedComponent",(function(){return r.a}))},yLpj:function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e}})}));
//# sourceMappingURL=redom.js.map