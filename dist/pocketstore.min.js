var PocketStore=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){var n=function(t){"object"!=typeof t&&(t={}),this.protected={state:t,publicState:{},subscriptions:[]},this._synchronize()};n.prototype._synchronize=function(){this.protected.publicState=this._cloneObject(this.protected.state)},n.prototype._publish=function(t,e){var n=this;n._synchronize(),n.protected.subscriptions.forEach(function(r){n._callSubscription(r,t,e)})},n.prototype._setState=function(t,e,n){var r=this;if("undefined"==typeof n&&(n=r.protected.state),"string"!=typeof e){if(e.length>1){var o=e[0];return null==n[o]&&(n[o]={}),e.shift(),r._setState(t,e,n[o])}1===e.length?n[e[0]]=t:n=t}},n.prototype._getStateByNamespace=function(t,e){var n=this;return"undefined"==typeof e&&(e=n.protected.state),t=n._getPreparedNamespace(t),t.forEach(function(t){null==e[t]&&(e[t]={}),e=e[t]}),e},n.prototype._getPreparedNamespace=function(t){switch(typeof t){case"string":t=t.split(".");break;case"undefined":t=[]}return t},n.prototype._callSubscription=function(t,e,n){var r=this;if(null!=t){var o=r._getStateByNamespace(t.namespace);if(null!=t.namespace)if(e=r._getPreparedNamespace(e),e.length>0){var c=e.every(function(e,n){return null==t.namespace[n]||t.namespace[n]===e});c&&t.callbackFunction.call(null,r._cloneObject(o),n)}else t.callbackFunction.call(null,r._cloneObject(o),n);else t.callbackFunction.call(null,r._cloneObject(o),n)}return r},n.prototype._cloneObject=function(t){var e=null;e=this._isArray(t)?[]:{};for(var n in t)"object"==typeof t[n]&&null!=t[n]?e[n]=this._cloneObject(t[n]):e[n]=t[n];return e},n.prototype._getDispatcher=function(t){var e=this;return function(n,r){"object"==typeof n&&null!=n&&e._setState(n,e._cloneObject(t)),e._publish(t,r)}},n.prototype._isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.prototype.yt=n.prototype.yet=function(t){return t=this._getExtendedNamespace(t),this._getStateByNamespace(t,this.protected.publicState)},n.prototype._getNamespace=function(){return[]},n.prototype._getExtendedNamespace=function(t){var e=this,n=e._getNamespace();return t=e._getPreparedNamespace(t),n.concat(t)},n.prototype.ss=n.prototype.subscribe=function(t,e){var r=this,o={namespace:r._cloneObject(r._getExtendedNamespace(e))},c=null;c=t instanceof n?function(){t.dispatch()}:t,o.callbackFunction=c;var a=r.protected.subscriptions.push(o);a--;var p=function(){this.id=a,this.protected=r.protected};return p.prototype=Object.create(n.prototype),p.prototype.constructor=p,p.prototype.remember=function(){return r._callSubscription(r.protected.subscriptions[a]),r},p.prototype._getNamespace=function(){return o.namespace},new p},n.prototype.us=n.prototype.unsubscribe=function(t){return this.protected.subscriptions[t.id]=null,this},n.prototype.dp=n.prototype.dispatch=function(t,e){var n=this;e=n._getExtendedNamespace(e);var r=n._getStateByNamespace(e);r=n._cloneObject(r);var o=n._getDispatcher(e),c=function(e){if("function"==typeof t)switch(t.length){case 0:o(t());break;case 1:o(t(r));break;default:t(r,o)}};switch(console.log(t),typeof t){case"function":c(t);break;case"object":n._isArray(t)&&t.forEach(function(t){c(t)});break;case"string":o(null,t);break;default:o()}return this},t.exports=n}]);
//# sourceMappingURL=./dist/pocketstore.min.js.map